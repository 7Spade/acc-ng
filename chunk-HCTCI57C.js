import{c as ot,d as jn,e as tr,f as nr,g as ir,h as or,i as $n,l as ar,m as rr}from"./chunk-4UO6XDXT.js";import"./chunk-2CRNV5WR.js";import"./chunk-VAGS5EVQ.js";import{a as Fi,b as Oi}from"./chunk-RIRDUOQH.js";import{a as Qa}from"./chunk-IRZAGMVM.js";import{a as Qe,c as Pi,d as Ii}from"./chunk-RCA6GJP6.js";import{c as lr}from"./chunk-B57VDYTT.js";import"./chunk-AHSNSVAJ.js";import{d as Ae}from"./chunk-7DMEVPXU.js";import{$ as Re,A as vt,Ab as it,Ba as De,C as zt,Cb as At,D as Ea,Da as Tt,E as ka,Ea as La,F as bt,Fa as Ga,G as ln,Ga as Et,H as we,I as sn,Ia as ye,J as Je,Ja as ve,Ka as tt,La as cn,Ma as pn,Na as dn,Oa as un,P as St,Pa as Te,Q as xe,Qa as Ha,R as xi,Ra as nt,S as yi,V as vi,Va as kt,Xa as qa,Y as zi,Ya as Ua,Z as wt,Za as Xa,_ as bi,_a as Nt,aa as Si,ab as Za,ba as wi,bb as Ya,cb as Ft,da as Mi,db as Ka,e as on,ea as Di,eb as Ot,f as ut,fa as Me,g as xt,h as an,ha as Ti,hb as Pt,ia as Le,j as hi,ja as Na,ka as Fa,kb as It,l as yt,la as Oa,m as rn,ma as Pa,mb as Bt,na as Ia,nb as Ei,o as Ma,oa as Ba,pa as Va,pb as Vt,qa as et,r as Da,sa as Mt,sb as Ja,ta as Wa,ua as Aa,v as Ta,va as Dt,w as Se,wb as ki,x as Ke,xa as mn,xb as Ni,yb as Wt,za as Ra,zb as er}from"./chunk-F3QUAT7C.js";import{$ as J,$a as uo,$b as ce,Aa as oa,Ab as la,Ac as K,Ag as xa,Ah as za,B as Kt,Bb as gt,Bc as A,Bh as ba,C as ta,Cb as pt,Cc as da,Cd as Ca,Db as dt,Ea as l,Ec as ua,Eh as Sa,F as Ze,G as ni,Gc as li,Gd as ha,Hb as I,Hc as si,Hd as tn,I as _e,Ia as oi,Ib as ke,Ic as mi,J as Jt,Jb as F,Jg as di,Kb as be,L as po,La as b,Lb as sa,Lc as ga,Lh as fi,Ma as L,Mb as m,N as Ce,Nb as z,Nc as fa,Ob as T,Oh as ht,Pa as Ie,Pb as ma,Pc as E,Pd as nn,Qb as H,Ra as C,Rb as Q,Rh as _i,Sb as q,Sh as Ci,Ta as oe,Td as pi,U as st,Ua as Rn,V as na,Vh as wa,Wb as go,Xb as Gn,Za as aa,_a as Lt,_b as ai,aa as R,ab as g,ac as Be,b as Jo,ba as ii,bc as ri,cb as f,cc as ca,ci as Ge,da as _,db as fe,di as je,eb as ra,ec as w,eg as se,ei as ja,f as ea,fb as j,fc as D,fg as ee,fi as $a,gb as $,gc as Gt,gg as ae,hb as p,hg as re,hi as $e,ia as x,ib as a,ic as B,ih as ui,ii as He,ja as y,jb as r,jc as pa,jh as gi,kb as d,kh as We,lb as de,mb as ue,mc as Ne,na as An,ng as ft,oa as ia,ob as O,og as Ve,pa as X,pb as P,qb as Ln,rb as S,s as U,t as Xe,ta as Ee,td as _a,ua as Oe,ub as v,ud as ci,ug as _t,va as en,vh as ya,w as Z,wg as Ye,wh as va,xb as c,xg as he,yb as mt,za as Pe,zb as ct,zc as Y,zh as Ct}from"./chunk-M3PFIUVU.js";import{a as pe,b as ti}from"./chunk-57BLH6QZ.js";function Lr(t,i){if(t&1&&(O(0),a(1,"h4",2),m(2),r(),P()),t&2){let e=c();l(2),z(e.title)}}function Gr(t,i){t&1&&d(0,"nz-skeleton")}var jr=41,Hn=(()=>{class t extends Qe{title;color="rgba(24, 144, 255, 0.85)";height=0;padding="auto";data=[];autoLabel=!0;interaction="none";clickItem=new oe;getHeight(){return this.title?this.height-jr:this.height}install(){let{node:e,padding:n,interaction:o,theme:s}=this,u=e.nativeElement,h=this._chart=new this.winG2.Chart({container:u,autoFit:!0,height:this.getHeight(),padding:n,theme:s});this.updatelabel(),h.axis("y",{title:null,line:null,tickLine:null}),h.scale({x:{type:"cat"},y:{min:0}}),h.tooltip({showTitle:!1}),o!=="none"&&h.interaction(o),h.legend(!1),h.interval().position("x*y").color("x*y",(k,W)=>{let M=this.data.find(N=>N.x===k&&N.y===W);return M&&M.color?M.color:this.color}).tooltip("x*y",(k,W)=>({name:k,value:W})),h.on("interval:click",k=>{this.ngZone.run(()=>this.clickItem.emit({item:k.data?.data,ev:k}))}),this.ready.next(h),this.changeData(),h.render(),this.installResizeEvent()}changeData(){let{_chart:e,data:n}=this;!e||!Array.isArray(n)||n.length<=0||e.changeData(n)}updatelabel(){let{node:e,data:n,_chart:o}=this,s=e.nativeElement.clientWidth,u=n.length*30;o.axis("x",s>u).render()}installResizeEvent(){!this.autoLabel||this.resize$||(this.resize$=Kt(window,"resize").pipe(na(this.destroy$),Ze(()=>!!this._chart),Jt(200)).subscribe(()=>this.ngZone.runOutsideAngular(()=>this.updatelabel())))}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Oe(t)))(o||t)}})();static \u0275cmp=b({type:t,selectors:[["g2-bar"]],hostVars:2,hostBindings:function(n,o){n&2&&ke("height",o.height,"px")},inputs:{title:"title",color:"color",height:[2,"height","height",A],padding:"padding",data:"data",autoLabel:[2,"autoLabel","autoLabel",K],interaction:"interaction"},outputs:{clickItem:"clickItem"},exportAs:["g2Bar"],features:[Ie],decls:4,vars:2,consts:[["container",""],[4,"nzStringTemplateOutlet"],[2,"margin-bottom","20px"]],template:function(n,o){n&1&&(C(0,Lr,3,1,"ng-container",1),g(1,Gr,1,0,"nz-skeleton"),d(2,"div",null,0)),n&2&&(p("nzStringTemplateOutlet",o.title),l(),f(o.loaded?-1:1))},dependencies:[ae,Ge],encapsulation:2,changeDetection:0})}return t})(),$r=[Hn],Bi=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=L({type:t});static \u0275inj=R({imports:[E,re,je,$r]})}return t})();var Hr=["*"],Qr=()=>({padding:"20px 24px 8px 24px"});function qr(t,i){if(t&1&&(O(0),m(1),P()),t&2){let e=c();l(),z(e.avatar)}}function Ur(t,i){if(t&1&&(O(0),m(1),P()),t&2){let e=c(2);l(),z(e.title)}}function Xr(t,i){if(t&1&&(a(0,"span",7),C(1,Ur,2,1,"ng-container",4),r()),t&2){let e=c();l(),p("nzStringTemplateOutlet",e.title)}}function Zr(t,i){if(t&1&&(O(0),m(1),P()),t&2){let e=c(2);l(),z(e.action)}}function Yr(t,i){if(t&1&&(a(0,"span",8),C(1,Zr,2,1,"ng-container",4),r()),t&2){let e=c();l(),p("nzStringTemplateOutlet",e.action)}}function Kr(t,i){if(t&1&&d(0,"p",9),t&2){let e=c();p("innerHTML",e.total,Pe)}}function Jr(t,i){if(t&1&&(O(0),m(1),P()),t&2){let e=c(2);l(),z(e.footer)}}function el(t,i){if(t&1&&(a(0,"div",11),C(1,Jr,2,1,"ng-container",4),r()),t&2){let e=c();l(),p("nzStringTemplateOutlet",e.footer)}}var fo=(()=>{class t{cdr=_(Y);bordered=!1;avatar;title;action;total="";_height="auto";_orgHeight;set contentHeight(e){this._orgHeight=e,this._height=typeof e=="number"?this._height=`${e}px`:e}footer;loading=!1;ngOnChanges(){this.cdr.detectChanges()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=b({type:t,selectors:[["g2-card"]],hostVars:2,hostBindings:function(n,o){n&2&&F("g2-card",!0)},inputs:{bordered:[2,"bordered","bordered",K],avatar:"avatar",title:"title",action:"action",total:"total",contentHeight:"contentHeight",footer:"footer",loading:[2,"loading","loading",K]},exportAs:["g2Card"],features:[Ee],ngContentSelectors:Hr,decls:14,vars:13,consts:[[3,"nzBodyStyle","nzBordered"],[3,"nzSpinning"],[1,"g2-card__top"],[1,"g2-card__avatar"],[4,"nzStringTemplateOutlet"],[1,"g2-card__meta-wrap"],[1,"g2-card__meta"],[1,"g2-card__meta-title"],[1,"g2-card__meta-action"],[1,"g2-card__total",3,"innerHTML"],[1,"g2-card__desc"],[1,"g2-card__footer"]],template:function(n,o){n&1&&(mt(),a(0,"nz-card",0)(1,"nz-spin",1)(2,"div",2)(3,"div",3),C(4,qr,2,1,"ng-container",4),r(),a(5,"div",5)(6,"div",6),g(7,Xr,2,1,"span",7),g(8,Yr,2,1,"span",8),r(),g(9,Kr,1,1,"p",9),r()(),a(10,"div",10)(11,"div"),ct(12),r()(),g(13,el,2,1,"div",11),r()()),n&2&&(p("nzBodyStyle",ce(12,Qr))("nzBordered",o.bordered),l(),p("nzSpinning",o.loading),l(3),p("nzStringTemplateOutlet",o.avatar),l(3),f(o.title?7:-1),l(),f(o.action?8:-1),l(),f(o.total?9:-1),l(),ke("height",o._height),l(),F("g2-card__fixed",!!o._orgHeight),l(2),f(o.footer?13:-1))},dependencies:[$e,Ti,ae],encapsulation:2,changeDetection:0})}return t})(),tl=[fo],mr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=L({type:t});static \u0275inj=R({imports:[E,He,Le,re,tl]})}return t})();var il=t=>({left:t}),cr=t=>({"background-color":t}),ol=(t,i,e)=>({"background-color":t,width:i,height:e}),pr=(()=>{class t{locale=_(_i).valueSignal("miniProgress");cdr=_(Y);color="#1890FF";target;percent;strokeWidth;fixNum(e){return Math.min(Math.max(A(e),0),100)}ngOnChanges(){this.target=this.fixNum(this.target),this.percent=this.fixNum(this.percent),this.cdr.detectChanges()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=b({type:t,selectors:[["g2-mini-progress"]],hostVars:2,hostBindings:function(n,o){n&2&&F("g2-mini-progress",!0)},inputs:{color:"color",target:[2,"target","target",A],percent:[2,"percent","percent",A],strokeWidth:[2,"strokeWidth","strokeWidth",A]},exportAs:["g2MiniProgress"],features:[Ee],decls:5,vars:19,consts:[["nz-tooltip","",1,"g2-mini-progress__target",3,"nzTooltipTitle"],[1,"g2-mini-progress__target-item"],[1,"g2-mini-progress__wrap"],[1,"g2-mini-progress__value"]],template:function(n,o){n&1&&(a(0,"div",0),d(1,"span",1)(2,"span",1),r(),a(3,"div",2),d(4,"div",3),r()),n&2&&(be(Be(9,il,o.target+"%")),p("nzTooltipTitle",o.locale().targetSuffix+o.target+"%"),l(),be(Be(11,cr,o.color)),l(),be(Be(13,cr,o.color)),l(2),be(ca(15,ol,o.color,o.percent+"%",o.strokeWidth+"px")))},dependencies:[sn],encapsulation:2,changeDetection:0})}return t})();var dr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=L({type:t});static \u0275inj=R({imports:[E,Ci,Je]})}return t})();function rl(t,i){if(t&1&&(O(0),m(1),P()),t&2){let e=c(2);l(),z(e.title)}}function ll(t,i){if(t&1&&(a(0,"div",0),C(1,rl,2,1,"ng-container",4),r()),t&2){let e=c();l(),p("nzStringTemplateOutlet",e.title)}}function sl(t,i){if(t&1&&(O(0),m(1),P()),t&2){let e=c(2);l(),z(e.subTitle)}}function ml(t,i){if(t&1&&(a(0,"div",1),C(1,sl,2,1,"ng-container",4),r()),t&2){let e=c();l(),p("nzStringTemplateOutlet",e.subTitle)}}function cl(t,i){if(t&1&&(O(0),m(1),P()),t&2){let e=c();l(),z(e.total)}}function pl(t,i){if(t&1&&(a(0,"em",5),m(1),r()),t&2){let e=c();l(),z(e.suffix)}}function dl(t,i){if(t&1&&(O(0),m(1),P()),t&2){let e=c(2);l(),z(e.subTotal)}}function ul(t,i){if(t&1&&d(0,"nz-icon",7),t&2){let e=c(2);p("nzType",Gn("caret-",e.status))}}function gl(t,i){if(t&1&&(a(0,"span",6),C(1,dl,2,1,"ng-container",4),g(2,ul,1,2,"nz-icon",7),r()),t&2){let e=c();l(),p("nzStringTemplateOutlet",e.subTotal),l(),f(e.status?2:-1)}}var Vi=(()=>{class t{title;subTitle;total;subTotal;suffix;status;theme="light";gap=8;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=b({type:t,selectors:[["number-info"]],hostVars:6,hostBindings:function(n,o){n&2&&F("number-info",!0)("number-info__light",o.theme==="light")("number-info__default",o.theme==="default")},inputs:{title:"title",subTitle:"subTitle",total:"total",subTotal:"subTotal",suffix:"suffix",status:"status",theme:"theme",gap:[2,"gap","gap",A]},exportAs:["numberInfo"],decls:7,vars:7,consts:[[1,"number-info__title"],[1,"number-info__title-sub"],[1,"number-info__value"],[1,"number-info__value-text"],[4,"nzStringTemplateOutlet"],[1,"number-info__value-suffix"],[1,"number-info__value-text","number-info__value-sub"],[3,"nzType"]],template:function(n,o){n&1&&(g(0,ll,2,1,"div",0),g(1,ml,2,1,"div",1),a(2,"div",2)(3,"span",3),C(4,cl,2,1,"ng-container",4),g(5,pl,2,1,"em",5),r(),g(6,gl,3,2,"span",6),r()),n&2&&(f(o.title?0:-1),l(),f(o.subTitle?1:-1),l(),ke("margin-top",o.gap,"px"),l(2),p("nzStringTemplateOutlet",o.total),l(),f(o.suffix?5:-1),l(),f(o.status||o.subTotal?6:-1))},dependencies:[ae,se],encapsulation:2,changeDetection:0})}return t})();var Wi=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=L({type:t});static \u0275inj=R({imports:[E,ee,re]})}return t})();var fl=t=>({"background-color":t});function _l(t,i){t&1&&d(0,"nz-skeleton")}function Cl(t,i){if(t&1&&(O(0),d(1,"div",7),P()),t&2){let e=c(3);l(),p("innerHTML",e.subTitle,Pe)}}function hl(t,i){if(t&1&&(a(0,"h4",4),C(1,Cl,2,1,"ng-container",6),r()),t&2){let e=c(2);l(),p("nzStringTemplateOutlet",e.subTitle)}}function xl(t,i){if(t&1&&(O(0),d(1,"div",7),P()),t&2){let e=c(3);l(),p("innerHTML",e.total,Pe)}}function yl(t,i){if(t&1&&(a(0,"div",5),C(1,xl,2,1,"ng-container",6),r()),t&2){let e=c(2);l(),p("nzStringTemplateOutlet",e.total)}}function vl(t,i){if(t&1&&(a(0,"div",2),g(1,hl,2,1,"h4",4),g(2,yl,2,1,"div",5),r()),t&2){let e=c();l(),f(e.subTitle?1:-1),l(),f(e.total?2:-1)}}function zl(t,i){if(t&1){let e=S();a(0,"li",9),v("click",function(){let o=x(e).$index,s=c(2);return y(s._click(o))}),d(1,"span",10),a(2,"span",11),m(3),r(),d(4,"nz-divider",12),a(5,"span",13),m(6),r(),d(7,"span",14),r()}if(t&2){let e=i.$implicit,n=c(2);l(),be(Be(5,fl,e.checked?e.color:"#aaa")),l(2),z(e.x),l(3),T("",e.percent,"%"),l(),p("innerHTML",n.valueFormat?n.valueFormat(e.y):e.y,Pe)}}function bl(t,i){if(t&1&&(a(0,"ul",3),j(1,zl,8,7,"li",8,fe),r()),t&2){let e=c();l(),$(e.legendData)}}var Qn=(()=>{class t extends Qe{percentColor;legendData=[];isPercent=!1;animate=!0;color="rgba(24, 144, 255, 0.85)";subTitle;total;height=0;hasLegend=!1;inner=.75;padding=[12,0,12,0];percent;tooltip=!0;lineWidth=0;blockMaxWidth=380;select=!0;valueFormat;data=[];colors;interaction="none";ratio={text:"\u5360\u6BD4",inverse:"\u53CD\u6BD4",color:"",inverseColor:"#F0F2F5"};clickItem=new oe;block=!1;fixData(){let{percent:e,color:n}=this;if(this.isPercent=e!=null,!this.isPercent)return;this.select=!1,this.tooltip=!1;let{text:o,inverse:s,color:u,inverseColor:h}=this.ratio;this.percentColor=k=>k===o?u||n:h,this.data=[{x:o,y:e},{x:s,y:100-e}]}updateBlock(){this.block=this._chart&&this.hasLegend&&this.el.nativeElement.clientWidth<=this.blockMaxWidth,this.cdr.detectChanges()}install(){let{node:e,height:n,padding:o,tooltip:s,inner:u,hasLegend:h,interaction:k,theme:W,animate:M,lineWidth:N,isPercent:le,percentColor:te,colors:ge}=this,me=this._chart=new this.winG2.Chart({container:e.nativeElement,autoFit:!0,height:n,padding:o,theme:W});me.animate(M),s?me.tooltip({showTitle:!1,showMarkers:!1}):me.tooltip(!1),k!=="none"&&me.interaction(k),me.axis(!1).legend(!1).coordinate("theta",{innerRadius:u}),me.filter("x",(Fe,G)=>G.checked!==!1),me.interval().adjust("stack").position("y").style({lineWidth:N,stroke:"#fff"}).color("x",le?te:ge).tooltip("x*percent",(Fe,G)=>({name:Fe,value:`${h?G:(G*100).toFixed(2)} %`})).state({}),me.scale({x:{type:"cat",range:[0,1]}}),me.on("interval:click",Fe=>{this.ngZone.run(()=>this.clickItem.emit({item:Fe.data?.data,ev:Fe}))}).on("afterrender",()=>{this.ngZone.run(()=>this.updateBlock())}),this.ready.next(me),this.changeData(),me.render()}changeData(){let{_chart:e,data:n}=this;if(!e||!Array.isArray(n)||n.length<=0)return;let o=n.reduce((s,u)=>s+u.y,0);for(let s of n)s.percent=o===0?0:s.y/o;e.changeData(n),this.ngZone.run(()=>this.genLegend())}genLegend(){let{hasLegend:e,isPercent:n,cdr:o,_chart:s}=this;!e||n||(this.legendData=s.geometries[0].dataArray.map(u=>{let h=u[0]._origin;return h.color=u[0].color,h.checked=!0,h.percent=(h.percent*100).toFixed(2),h}),o.detectChanges())}_click(e){let{legendData:n,_chart:o}=this;n[e].checked=!n[e].checked,o.render(!0)}onChanges(){this.fixData()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Oe(t)))(o||t)}})();static \u0275cmp=b({type:t,selectors:[["g2-pie"]],hostVars:8,hostBindings:function(n,o){n&2&&F("g2-pie",!0)("g2-pie__legend-has",o.hasLegend)("g2-pie__legend-block",o.block)("g2-pie__mini",o.isPercent)},inputs:{animate:[2,"animate","animate",K],color:"color",subTitle:"subTitle",total:"total",height:[2,"height","height",A],hasLegend:[2,"hasLegend","hasLegend",K],inner:"inner",padding:"padding",percent:[2,"percent","percent",A],tooltip:[2,"tooltip","tooltip",K],lineWidth:[2,"lineWidth","lineWidth",A],blockMaxWidth:[2,"blockMaxWidth","blockMaxWidth",A],select:[2,"select","select",K],valueFormat:"valueFormat",data:"data",colors:"colors",interaction:"interaction",ratio:"ratio"},outputs:{clickItem:"clickItem"},exportAs:["g2Pie"],features:[Ie],decls:6,vars:3,consts:[["container",""],[1,"g2-pie__chart"],[1,"g2-pie__total"],[1,"g2-pie__legend"],[1,"g2-pie__total-title"],[1,"g2-pie__total-stat"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"],[1,"g2-pie__legend-item"],[1,"g2-pie__legend-item",3,"click"],[1,"g2-pie__legend-dot"],[1,"g2-pie__legend-title"],["nzType","vertical"],[1,"g2-pie__legend-percent"],[1,"g2-pie__legend-value",3,"innerHTML"]],template:function(n,o){n&1&&(g(0,_l,1,0,"nz-skeleton"),a(1,"div",1),d(2,"div",null,0),g(4,vl,3,2,"div",2),r(),g(5,bl,3,0,"ul",3)),n&2&&(f(o.loaded?-1:0),l(4),f(o.subTitle||o.total?4:-1),l(),f(o.hasLegend&&o.legendData.length>0?5:-1))},dependencies:[Ge,ae,St],encapsulation:2,changeDetection:0})}return t})(),Sl=[Qn],Ai=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=L({type:t});static \u0275inj=R({imports:[E,xe,re,je,Sl]})}return t})();function wl(t,i){if(t&1&&(O(0),a(1,"h4"),m(2),r(),P()),t&2){let e=c();l(2),z(e.title)}}function Ml(t,i){t&1&&d(0,"nz-skeleton")}var qn=(()=>{class t extends Qe{title;maxAxis=2;data=[];titleMap;colorMap={y1:"#5B8FF9",y2:"#5AD8A6",y3:"#5D7092",y4:"#F6BD16",y5:"#E86452"};mask="HH:mm";maskSlider="HH:mm";position="top";height=450;padding=[40,8,64,40];borderWidth=2;slider=!0;clickItem=new oe;onlyChangeData=e=>{let n=e.titleMap;return!(n&&!n.firstChange&&n.currentValue!==n.previousValue)};install(){let{node:e,height:n,padding:o,slider:s,maxAxis:u,theme:h,maskSlider:k}=this,W=this._chart=new this.winG2.Chart({container:e.nativeElement,autoFit:!0,height:n,padding:o,theme:h});W.axis("time",{title:null}),W.axis("y1",{title:null});for(let N=2;N<=u;N++)W.axis(`y${N}`,!1);W.line().position("time*y1");for(let N=2;N<=u;N++)W.line().position(`time*y${N}`);W.tooltip({showCrosshairs:!0,shared:!0});let M=pe(pe({},[]),o);M[0]=0,s&&W.option("slider",{height:26,start:0,end:1,trendCfg:{isArea:!1},minLimit:2,formatter:N=>di(N,k)}),W.on("plot:click",N=>{let le=this._chart.getSnapRecords({x:N.x,y:N.y});this.ngZone.run(()=>this.clickItem.emit({item:le[0]._origin,ev:N}))}),W.on("legend-item:click",N=>{let le=N?.target?.get("delegateObject").item,te=le?.id,ge=W.geometries.find(me=>me.getAttribute("position").getFields()[1]===te);ge&&ge.changeVisible(!le.unchecked)}),this.ready.next(W),this.changeData(),W.render()}changeData(){let{_chart:e,height:n,padding:o,mask:s,titleMap:u,position:h,colorMap:k,borderWidth:W,maxAxis:M}=this,N=[...this.data];if(!e||N.length<=0)return;let le=[...Array(M)].map((G,ne)=>ne+1);e.legend({position:h,custom:!0,items:le.map(G=>{let ne=`y${G}`;return{id:ne,name:u[ne],value:ne,marker:{style:{fill:k[ne]}}}})}),e.geometries.forEach((G,ne)=>{G.color(k[`y${ne+1}`]).size(W)}),e.height=n,e.padding=o,N=N.map(G=>(G.time=ba(G.time),G._time=+G.time,G)).sort((G,ne)=>G._time-ne._time);let te=Math.max(...le.map(G=>[...N].sort((ne,Kn)=>Kn[`y${G}`]-ne[`y${G}`])[0][`y${G}`])),ge={};le.forEach(G=>{let ne=`y${G}`;ge[ne]={alias:u[ne],max:te,min:0}}),e.scale(pe({time:{type:"time",mask:s,range:[0,1]}},ge));let me={start:N[0]._time,end:N[N.length-1]._time},Fe=N.filter(G=>G._time>=me.start&&G._time<=me.end);e.changeData(Fe)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Oe(t)))(o||t)}})();static \u0275cmp=b({type:t,selectors:[["g2-timeline"]],inputs:{title:"title",maxAxis:[2,"maxAxis","maxAxis",A],data:"data",titleMap:"titleMap",colorMap:"colorMap",mask:"mask",maskSlider:"maskSlider",position:"position",height:[2,"height","height",A],padding:"padding",borderWidth:[2,"borderWidth","borderWidth",A],slider:[2,"slider","slider",K]},outputs:{clickItem:"clickItem"},exportAs:["g2Timeline"],features:[Ie],decls:4,vars:2,consts:[["container",""],[4,"nzStringTemplateOutlet"]],template:function(n,o){n&1&&(C(0,wl,3,1,"ng-container",1),g(1,Ml,1,0,"nz-skeleton"),d(2,"div",null,0)),n&2&&(p("nzStringTemplateOutlet",o.title),l(),f(o.loaded?-1:1))},dependencies:[ae,Ge],encapsulation:2,changeDetection:0})}return t})(),Dl=[qn],Ri=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=L({type:t});static \u0275inj=R({imports:[E,re,je,Dl]})}return t})();var Tl=["*"];function El(t,i){if(t&1&&(a(0,"span"),d(1,"nz-icon",1),r()),t&2){let e=c();sa(Gn("trend__",e.flag)),l(),p("nzType",Gn("caret-",e.flag))}}var _r=(()=>{class t{flag;colorful=!0;reverseColor=!1;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=b({type:t,selectors:[["trend"]],hostVars:7,hostBindings:function(n,o){n&2&&(Lt("data-flag",o.flag),F("trend",!0)("trend__grey",!o.colorful)("trend__reverse",o.colorful&&o.reverseColor))},inputs:{flag:"flag",colorful:[2,"colorful","colorful",K],reverseColor:[2,"reverseColor","reverseColor",K]},exportAs:["trend"],ngContentSelectors:Tl,decls:2,vars:1,consts:[[3,"class"],[3,"nzType"]],template:function(n,o){n&1&&(mt(),ct(0),g(1,El,2,5,"span",0)),n&2&&(l(),f(o.flag?1:-1))},dependencies:[se],encapsulation:2,changeDetection:0})}return t})();var Cr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=L({type:t});static \u0275inj=R({imports:[E,ee]})}return t})();var Pl=()=>({toTop:!1}),Il=()=>({"padding.px":24}),Bl=()=>({padding:"0 0 32px"}),Vl=()=>[0,0,0,0];function Wl(t,i){t&1&&(d(0,"i",43),w(1,"i18n")),t&2&&p("nzTooltipTitle",D(1,1,"app.analysis.introduce"))}function Al(t,i){t&1&&(a(0,"p",44),m(1),w(2,"i18n"),a(3,"span",45),m(4,"\uFFE512,423"),r()()),t&2&&(l(),T(" ",D(2,1,"app.analysis.day-sales")," "))}function Rl(t,i){t&1&&(d(0,"i",43),w(1,"i18n")),t&2&&p("nzTooltipTitle",D(1,1,"app.analysis.introduce"))}function Ll(t,i){if(t&1&&d(0,"g2-mini-area",22),t&2){let e=c();p("data",e.data.visitData)}}function Gl(t,i){t&1&&(a(0,"p",44),m(1),w(2,"i18n"),a(3,"span",45),m(4,"1,234"),r()()),t&2&&(l(),T(" ",D(2,1,"app.analysis.day-visits")," "))}function jl(t,i){t&1&&(d(0,"i",43),w(1,"i18n")),t&2&&p("nzTooltipTitle",D(1,1,"app.analysis.introduce"))}function $l(t,i){if(t&1&&d(0,"g2-mini-bar",24),t&2){let e=c();p("data",e.data.visitData)}}function Hl(t,i){t&1&&(a(0,"p",44),m(1),w(2,"i18n"),a(3,"span",45),m(4,"60%"),r()()),t&2&&(l(),T(" ",D(2,1,"app.analysis.conversion-rate")," "))}function Ql(t,i){t&1&&(d(0,"i",43),w(1,"i18n")),t&2&&p("nzTooltipTitle",D(1,1,"app.analysis.introduce"))}function ql(t,i){t&1&&(a(0,"div",46)(1,"trend",47),m(2),w(3,"i18n"),a(4,"span",19),m(5,"12%"),r()(),a(6,"trend",20),m(7),w(8,"i18n"),a(9,"span",19),m(10,"11%"),r()()()),t&2&&(l(2),T(" ",D(3,2,"app.analysis.week")," "),l(5),T(" ",D(8,4,"app.analysis.day")," "))}function Ul(t,i){if(t&1&&(a(0,"li")(1,"span",58),m(2),r(),a(3,"span",59),m(4),r(),a(5,"span",60),m(6),w(7,"number"),r()()),t&2){let e=i.$implicit,n=i.$index;l(),F("active",n<3),l(),z(n+1),l(2),z(e.title),l(2),z(Gt(7,5,e.total,"3.0"))}}function Xl(t,i){if(t&1&&(a(0,"div",50)(1,"div",51)(2,"div",52),d(3,"g2-bar",53),w(4,"i18n"),r()(),a(5,"div",54)(6,"div",55)(7,"h4",56),m(8),w(9,"i18n"),r(),a(10,"ul",57),j(11,Ul,8,8,"li",null,fe),r()()()()),t&2){let e=c().$implicit,n=c(2);l(3),p("title",D(4,3,"app.analysis."+e+"-trend"))("data",n.data.salesData),l(5),z(D(9,5,"app.analysis."+e+"-ranking")),l(3),$(n.rankingListData)}}function Zl(t,i){if(t&1&&(a(0,"nz-tab",48),w(1,"i18n"),C(2,Xl,13,7,"ng-template",49),r()),t&2){let e=i.$implicit;p("nzTitle",D(1,1,"app.analysis."+e))}}function Yl(t,i){if(t&1){let e=S();a(0,"span",65),v("click",function(){let o=x(e).$implicit,s=c(3);return y(s.setDate(o))}),m(1),w(2,"i18n"),r()}if(t&2){let e=i.$implicit,n=c(3);F("current-date",n.dateRangeType===e),l(),T(" ",D(2,3,"app.analysis.all-"+e)," ")}}function Kl(t,i){if(t&1){let e=S();a(0,"div",61)(1,"div",62),j(2,Yl,3,5,"span",63,fe),r(),a(4,"nz-range-picker",64),q("ngModelChange",function(o){x(e);let s=c(2);return Q(s.dateRange,o)||(s.dateRange=o),y(o)}),r()()}if(t&2){let e=c(2);l(2),$(e.dateRangeTypes),l(2),H("ngModel",e.dateRange)}}function Jl(t,i){if(t&1&&(a(0,"nz-tabs",28),j(1,Zl,3,3,"nz-tab",48,fe),C(3,Kl,5,1,"ng-template",null,11,B),r()),t&2){let e=I(4),n=c();p("nzTabBarExtraContent",e),l(),$(n.saleTabs)}}function es(t,i){if(t&1&&(d(0,"i",66),a(1,"nz-dropdown-menu",null,12)(3,"ul",67)(4,"li",68),m(5,"\u64CD\u4F5C\u4E00"),r(),a(6,"li",68),m(7,"\u64CD\u4F5C\u4E8C"),r()()()),t&2){let e=I(2);p("nzDropdownMenu",e)}}function ts(t,i){t&1&&(m(0),w(1,"i18n"),d(2,"i",69),w(3,"i18n")),t&2&&(T(" ",D(1,2,"app.analysis.search-users")," "),l(2),p("nzTooltipTitle",D(3,4,"app.analysis.introduce")))}function ns(t,i){if(t&1&&d(0,"g2-mini-area",34),t&2){let e=c();p("line",!0)("data",e.data.visitData2)}}function is(t,i){if(t&1&&d(0,"g2-mini-area",34),t&2){let e=c();p("line",!0)("data",e.data.visitData2)}}function os(t,i){if(t&1&&(a(0,"trend",70)(1,"span"),m(2),r()()),t&2){let e=i.$implicit;p("flag",e.status===1?"down":"up"),l(2),T("",e.range,"%")}}function as(t,i){if(t&1){let e=S();a(0,"nz-radio-group",64),q("ngModelChange",function(o){x(e);let s=c();return Q(s.salesType,o)||(s.salesType=o),y(o)}),v("ngModelChange",function(){x(e);let o=c();return y(o.changeSaleType())}),a(1,"label",71),m(2),w(3,"i18n"),r(),a(4,"label",71),m(5),w(6,"i18n"),r(),a(7,"label",71),m(8),w(9,"i18n"),r()(),d(10,"i",72),a(11,"nz-dropdown-menu",null,13)(13,"ul",67)(14,"li",68),m(15,"\u64CD\u4F5C\u4E00"),r(),a(16,"li",68),m(17,"\u64CD\u4F5C\u4E8C"),r()()()}if(t&2){let e=I(12),n=c();H("ngModel",n.salesType),l(),p("nzValue","all"),l(),T(" ",D(3,8,"app.analysis.channel.all")," "),l(2),p("nzValue","online"),l(),T(" ",D(6,10,"app.analysis.channel.online")," "),l(2),p("nzValue","offline"),l(),T(" ",D(9,12,"app.analysis.channel.stores")," "),l(2),p("nzDropdownMenu",e)}}function rs(t,i){if(t&1&&(d(0,"g2-pie",40),w(1,"i18n")),t&2){let e=c();p("data",e.salesPieData)("hasLegend",!0)("subTitle",D(1,7,"app.analysis.sales"))("height",248)("lineWidth",4)("total",e.salesTotal)("valueFormat",e.handlePieValueFormat)}}function ls(t,i){if(t&1&&(a(0,"div",74),d(1,"number-info",75),w(2,"i18n"),d(3,"g2-pie",76),r()),t&2){let e=c(),n=e.$implicit,o=e.$index,s=c(2);l(),p("title",n.name)("subTitle",D(2,11,"app.analysis.conversion-rate"))("total",n.cvr*100+"%")("theme",o!==s.offlineIdx?"light":"default"),l(2),p("animate",!1)("color",o!==s.offlineIdx?"#BDE4FF":"rgba(24, 144, 255, 0.85)")("inner",.55)("tooltip",!1)("padding",ce(13,Vl))("percent",n.cvr*100)("height",48)}}function ss(t,i){if(t&1&&(a(0,"div",77),d(1,"g2-timeline",78),r()),t&2){let e=c().$implicit,n=c(2);l(),p("data",e.chart)("titleMap",n.titleMap)}}function ms(t,i){if(t&1&&(a(0,"nz-tab",48),C(1,ls,4,14,"ng-template",null,14,B)(3,ss,2,2,"ng-template",49),r()),t&2){let e=I(2);p("nzTitle",e)}}function cs(t,i){if(t&1){let e=S();a(0,"nz-tabs",73),q("nzSelectedIndexChange",function(o){x(e);let s=c();return Q(s.offlineIdx,o)||(s.offlineIdx=o),y(o)}),v("nzSelectedIndexChange",function(o){x(e);let s=c();return y(s.offlineChange(o))}),j(1,ms,4,1,"nz-tab",48,fe),r()}if(t&2){let e=c();H("nzSelectedIndex",e.offlineIdx),l(),$(e.data.offlineData)}}var gn=class gn{constructor(){this.http=_(ht);this.msg=_(Ae);this.i18n=_(Sa);this.cdr=_(Y);this.data={};this.loading=!0;this.dateRange=[];this.dateRangeTypes=["today","week","month","year"];this.dateRangeType=this.dateRangeTypes[0];this.rankingListData=Array(7).fill({}).map((i,e)=>({title:this.i18n.fanyi("app.analysis.test",{no:e}),total:323234}));this.titleMap={y1:this.i18n.fanyi("app.analysis.traffic"),y2:this.i18n.fanyi("app.analysis.payments")};this.searchColumn=[{title:{text:"\u6392\u540D",i18n:"app.analysis.table.rank"},index:"index"},{title:{text:"\u641C\u7D22\u5173\u952E\u8BCD",i18n:"app.analysis.table.search-keyword"},index:"keyword",click:i=>this.msg.success(i.keyword)},{type:"number",title:{text:"\u7528\u6237\u6570",i18n:"app.analysis.table.users"},index:"count",sort:{compare:(i,e)=>i.count-e.count}},{type:"number",title:{text:"\u5468\u6DA8\u5E45",i18n:"app.analysis.table.weekly-range"},index:"range",render:"range",sort:{compare:(i,e)=>i.range-e.range}}];this.salesType="all";this.salesTotal=0;this.saleTabs=["sales","visits"];this.offlineIdx=0}ngOnInit(){this.http.get("/chart").subscribe(i=>{i.offlineData.forEach(e=>{e.chart=Ca(i.offlineChartData)}),this.data=i,this.loading=!1,this.changeSaleType()})}setDate(i){this.dateRange=za(i),this.dateRangeType=i,setTimeout(()=>this.cdr.detectChanges())}changeSaleType(){this.salesPieData=this.salesType==="all"?this.data.salesTypeData:this.salesType==="online"?this.data.salesTypeDataOnline:this.data.salesTypeDataOffline,this.salesPieData&&(this.salesTotal=this.salesPieData.reduce((i,e)=>e.y+i,0)),this.cdr.detectChanges()}handlePieValueFormat(i){return Qa(i)}offlineChange(i){this.data.offlineData[i].show!==!0&&(this.data.offlineData[i].show=!0,this.cdr.detectChanges())}};gn.\u0275fac=function(e){return new(e||gn)},gn.\u0275cmp=b({type:gn,selectors:[["app-dashboard-analysis"]],decls:73,vars:67,consts:[["action1",""],["footer1",""],["action2",""],["footer2",""],["action3",""],["footer3",""],["action4",""],["footer4",""],["extraOp",""],["subTitle",""],["extra",""],["extraTemplate",""],["extraOpMenu","nzDropdownMenu"],["salesExtraMenu","nzDropdownMenu"],["nzTabHeading",""],["nz-row","",1,"pt-lg",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","12","nzMd","12","nzLg","6"],["total","\xA5 126,560","contentHeight","44px",3,"title","action","footer"],["flag","up",2,"display","block","margin-top","2px"],[1,"pl-sm"],["flag","down"],["total","8,848","contentHeight","46px",3,"title","action","footer"],["color","#975FE4","height","46",3,"data"],["total","6,560","contentHeight","46px",3,"title","action","footer"],["height","46",3,"data"],["total","78%","contentHeight","46px",3,"title","action","footer"],["height","46","percent","78","strokeWidth","8","target","80","color","#13C2C2"],[1,"ant-card__body-nopadding","sales-card",3,"nzLoading","nzBordered"],[3,"nzTabBarExtraContent"],["nz-row","",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","12"],[1,"mb-0",3,"nzLoading","nzBordered","nzTitle","nzExtra"],["nz-col","","nzXs","24","nzSm","12",1,"mb-md"],["total","12,321","subTotal","17.1","status","up",3,"subTitle"],["height","45",3,"line","data"],["total","2.7","subTotal","26.2","status","down",3,"subTitle"],["size","small","ps","5",3,"data","columns","page"],["st-row","range"],[1,"sales-card","mb-0",2,"min-height","506.5px",3,"nzLoading","nzBordered","nzTitle","nzBodyStyle","nzExtra"],[1,"my-xl"],[3,"data","hasLegend","subTitle","height","lineWidth","total","valueFormat"],[1,"offline-card","mt-lg",3,"nzLoading","nzBordered","nzBodyStyle"],[3,"nzSelectedIndex"],["nz-tooltip","","nz-icon","","nzType","info-circle",3,"nzTooltipTitle"],[1,"text-truncate","mb0"],[1,"ml-sm"],[1,"d-flex","justify-content-between","text-truncate"],["flag","up"],[3,"nzTitle"],["nz-tab",""],["nz-row",""],["nz-col","","nzXs","24","nzSm","24","nzMd","12","nzLg","16"],[1,"bar"],["height","295",2,"width","100%",3,"title","data"],["nz-col","","nzXs","24","nzSm","24","nzMd","12","nzLg","8"],[1,"rank"],[1,"ranking-title"],[1,"rank-list"],[1,"number"],[1,"title"],[1,"value"],[1,"sales-extra-wrap"],[1,"sales-extra"],[3,"current-date"],[3,"ngModelChange","ngModel"],[3,"click"],["nz-dropdown","","nz-icon","","nzType","ellipsis",1,"icon-group",3,"nzDropdownMenu"],["nz-menu",""],["nz-menu-item",""],["nz-tooltip","","nz-icon","","nzType","info-circle",1,"ml-sm",3,"nzTooltipTitle"],[3,"flag"],["nz-radio-button","",3,"nzValue"],["nz-dropdown","","nzPlacement","bottomLeft","nz-icon","","nzType","ellipsis",1,"ml-md",3,"nzDropdownMenu"],[3,"nzSelectedIndexChange","nzSelectedIndex"],[1,"flex-center-between","px-md"],["gap","2",1,"mr-md",3,"title","subTitle","total","theme"],[2,"padding-top","36px","width","48px",3,"animate","color","inner","tooltip","padding","percent","height"],[1,"px-lg"],[3,"data","titleMap"]],template:function(e,n){if(e&1&&(a(0,"div",15)(1,"div",16)(2,"g2-card",17),w(3,"i18n"),C(4,Wl,2,3,"ng-template",null,0,B),a(6,"trend",18),m(7),w(8,"i18n"),a(9,"span",19),m(10,"12%"),r()(),a(11,"trend",20),m(12),w(13,"i18n"),a(14,"span",19),m(15,"11%"),r()(),C(16,Al,5,3,"ng-template",null,1,B),r()(),a(18,"div",16)(19,"g2-card",21),w(20,"i18n"),C(21,Rl,2,3,"ng-template",null,2,B),g(23,Ll,1,1,"g2-mini-area",22),C(24,Gl,5,3,"ng-template",null,3,B),r()(),a(26,"div",16)(27,"g2-card",23),w(28,"i18n"),C(29,jl,2,3,"ng-template",null,4,B),g(31,$l,1,1,"g2-mini-bar",24),C(32,Hl,5,3,"ng-template",null,5,B),r()(),a(34,"div",16)(35,"g2-card",25),w(36,"i18n"),C(37,Ql,2,3,"ng-template",null,6,B),d(39,"g2-mini-progress",26),C(40,ql,11,6,"ng-template",null,7,B),r()()(),a(42,"nz-card",27),g(43,Jl,5,1,"nz-tabs",28),r(),a(44,"div",29)(45,"div",30)(46,"nz-card",31),w(47,"i18n"),C(48,es,8,1,"ng-template",null,8,B),a(50,"div",29)(51,"div",32)(52,"number-info",33),C(53,ts,4,6,"ng-template",null,9,B),r(),g(55,ns,1,2,"g2-mini-area",34),r(),a(56,"div",32),d(57,"number-info",35),w(58,"i18n"),g(59,is,1,2,"g2-mini-area",34),r()(),a(60,"st",36),C(61,os,3,2,"ng-template",37),r()()(),a(62,"div",30)(63,"nz-card",38),w(64,"i18n"),C(65,as,18,14,"ng-template",null,10,B),a(67,"h4",39),m(68),w(69,"i18n"),r(),g(70,rs,2,9,"g2-pie",40),r()()(),a(71,"nz-card",41),g(72,cs,3,1,"nz-tabs",42),r()),e&2){let o=I(5),s=I(17),u=I(22),h=I(25),k=I(30),W=I(33),M=I(38),N=I(41),le=I(49),te=I(54),ge=I(66);p("nzGutter",24),l(2),p("title",D(3,44,"app.analysis.total-sales"))("action",o)("footer",s),l(5),T(" ",D(8,46,"app.analysis.week")," "),l(5),T(" ",D(13,48,"app.analysis.day")," "),l(7),p("title",D(20,50,"app.analysis.visits"))("action",u)("footer",h),l(4),f(n.data.visitData?23:-1),l(4),p("title",D(28,52,"app.analysis.payments"))("action",k)("footer",W),l(4),f(n.data.visitData?31:-1),l(4),p("title",D(36,54,"app.analysis.operational-effect"))("action",M)("footer",N),l(7),p("nzLoading",n.loading)("nzBordered",!1),l(),f(n.data.salesData?43:-1),l(),p("nzGutter",24),l(2),p("nzLoading",n.loading)("nzBordered",!1)("nzTitle",D(47,56,"app.analysis.online-top-search"))("nzExtra",le),l(4),p("nzGutter",64),l(2),p("subTitle",te),l(3),f(n.data.visitData2?55:-1),l(2),p("subTitle",D(58,58,"app.analysis.per-capita-search")),l(2),f(n.data.visitData2?59:-1),l(),p("data",n.data.searchData)("columns",n.searchColumn)("page",ce(64,Pl)),l(3),p("nzLoading",n.loading)("nzBordered",!1)("nzTitle",D(64,60,"app.analysis.the-proportion-of-sales"))("nzBodyStyle",ce(65,Il))("nzExtra",ge),l(5),z(D(69,62,"app.analysis.sales")),l(2),f(n.salesPieData?70:-1),l(),p("nzLoading",n.loading)("nzBordered",!1)("nzBodyStyle",ce(66,Bl)),l(),f(n.data.offlineData?72:-1)}},dependencies:[Se,xt,yt,Ke,kt,Et,Ga,La,It,Pt,Ot,he,Ve,wt,yi,xi,vi,zi,tt,ve,ye,zt,Je,sn,it,Me,ee,se,vt,Bt,We,et,Ct,Nt,Xa,Ua,qa,De,Tt,Dt,Wa,Aa,Mt,we,Ft,Wt,nt,bt,ka,Ea,Te,Vt,Le,He,$e,xe,At,Re,ft,Ri,qn,Ai,Qn,Wi,Vi,Cr,_r,Oi,Fi,Bi,Hn,dr,pr,mr,fo,Ii,Pi,fi,fa],styles:['[_nghost-%COMP%]     .icon-group i{cursor:pointer;margin-left:16px;color:#00000073;transition:color .32s}[_nghost-%COMP%]     .icon-group i:hover{color:#000000d9}[_nghost-%COMP%]     .rank-list{margin:25px 0 0;padding:0;list-style:none}[_nghost-%COMP%]     .rank-list li{display:flex;align-items:center;margin-top:16px}[_nghost-%COMP%]     .rank-list li:before{display:table;content:""}[_nghost-%COMP%]     .rank-list li:after{display:table;clear:both;content:""}[_nghost-%COMP%]     .rank-list li span{font-size:14px;line-height:22px}[_nghost-%COMP%]     .rank-list li .number{display:inline-block;width:20px;height:20px;margin-top:1.5px;margin-right:16px;font-size:12px;font-weight:600;line-height:20px;text-align:center;background-color:#f5f5f5;border-radius:20px}[_nghost-%COMP%]     .rank-list li .number.active{color:#fff;background-color:#314659}[_nghost-%COMP%]     .rank-list li .title{overflow:hidden;flex:1;margin-right:8px;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]     .sales-extra{display:inline-block;margin-right:24px}[_nghost-%COMP%]     .sales-extra span{cursor:pointer;margin-left:24px}[_nghost-%COMP%]     .sales-extra span:hover{color:#1890ff}[_nghost-%COMP%]     .sales-extra span.current-date{color:#1890ff}[_nghost-%COMP%]     .sales-card .bar{padding:0 0 32px 32px}[_nghost-%COMP%]     .sales-card .rank{padding:0 32px 32px 72px}[_nghost-%COMP%]     .sales-card .ant-tabs-bar{padding-left:16px}[_nghost-%COMP%]     .sales-card .ant-tabs-bar .ant-tabs-nav .ant-tabs-tab{padding-top:16px;padding-bottom:14px;line-height:24px}[_nghost-%COMP%]     .sales-card .ant-tabs-tab{margin-left:24px}[_nghost-%COMP%]     .sales-card .ant-tabs-extra-content{padding-right:24px;line-height:55px}[_nghost-%COMP%]     .sales-card .ant-card-head{position:relative}[_nghost-%COMP%]     .sales-card .ant-card-head-title{align-items:normal}[_nghost-%COMP%]     .offline-card .ant-tabs-ink-bar{bottom:auto}[_nghost-%COMP%]     .offline-card .ant-tabs-bar{border-bottom:none}[_nghost-%COMP%]     .offline-card .ant-tabs-nav-container-scrolling{padding-right:40px;padding-left:40px}[_nghost-%COMP%]     .offline-card .ant-tabs-tab-prev-icon:before{position:relative;left:6px}[_nghost-%COMP%]     .offline-card .ant-tabs-tab-next-icon:before{position:relative;right:6px}[_nghost-%COMP%]     .offline-card .ant-tabs-tab-active h4{color:#1890ff}[_nghost-%COMP%]     .trend-text{margin-left:8px;color:#000000d9}[_nghost-%COMP%]     .ant-table-pagination{margin-bottom:0}[_nghost-%COMP%]     .g2-pie__legend-block, [_nghost-%COMP%]     .g2-pie__chart{margin:0}@media screen and (max-width: 992px){[_nghost-%COMP%]     .sales-extra{display:none}[_nghost-%COMP%]     .rank-list li span:first-child{margin-right:8px}}@media screen and (max-width: 768px){[_nghost-%COMP%]     .rank-title{margin-top:16px}[_nghost-%COMP%]     .sales-card .bar{padding:16px}}@media screen and (max-width: 576px){[_nghost-%COMP%]     .sales-extra-wrap{display:none}[_nghost-%COMP%]     .sales-card .ant-tabs-content{padding-top:30px}}'],changeDetection:0});var Li=gn;var ps=t=>({$implicit:t});function ds(t,i){t&1&&Ln(0)}function us(t,i){if(t&1&&C(0,ds,1,0,"ng-container",1),t&2){let e=c();p("ngTemplateOutlet",e.render)("ngTemplateOutletContext",Be(2,ps,e.i))}}function gs(t,i){if(t&1&&d(0,"span",0),t&2){let e=c();p("innerHTML",e.i.text,Pe)}}var ze=function(t){return t[t.ing=0]="ing",t[t.pause=1]="pause",t[t.stop=2]="stop",t[t.done=3]="done",t}(ze||{}),xr=(()=>{class t{ngZone=_(Rn);fns=[];commands=[];nextTime=0;ing=!1;start(){this.ing!==!0&&(this.ing=!0,this.nextTime=+new Date,this.ngZone.runOutsideAngular(()=>{this.process()}))}process(){for(;this.commands.length;)this.commands.shift()();let e=+new Date-this.nextTime,n=1+Math.floor(e/100);e=100-e%100,this.nextTime+=100*n;for(let o=0,s=this.fns.length;o<s;o+=2){let u=this.fns[o+1];if(u===0)this.fns[o](n);else{u+=2*n-1;let h=Math.floor(u/20);h>0&&this.fns[o](h),this.fns[o+1]=u%20+1}}this.ing&&setTimeout(()=>this.process(),e)}add(e,n){return this.commands.push(()=>{this.fns.push(e),this.fns.push(n===1e3?1:0),this.ing=!0}),this}remove(e){return this.commands.push(()=>{let n=this.fns.indexOf(e);n!==-1&&this.fns.splice(n,2),this.ing=this.fns.length>0}),this}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})(),fs=new ii("COUNTDOWN_CONFIG");var yr=(()=>{class t{locale=_(pa);timer=_(xr);cdr=_(Y);ngZone=_(Rn);defCog=_(fs,{optional:!0});frequency=1e3;_notify={};status=ze.ing;isDestroy=!1;_config;i={};left=0;set config(e){e.notify!=null&&!Array.isArray(e.notify)&&e.notify>0&&(e.notify=[e.notify]),this._config=e}get config(){return this._config}render;event=new oe;begin(){this.status=ze.ing,this.callEvent("start")}restart(){this.status!==ze.stop&&this.destroy(),this.init(),this.callEvent("restart")}stop(){this.status!==ze.stop&&(this.status=ze.stop,this.destroy(),this.callEvent("stop"))}pause(){this.status===ze.stop||this.status===ze.pause||(this.status=ze.pause,this.callEvent("pause"))}resume(){this.status===ze.stop||this.status!==ze.pause||(this.status=ze.ing,this.callEvent("resume"))}callEvent(e){this.event.emit({action:e,left:this.left,status:this.status,text:this.i.text})}init(){let e=this.config=pe(pe({demand:!1,leftTime:0,format:"HH:mm:ss",timezone:"+0000",formatDate:({date:s,formatStr:u,timezone:h})=>ua(new Date(s),u,this.locale,h||"+0000")},this.defCog),this.config),n=this.frequency=~e.format.indexOf("S")?100:1e3;this.status=e.demand?ze.pause:ze.ing,this.getLeft();let o=this.reflow;this.reflow=(s=0,u=!1)=>o.apply(this,[s,u]),Array.isArray(e.notify)&&e.notify.forEach(s=>{if(s<1)throw new Error("The notify config must be a positive integer.");s=s*1e3,s=s-s%n,this._notify[s]=!0}),this.timer.add(this.reflow,n).start(),this.reflow(0,!0)}destroy(){return this.timer.remove(this.reflow),this}reflow(e=0,n=!1){if(this.isDestroy)return;let{status:o,config:s,_notify:u}=this;if(!n&&o!==ze.ing)return;let h=this.left=this.left-this.frequency*e;h<1&&(h=0),this.i={value:h,text:s.formatDate({date:h,formatStr:s.format,timezone:s.timezone})},typeof s.prettyText=="function"&&(this.i.text=s.prettyText(this.i.text)),this.cdr.detectChanges(),(s.notify===0||u[h])&&this.ngZone.run(()=>{this.callEvent("notify")}),h===0&&this.ngZone.run(()=>{this.status=ze.done,this.destroy(),this.callEvent("done")})}getLeft(){let{config:e,frequency:n}=this,o=e.leftTime*1e3,s=e.stopTime;!o&&s&&(o=s-new Date().getTime()),this.left=o-o%n}ngOnInit(){this.init(),this.config.demand||this.begin()}ngOnDestroy(){this.isDestroy=!0,this.destroy()}ngOnChanges(e){e.config.firstChange||this.restart()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=b({type:t,selectors:[["countdown"]],hostVars:2,hostBindings:function(n,o){n&2&&F("count-down",!0)},inputs:{config:"config",render:"render"},outputs:{event:"event"},features:[ai([xr]),Ee],decls:2,vars:1,consts:[[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,o){n&1&&g(0,us,1,4,"ng-container")(1,gs,1,1,"span",0),n&2&&f(o.render?0:1)},dependencies:[mi],styles:[`.count-down{font-variant-numeric:tabular-nums}
`],encapsulation:2,changeDetection:0})}return t})(),vr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=L({type:t});static \u0275inj=R({})}return t})();var _s=["cd"];function Cs(t,i){if(t&1){let e=S();a(0,"countdown",2,0),v("event",function(o){x(e);let s=c();return y(s.handleEvent(o))}),r()}if(t&2){let e=c();p("config",e.config)}}var Wo=(()=>{class t{instance;config;set target(e){this.config={format:"HH:mm:ss",stopTime:typeof e=="number"?xa(new Date,e).valueOf():+di(e,"t")}}event=new oe;handleEvent(e){this.event.emit(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=b({type:t,selectors:[["count-down"]],viewQuery:function(n,o){if(n&1&&gt(_s,5),n&2){let s;pt(s=dt())&&(o.instance=s.first)}},inputs:{config:"config",target:"target"},outputs:{event:"event"},exportAs:["countDown"],decls:1,vars:1,consts:[["cd",""],[3,"config"],[3,"event","config"]],template:function(n,o){n&1&&g(0,Cs,2,1,"countdown",1),n&2&&f(o.config?0:-1)},dependencies:[yr],encapsulation:2,changeDetection:0})}return t})(),hs=[Wo],zr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=L({type:t});static \u0275inj=R({imports:[E,vr,hs]})}return t})();function ys(t,i){t&1&&d(0,"nz-skeleton")}var Ao=(()=>{class t extends Qe{title;height;color="#2f9cff";bgColor;format;percent;padding=[10,10,30,10];install(){this.winG2.registerShape("point","pointer",{draw(k,W){let M=W.addGroup({}),N=this.parsePoint({x:0,y:0});return M.addShape("line",{attrs:{x1:N.x,y1:N.y,x2:k.x,y2:k.y,stroke:k.color,lineWidth:2.5,lineCap:"round"}}),M.addShape("circle",{attrs:{x:N.x,y:N.y,r:5.75,stroke:k.color,lineWidth:2,fill:"#fff"}}),M}});let{el:e,height:n,padding:o,format:s,theme:u}=this,h=this._chart=new this.winG2.Chart({container:e.nativeElement,autoFit:!0,height:n,padding:o,theme:u});h.legend(!1),h.animate(!1),h.tooltip(!1),h.coordinate("polar",{startAngle:-9/8*Math.PI,endAngle:1/8*Math.PI,radius:.75}),h.scale("value",{min:0,max:100,nice:!0,tickCount:6}),h.axis("1",!1),h.axis("value",{line:null,label:{offset:-14,formatter:s},tickLine:null,grid:null}),h.point().position("value*1").shape("pointer"),this.ready.next(h),this.changeData(),h.render()}changeData(){let{_chart:e,percent:n,color:o,bgColor:s,title:u}=this;if(!e)return;let h=[{name:u,value:n}],k=h[0].value;e.annotation().clear(!0),e.geometries[0].color(o),e.annotation().arc({top:!1,start:[0,.95],end:[100,.95],style:{stroke:s,lineWidth:12,lineDash:null}}),e.annotation().arc({start:[0,.95],end:[h[0].value,.95],style:{stroke:o,lineWidth:12,lineDash:null}}),e.annotation().text({position:["50%","85%"],content:u,style:{fontSize:12,fill:this.theme==="dark"?"rgba(255, 255, 255, 0.43)":"rgba(0, 0, 0, 0.43)",textAlign:"center"}}),e.annotation().text({position:["50%","90%"],content:`${k} %`,style:{fontSize:20,fill:this.theme==="dark"?"rgba(255, 255, 255, 0.85)":"rgba(0, 0, 0, 0.85)",textAlign:"center"},offsetY:15}),e.changeData(h)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Oe(t)))(o||t)}})();static \u0275cmp=b({type:t,selectors:[["g2-gauge"]],hostVars:2,hostBindings:function(n,o){n&2&&F("g2-gauge",!0)},inputs:{title:"title",height:[2,"height","height",A],color:"color",bgColor:"bgColor",format:"format",percent:[2,"percent","percent",A],padding:"padding"},exportAs:["g2Gauge"],features:[Ie],decls:1,vars:1,template:function(n,o){n&1&&g(0,ys,1,0,"nz-skeleton"),n&2&&f(o.loaded?-1:0)},dependencies:[Ge],encapsulation:2,changeDetection:0})}return t})(),vs=[Ao],br=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=L({type:t});static \u0275inj=R({imports:[E,je,vs]})}return t})();function bs(t,i){t&1&&d(0,"nz-skeleton")}var Ro=(()=>{class t extends Qe{width=0;height=200;padding=0;data=[];clickItem=new oe;initTagCloud(){let e=this.winG2;e.registerShape("point","cloud",{draw(n,o){let s=n.data,u=o.addShape({type:"text",name:"tag-cloud-text",attrs:ti(pe({},n.style),{fontSize:s.size,text:s.text,textAlign:"center",fontFamily:s.font,fill:n.color,textBaseline:"Alphabetic",x:n.x,y:n.y})});return s.rotate&&e.Util.rotate(u,s.rotate*Math.PI/180),u}})}install(){this.initTagCloud();let{el:e,padding:n,theme:o}=this;this.height===0&&(this.height=this.el.nativeElement.clientHeight),this.width===0&&(this.width=this.el.nativeElement.clientWidth);let s=this._chart=new this.winG2.Chart({container:e.nativeElement,autoFit:!1,padding:n,height:this.height,width:this.width,theme:o});s.scale({x:{nice:!1},y:{nice:!1}}),s.legend(!1),s.axis(!1),s.tooltip({showTitle:!1,showMarkers:!1}),s.coordinate().reflect(),s.point().position("x*y").color("text").shape("cloud").state({active:{style:{fillOpacity:.4}}}),s.interaction("element-active"),s.on("tag-cloud-text:click",u=>{this.ngZone.run(()=>this.clickItem.emit({item:u.data?.data,ev:u}))}),this.ready.next(s),this.changeData(),s.render()}changeData(){let{_chart:e,data:n}=this;if(!e||!Array.isArray(n)||n.length<=0)return;let o=new window.DataSet.View().source(n),s=o.range("value"),u=s[0],h=s[1];o.transform({type:"tag-cloud",fields:["name","value"],font:"Verdana",size:[this.width,this.height],padding:0,timeInterval:5e3,rotate(){let k=~~(Math.random()*4)%4;return k===2&&(k=0),k*90},fontSize(k){return(k.value-u)/(h-u)*24+8}}),e.changeData(o.rows)}installResizeEvent(){this.resize$=Kt(window,"resize").pipe(Ze(()=>!!this._chart),Jt(200)).subscribe(()=>this.changeData())}onInit(){this.installResizeEvent()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Oe(t)))(o||t)}})();static \u0275cmp=b({type:t,selectors:[["g2-tag-cloud"]],inputs:{width:[2,"width","width",A],height:[2,"height","height",A],padding:"padding",data:"data"},outputs:{clickItem:"clickItem"},exportAs:["g2TagCloud"],features:[Ie],decls:1,vars:1,template:function(n,o){n&1&&g(0,bs,1,0,"nz-skeleton"),n&2&&f(o.loaded?-1:0)},dependencies:[Ge],encapsulation:2,changeDetection:0})}return t})(),Ss=[Ro],Sr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=L({type:t});static \u0275inj=R({imports:[E,je,Ss]})}return t})();var Ms=["container"],Ds=(t,i)=>({height:t,width:i,overflow:"hidden"}),Ts=t=>({width:t});function Es(t,i){if(t&1&&(O(0),m(1),P()),t&2){let e=c(2);l(),z(e.title)}}function ks(t,i){if(t&1&&(a(0,"span",3),C(1,Es,2,1,"ng-container",5),r()),t&2){let e=c();l(),p("nzStringTemplateOutlet",e.title)}}var wr=(()=>{class t{el=_(en).nativeElement;renderer=_(oi);ngZone=_(Rn);cdr=_(Y);platform=_(nn);resize$=null;node;timer;animate=!0;delay=0;title;color="#1890FF";height=160;percent;renderChart(e){if(!this.resize$)return;this.updateRadio();let{percent:n,color:o,node:s,animate:u}=this,h=Math.min(Math.max(n/100,0),100),k=this;cancelAnimationFrame(this.timer);let W=s.nativeElement,M=W.getContext("2d"),N=W.width,le=W.height,te=N/2,ge=2,me=te-ge;M.beginPath(),M.lineWidth=ge*2;let Fe=N-ge,G=Fe/8,ne=ge,Kn=0,rt=.2,lt=rt,Wn=0,Qo=u?.005:.015,Rt=[],mo=te-ge,qo=-(Math.PI/2),Uo=!0;for(let ie=qo;ie<qo+2*Math.PI;ie+=1/(8*Math.PI))Rt.push([te+mo*Math.cos(ie),te+mo*Math.sin(ie)]);let Jn=Rt.shift();M.strokeStyle=o,M.moveTo(Jn[0],Jn[1]);function Wr(){M.beginPath(),M.save();let ie=[];for(let ei=ne;ei<=ne+Fe;ei+=20/Fe){let Ar=Kn+(ne+ei)/G,Rr=Math.sin(Ar)*lt,Yo=ei,Ko=2*me*(1-Wn)+(te-me)-G*Rr;M.lineTo(Yo,Ko),ie.push([Yo,Ko])}let Zo=ie.shift();M.lineTo(ne+Fe,le),M.lineTo(ne,le),M.lineTo(Zo[0],Zo[1]);let co=M.createLinearGradient(0,0,0,le);co.addColorStop(0,"#ffffff"),co.addColorStop(1,o),M.fillStyle=co,M.fill(),M.restore()}function Xo(){if(M.clearRect(0,0,N,le),Uo&&!e)if(Rt.length)if(u){let ie=Rt.shift();M.lineTo(ie[0],ie[1]),M.stroke()}else{for(let ie of Rt)M.lineTo(ie[0],ie[1]),M.stroke();Rt=[]}else Uo=!1,M.lineTo(Jn[0],Jn[1]),M.stroke(),Rt=null,M.globalCompositeOperation="destination-over",M.beginPath(),M.lineWidth=ge,M.arc(te,te,mo,0,2*Math.PI,!0),M.beginPath(),M.save(),M.arc(te,te,te-3*ge,0,2*Math.PI,!0),M.restore(),M.clip(),M.fillStyle=o;else{if(h>=.85){if(lt>rt/4){let ie=rt*.01;lt-=ie}}else if(h<=.1){if(lt<rt*1.5){let ie=rt*.01;lt+=ie}}else{if(lt<=rt){let ie=rt*.01;lt+=ie}if(lt>=rt){let ie=rt*.01;lt-=ie}}h-Wn>0&&(Wn+=Qo),h-Wn<0&&(Wn-=Qo),Kn+=.07,Wr()}k.timer=requestAnimationFrame(Xo)}Xo()}updateRadio(){let{offsetWidth:e}=this.el.parentNode,n=e<this.height?e/this.height:1;this.renderer.setStyle(this.el,"transform",`scale(${n})`)}render(){this.renderChart(!1)}installResizeEvent(){this.resize$=Kt(window,"resize").pipe(Jt(200)).subscribe(()=>this.updateRadio())}ngOnInit(){this.platform.isBrowser&&(this.installResizeEvent(),this.ngZone.runOutsideAngular(()=>setTimeout(()=>this.render(),this.delay)))}ngOnChanges(){this.ngZone.runOutsideAngular(()=>this.renderChart(!0)),this.cdr.detectChanges()}ngOnDestroy(){this.timer&&cancelAnimationFrame(this.timer),this.resize$&&this.resize$.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=b({type:t,selectors:[["g2-water-wave"]],viewQuery:function(n,o){if(n&1&&gt(Ms,7),n&2){let s;pt(s=dt())&&(o.node=s.first)}},hostVars:2,hostBindings:function(n,o){n&2&&F("g2-water-wave",!0)},inputs:{animate:[2,"animate","animate",K],delay:[2,"delay","delay",A],title:"title",color:"color",height:[2,"height","height",A],percent:[2,"percent","percent",A]},exportAs:["g2WaterWave"],features:[Ee],decls:7,vars:13,consts:[["container",""],[1,"g2-water-wave__canvas"],[1,"g2-water-wave__desc"],[1,"g2-water-wave__desc-title"],[1,"g2-water-wave__desc-percent"],[4,"nzStringTemplateOutlet"]],template:function(n,o){n&1&&(a(0,"div"),d(1,"canvas",1,0),r(),a(3,"div",2),g(4,ks,2,1,"span",3),a(5,"h4",4),m(6),r()()),n&2&&(be(ri(8,Ds,o.height+"px",o.height+"px")),l(),Lt("width",o.height*2)("height",o.height*2),l(2),be(Be(11,Ts,o.height+"px")),l(),f(o.title?4:-1),l(2),T("",o.percent,"%"))},dependencies:[ae],encapsulation:2,changeDetection:0})}return t})();var Mr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=L({type:t});static \u0275inj=R({imports:[E,re]})}return t})();var Fs=()=>({"text-align":"center"});function Os(t,i){if(t&1&&d(0,"count-down",28),t&2){let e=c();p("config",e.cd)}}function Ps(t,i){if(t&1&&(a(0,"div",12),d(1,"number-info",29)(2,"g2-mini-area",30),a(3,"div",31)(4,"p"),m(5),r(),a(6,"p"),m(7),r()(),a(8,"div",32)(9,"span"),m(10,"00:00"),r(),a(11,"span"),m(12),r(),a(13,"span"),m(14),r()()()),t&2){let e=c();l(2),p("animate",!1)("borderWidth",2)("height",84)("padding",0)("data",e.activeData),l(3),T("",e.activeStat.max," \u4EBF\u5143"),l(2),T("",e.activeStat.min," \u4EBF\u5143"),l(5),z(e.activeStat.t1),l(2),z(e.activeStat.t2)}}function Is(t,i){if(t&1&&(d(0,"g2-gauge",14),w(1,"i18n")),t&2){let e=c();p("title",D(1,4,"app.monitor.ratio"))("height",180)("percent",e.percent)("format",e.couponFormat)}}var zn=class zn{constructor(){this.http=_(ht);this.cdr=_(Y);this.data={};this.tags=[];this.loading=!0;this.q={start:null,end:null};this.percent=null;this.cd={format:"HH:mm:ss.S",leftTime:1e4};this.activeStat={max:0,min:0,t1:"",t2:""}}ngOnInit(){ni(this.http.get("/chart"),this.http.get("/chart/tags")).subscribe(([i,e])=>{this.data=i,e.list[Math.floor(Math.random()*e.list.length)+1].value=1e3,this.tags=e.list,this.loading=!1,this.cdr.detectChanges()}),this.refData(),this.activeTime$=setInterval(()=>this.refData(),1e3*2)}refData(){let i=[];for(let e=0;e<24;e+=1)i.push({x:`${e.toString().padStart(2,"0")}:00`,y:e*50+Math.floor(Math.random()*200)});this.activeData=i,this.activeStat.max=[...i].sort()[i.length-1].y+200,this.activeStat.min=[...i].sort()[Math.floor(i.length/2)].y,this.activeStat.t1=i[Math.floor(i.length/2)].x,this.activeStat.t2=i[i.length-1].x,this.percent=Math.floor(Math.random()*100),this.cdr.detectChanges()}couponFormat(i){switch(parseInt(i,10)){case 20:return"\u5DEE";case 40:return"\u4E2D";case 60:return"\u826F";case 80:return"\u4F18";default:return""}}ngOnDestroy(){this.activeTime$&&clearInterval(this.activeTime$)}};zn.\u0275fac=function(e){return new(e||zn)},zn.\u0275cmp=b({type:zn,selectors:[["app-dashboard-monitor"]],decls:53,vars:80,consts:[["lastTotalTime",""],["nz-row","",1,"pt-lg",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","18"],[1,"mb-lg",3,"nzTitle","nzBordered"],["nz-row",""],["nz-col","","nzXs","24","nzSm","12","nzMd","6"],["suffix","\u5143",3,"subTitle","total"],[3,"subTitle","total"],["total","234","suffix","\u5143",3,"subTitle"],[1,"map-chart"],["nz-tooltip","","nzTooltipPlacement","top","src","https://gw.alipayobjects.com/zos/rmsportal/HBWnDEUXCnGnGrRfrpKa.png","alt","map",3,"nzTooltipTitle"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","6"],[1,"active-chart"],[1,"mb-lg",3,"nzTitle","nzBordered","nzBodyStyle"],[3,"title","height","percent","format"],["nz-row","",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","12",1,"mb-lg"],[1,"pie-card",3,"nzTitle","nzBordered"],["nz-row","",2,"padding","16px 0",3,"nzGutter"],["nz-col","",3,"nzSpan"],["total","28%",3,"animate","percent","subTitle","height","lineWidth"],["color","#5DDECF","total","22%",3,"animate","percent","subTitle","height","lineWidth"],["color","#2FC25B","total","32%",3,"animate","percent","subTitle","height","lineWidth"],["nz-col","","nzXs","24","nzSm","24","nzLg","6",1,"mb-lg"],[3,"nzTitle","nzBordered"],[3,"data","height"],[1,"text-center"],[3,"title","percent","height"],[3,"config"],["subTitle","\u76EE\u6807\u8BC4\u4F30","total","\u6709\u671B\u8FBE\u5230\u9884\u671F"],["line","",3,"animate","borderWidth","height","padding","data"],[1,"active-grid"],[1,"active-legend"]],template:function(e,n){if(e&1&&(a(0,"div",1)(1,"div",2)(2,"nz-card",3),w(3,"i18n"),a(4,"div",4)(5,"div",5),d(6,"number-info",6),w(7,"i18n"),r(),a(8,"div",5),d(9,"number-info",7),w(10,"i18n"),r(),a(11,"div",5)(12,"number-info",7),w(13,"i18n"),C(14,Os,1,1,"ng-template",null,0,B),r()(),a(16,"div",5),d(17,"number-info",8),w(18,"i18n"),r()(),a(19,"div",9),d(20,"img",10),w(21,"i18n"),r()()(),a(22,"div",11)(23,"nz-card",3),w(24,"i18n"),g(25,Ps,15,9,"div",12),r(),a(26,"nz-card",13),w(27,"i18n"),g(28,Is,2,6,"g2-gauge",14),r()()(),a(29,"div",15)(30,"div",16)(31,"nz-card",17),w(32,"i18n"),a(33,"div",18)(34,"div",19),d(35,"g2-pie",20),w(36,"i18n"),r(),a(37,"div",19),d(38,"g2-pie",21),w(39,"i18n"),r(),a(40,"div",19),d(41,"g2-pie",22),w(42,"i18n"),r()()()(),a(43,"div",23)(44,"nz-card",24),w(45,"i18n"),d(46,"g2-tag-cloud",25),r()(),a(47,"div",23)(48,"nz-card",24),w(49,"i18n"),a(50,"div",26),d(51,"g2-water-wave",27),w(52,"i18n"),r()()()()),e&2){let o=I(15);p("nzGutter",24),l(2),p("nzTitle",D(3,49,"app.monitor.trading-activity"))("nzBordered",!1),l(4),p("subTitle",D(7,51,"app.monitor.total-transactions"))("total","124,543,233"),l(3),p("subTitle",D(10,53,"app.monitor.sales-target"))("total","92%"),l(3),p("subTitle",D(13,55,"app.monitor.remaining-time"))("total",o),l(5),p("subTitle",D(18,57,"app.monitor.total-transactions-per-second")),l(3),p("nzTooltipTitle",D(21,59,"app.monitor.waiting-for-implementation")),l(3),p("nzTitle",D(24,61,"app.monitor.activity-forecast"))("nzBordered",!1),l(2),f(n.activeData?25:-1),l(),p("nzTitle",D(27,63,"app.monitor.efficiency"))("nzBordered",!1)("nzBodyStyle",ce(79,Fs)),l(2),f(n.percent?28:-1),l(),p("nzGutter",24),l(2),p("nzTitle",D(32,65,"app.monitor.proportion-per-category"))("nzBordered",!1),l(2),p("nzGutter",4),l(),p("nzSpan",8),l(),p("animate",!1)("percent",28)("subTitle",D(36,67,"app.monitor.fast-food"))("height",128)("lineWidth",2),l(2),p("nzSpan",8),l(),p("animate",!1)("percent",22)("subTitle",D(39,69,"app.monitor.western-food"))("height",128)("lineWidth",2),l(2),p("nzSpan",8),l(),p("animate",!1)("percent",32)("subTitle",D(42,71,"app.monitor.hot-pot"))("height",128)("lineWidth",2),l(3),p("nzTitle",D(45,73,"app.monitor.popular-searches"))("nzBordered",!1),l(2),p("data",n.tags)("height",165),l(2),p("nzTitle",D(49,75,"app.monitor.resource-surplus"))("nzBordered",!1),l(3),p("title",D(52,77,"app.monitor.fund-surplus"))("percent",34)("height",165)}},dependencies:[Se,Ke,kt,Et,It,Pt,Ot,he,wt,tt,ve,ye,zt,Je,sn,it,Me,ee,vt,Bt,We,et,Ct,Nt,De,Tt,Dt,Mt,we,Ft,Wt,nt,bt,Te,Vt,Le,He,$e,xe,At,Re,ft,Mr,wr,Sr,Ro,Ai,Qn,br,Ao,Oi,Fi,Wi,Vi,zr,Wo,fi],styles:["[_nghost-%COMP%]     .map-chart{height:457px;padding-top:24px;text-align:center}[_nghost-%COMP%]     .map-chart img{display:inline-block;max-width:100%;max-height:437px}[_nghost-%COMP%]     .pie-card .pie-stat{font-size:24px!important}[_nghost-%COMP%]     .active-chart{position:relative}[_nghost-%COMP%]     .active-chart g2-mini-area{margin-top:32px}[_nghost-%COMP%]     .active-chart .active-grid p{position:absolute;top:80px;width:100%;padding-bottom:4px;border-bottom:1px dashed #e9e9e9}[_nghost-%COMP%]     .active-chart .active-grid p:last-child{top:115px}[_nghost-%COMP%]     .active-chart .active-legend{position:relative;height:20px;margin-top:8px;font-size:0;line-height:20px}[_nghost-%COMP%]     .active-chart .active-legend span{display:inline-block;width:33.33%;font-size:12px;text-align:center}[_nghost-%COMP%]     .active-chart .active-legend span:first-child{text-align:left}[_nghost-%COMP%]     .active-chart .active-legend span:last-child{text-align:right}@media screen and (max-width: 992px){[_nghost-%COMP%]     .map-chart{height:auto}}"],changeDetection:0});var Qi=zn;var Bs=["popover"],Vs=(t,i)=>({"max-width.px":t,direction:i});function Ws(t,i){if(t&1){let e=S();a(0,"div",3),v("click",function(){x(e);let o=c();return y(o.handleMask())}),r()}}function As(t,i){if(t&1&&(O(0),d(1,"div",13),P()),t&2){let e=c(3);l(),p("innerHTML",e.item.content,Pe)}}function Rs(t,i){if(t&1&&m(0),t&2){let e=c(3);ma(" ",e.active+1,"/",e.max," ")}}function Ls(t,i){if(t&1&&(O(0),m(1),P()),t&2){let e=c(4);l(),z(e.item.skip)}}function Gs(t,i){if(t&1){let e=S();a(0,"a",14),v("click",function(){x(e);let o=c(3);return y(o.to("skip"))}),C(1,Ls,2,1,"ng-container",5),r()}if(t&2){let e=c(3);l(),p("nzStringTemplateOutlet",e.item.skip)}}function js(t,i){if(t&1&&(O(0),m(1),P()),t&2){let e=c(4);l(),z(e.item.prev)}}function $s(t,i){if(t&1){let e=S();a(0,"a",15),v("click",function(){x(e);let o=c(3);return y(o.to("prev"))}),C(1,js,2,1,"ng-container",5),r()}if(t&2){let e=c(3);l(),p("nzStringTemplateOutlet",e.item.prev)}}function Hs(t,i){if(t&1&&(O(0),m(1),P()),t&2){let e=c(4);l(),z(e.item.next)}}function Qs(t,i){if(t&1){let e=S();a(0,"a",16),v("click",function(){x(e);let o=c(3);return y(o.to("next"))}),C(1,Hs,2,1,"ng-container",5),r()}if(t&2){let e=c(3);l(),p("nzStringTemplateOutlet",e.item.next)}}function qs(t,i){if(t&1&&(O(0),m(1),P()),t&2){let e=c(4);l(),z(e.item.done)}}function Us(t,i){if(t&1){let e=S();a(0,"a",17),v("click",function(){x(e);let o=c(3);return y(o.to("done"))}),C(1,qs,2,1,"ng-container",5),r()}if(t&2){let e=c(3);l(),p("nzStringTemplateOutlet",e.item.done)}}function Xs(t,i){if(t&1&&(C(0,As,2,1,"ng-container",5),a(1,"div",6)(2,"span",7),g(3,Rs,1,2),r(),a(4,"div",8),g(5,Gs,2,1,"a",9),g(6,$s,2,1,"a",10),g(7,Qs,2,1,"a",11),g(8,Us,2,1,"a",12),r()()),t&2){let e=c(2);p("nzStringTemplateOutlet",e.item.content),l(3),f(e.config.showTotal?3:-1),l(2),f(!e.last&&e.item.skip!==null&&e.item.skip!==void 0?5:-1),l(),f(!e.first&&e.item.prev!==null?6:-1),l(),f(!e.last&&e.item.next!==null&&e.item.next!==void 0?7:-1),l(),f(e.last&&e.item.done!==null&&e.item.done!==void 0?8:-1)}}function Zs(t,i){if(t&1&&(d(0,"div",4,0),C(2,Xs,9,6,"ng-template",null,1,B)),t&2){let e=I(3),n=c();F("onboarding__light-hide",n.running),p("nzPopoverTitle",n.item.title)("nzPopoverContent",e)("nzPopoverVisible",!n.running)("nzPopoverTrigger",null)("nzPopoverPlacement",n.item.position)("nzPopoverOverlayClassName",n.item.className)("nzPopoverOverlayStyle",ri(11,Vs,n.item.width,n.dir))("nzNoAnimation",!0),Lt("style",n.item.lightStyle,oa)}}var Dr=(()=>{class t{el=_(en).nativeElement;platform=_(nn);cdr=_(Y);doc=_(An);time;prevSelectorEl;config;item;active=0;max=0;op=new oe;running=!1;dir="ltr";popover;get first(){return this.active===0}get last(){return this.active===this.max-1}_getDoc(){return this.doc}_getWin(){return this._getDoc().defaultView||window}getLightData(){let e=this._getDoc(),n=this._getWin(),o=e.querySelector(this.item.selectors);if(!o)return null;let s=n.scrollY||e.documentElement.scrollTop||e.body.scrollTop,u=n.scrollX||e.documentElement.scrollLeft||e.body.scrollLeft,h=o.getBoundingClientRect(),k=h.top+s,W=h.left+u,M=8,N=k>M&&W>M,le=N?M:0,te=N?M*2:0;return{top:k-le,left:W-le,width:h.width+te,height:h.height+te,el:o,clientWidth:e.body.clientWidth,clientHeight:e.body.clientHeight}}ngAfterViewInit(){this.popover.component.onClickOutside=()=>{}}scroll(e){this.prevSelectorEl=e.el;let n=e.top-(e.clientHeight-e.height)/2;this._getWin().scrollTo({top:n}),this.updatePrevElStatus(!0)}updateRunning(e){this.running=e,this.cdr.detectChanges(),e||this.updatePosition()}updatePosition(){if(!this.platform.isBrowser)return;let e=this.getLightData();if(e==null)return;let n=this.el.querySelector(".onboarding__light").style;n.top=`${e.top}px`,n.left=`${e.left}px`,n.width=`${e.width}px`,n.height=`${e.height}px`,this.updatePrevElStatus(!1),this.scroll(e)}updatePrevElStatus(e){this.prevSelectorEl&&this.prevSelectorEl.classList[e?"add":"remove"]("onboarding__light-el")}to(e){this.op.emit(e)}handleMask(){this.config.maskClosable===!0&&(this.popover.component.hide(),this.to("done"))}ngOnDestroy(){clearTimeout(this.time),this.updatePrevElStatus(!1)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=b({type:t,selectors:[["onboarding"]],viewQuery:function(n,o){if(n&1&&gt(Bs,5),n&2){let s;pt(s=dt())&&(o.popover=s.first)}},hostVars:5,hostBindings:function(n,o){n&2&&(Lt("data-onboarding-active",o.active),F("onboarding",!0)("onboarding-rtl",o.dir==="rtl"))},decls:2,vars:2,consts:[["popover","nzPopover"],["content",""],[1,"onboarding__mask"],[1,"onboarding__mask",3,"click"],["nz-popover","",1,"onboarding__light",3,"nzPopoverTitle","nzPopoverContent","nzPopoverVisible","nzPopoverTrigger","nzPopoverPlacement","nzPopoverOverlayClassName","nzPopoverOverlayStyle","nzNoAnimation"],[4,"nzStringTemplateOutlet"],[1,"flex-center-between","onboarding__footer"],[1,"onboarding__total"],[1,"onboarding__btns"],["nz-button","","nzType","link","nzSize","small","data-btnType","skip"],["nz-button","","nzSize","small","data-btnType","prev"],["nz-button","","nzType","primary","nzSize","small","data-btnType","next"],["nz-button","","nzType","primary","nzSize","small","data-btnType","done"],[3,"innerHTML"],["nz-button","","nzType","link","nzSize","small","data-btnType","skip",3,"click"],["nz-button","","nzSize","small","data-btnType","prev",3,"click"],["nz-button","","nzType","primary","nzSize","small","data-btnType","next",3,"click"],["nz-button","","nzType","primary","nzSize","small","data-btnType","done",3,"click"]],template:function(n,o){n&1&&(g(0,Ws,1,0,"div",2),g(1,Zs,4,14)),n&2&&(f(!o.running&&o.config.mask?0:-1),l(),f(o.item?1:-1))},dependencies:[er,ae,Ye,ya],encapsulation:2,changeDetection:0})}return t})(),Ys=new ii("ONBOARDING_STORE_TOKEN",{providedIn:"root",factory:Ks});function Ks(){return new Lo}var Lo=class{get(i){return localStorage.getItem(i)}set(i,e){localStorage.setItem(i,`${e}`)}},Tr=(()=>{class t{appRef=_(aa);router=_(_a);doc=_(An);configSrv=_(ha);keyStoreSrv=_(Ys);directionality=_(pi);compRef;op$;config;active=0;running$=null;_running=!1;type=null;locale=_(_i).valueSignal("onboarding");_getDoc(){return this.doc}get running(){return this._running}attach(){let e=da(Dr,{environmentInjector:this.appRef.injector});this.compRef=e,this.appRef.attachView(e.hostView);let n=e.hostView.rootNodes[0],o=this._getDoc(),s=o.querySelector(".cdk-overlay-container");s?o.body.insertBefore(n,s):o.body.appendChild(n),this.op$=this.compRef.instance.op.subscribe(u=>{switch(u){case"next":this.next();break;case"prev":this.prev();break;default:this.done();break}})}cancelRunning(){return this.running$&&(this.running$.unsubscribe(),this.running$=null),this}updateRunning(e){return this._running=e,this.compRef.instance.updateRunning(e),this}destroy(){let e=this.config?.key;e!=null&&this.keyStoreSrv.set(e,this.config?.keyVersion),this.cancelRunning(),this.compRef&&(this.appRef.detachView(this.compRef.hostView),this.compRef.destroy(),this.op$.unsubscribe())}showItem(e=!1){let n=this.config.items,o=pe(pe({position:"bottomLeft",before:U(!0),after:U(!0)},this.locale()),n[this.active]),s=this.configSrv.get("onboarding").direction||this.directionality.value;Object.assign(this.compRef.instance,{item:o,config:this.config,active:this.active,max:n.length,dir:s});let u=[st(()=>o.url?this.router.navigateByUrl(o.url):U(!0)),st(()=>{let h=this.type==="prev"?o.after:o.before;return typeof h=="number"?U(!0).pipe(po(h)):h})];e||u.push(po(1)),this.updateRunning(!0),this.running$=U(!0).pipe(Jo.apply(this,u)).subscribe({next:()=>this.cancelRunning().updateRunning(!1),error:()=>this.done()})}start(e){let n=pe({keyVersion:"",items:[],mask:!0,maskClosable:!0,showTotal:!1},e),o=n?.key;o!=null&&this.keyStoreSrv.get(o)===n.keyVersion||this.running||(this.destroy(),this.config=n,this.active=0,this.type=null,this.attach(),this.showItem(!0))}next(){if(this._running||this.active+1>=this.config.items.length){this.done();return}this.type="next",++this.active,this.showItem()}prev(){this._running||this.active-1<0||(this.type="prev",--this.active,this.showItem())}done(){this.type="done",this.destroy()}ngOnDestroy(){this.destroy()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Js=[Dr],Er=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=L({type:t});static \u0275inj=R({imports:[E,Ci,it,re,he,va,Js]})}return t})();var em=["*"];function tm(t,i){if(t&1&&(O(0),d(1,"nz-icon",4),P()),t&2){let e=c();l(),p("nzType",e.icon)}}var kr=(()=>{class t{cdr=_(Y);el=_(en).nativeElement;render=_(oi);ctrlStyle={};icon="question-circle";top=120;width=200;bgColor;borderColor;expand=!1;expandChange=new oe;show=!1;initFlag=!1;_click(){this.show=!this.show,this.expandChange.emit(this.show),this.setStyle()}setStyle(){this.ctrlStyle={"background-color":this.bgColor,"border-color":this.borderColor};let e=[`top:${this.top}px`,`width:${this.width}px`,`margin-right:-${this.show?0:this.width}px`];this.bgColor&&e.push(`background-color:${this.bgColor}`),this.borderColor&&e.push(`border-color:${this.borderColor}`),this.render.setAttribute(this.el,"style",e.join(";")),this.cdr.detectChanges()}ngOnInit(){this.initFlag=!0,this.setStyle()}ngOnChanges(){this.show=this.expand,this.initFlag&&this.setStyle()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=b({type:t,selectors:[["quick-menu"]],hostVars:2,hostBindings:function(n,o){n&1&&v("click",function(){return o._click()}),n&2&&F("quick-menu",!0)},inputs:{icon:"icon",top:[2,"top","top",A],width:[2,"width","width",A],bgColor:"bgColor",borderColor:"borderColor",expand:[2,"expand","expand",K]},outputs:{expandChange:"expandChange"},exportAs:["quickMenu"],features:[Ee],ngContentSelectors:em,decls:5,vars:3,consts:[[1,"quick-menu__inner"],[1,"quick-menu__ctrl"],[1,"quick-menu__ctrl-icon"],[4,"nzStringTemplateOutlet"],[3,"nzType"]],template:function(n,o){n&1&&(mt(),a(0,"div",0)(1,"div",1)(2,"div",2),C(3,tm,2,1,"ng-container",3),r()(),ct(4),r()),n&2&&(l(),be(o.ctrlStyle),l(2),p("nzStringTemplateOutlet",o.icon))},dependencies:[se,ae],encapsulation:2,changeDetection:0})}return t})();var Nr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=L({type:t});static \u0275inj=R({imports:[E,ee,re]})}return t})();var Ui=()=>[5,30],om=()=>({y1:"\u5BA2\u6D41\u91CF",y2:"\u652F\u4ED8\u7B14\u6570"});function am(t,i){if(t&1){let e=S();a(0,"g2-mini-bar",36),v("ready",function(o){x(e);let s=c();return y(s.fixDark(o))}),r()}if(t&2){let e=c();p("padding",ce(2,Ui))("data",e.webSite)}}function rm(t,i){if(t&1){let e=S();a(0,"g2-mini-bar",36),v("ready",function(o){x(e);let s=c();return y(s.fixDark(o))}),r()}if(t&2){let e=c();p("padding",ce(2,Ui))("data",e.webSite)}}function lm(t,i){if(t&1){let e=S();a(0,"g2-mini-bar",36),v("ready",function(o){x(e);let s=c();return y(s.fixDark(o))}),r()}if(t&2){let e=c();p("padding",ce(2,Ui))("data",e.webSite)}}function sm(t,i){if(t&1){let e=S();a(0,"g2-mini-bar",36),v("ready",function(o){x(e);let s=c();return y(s.fixDark(o))}),r()}if(t&2){let e=c();p("padding",ce(2,Ui))("data",e.webSite)}}function mm(t,i){t&1&&(m(0," Sales Statistics "),a(1,"small",37),m(2,"Business Expectations & Retail Sales Statistics"),r())}function cm(t,i){if(t&1&&d(0,"g2-bar",25),t&2){let e=c();p("data",e.salesData)}}function pm(t,i){t&1&&(m(0," Growth Rate "),a(1,"small",37),m(2,"Business Expectations & Retail Sales Statistics"),r())}function dm(t,i){if(t&1&&d(0,"g2-timeline",27),t&2){let e=c();p("data",e.offlineChartData)("height",289)("titleMap",ce(3,om))}}function um(t,i){t&1&&d(0,"img",38)}function gm(t,i){t&1&&(m(0," Recent Posts "),a(1,"small",37),m(2,"Venenatis portauam Inceptos ameteiam"),r())}function fm(t,i){if(t&1&&(a(0,"div",34)(1,"div",39),d(2,"nz-avatar",40),r(),a(3,"div",41)(4,"strong"),m(5),r(),a(6,"p",42),m(7),r()()()),t&2){let e=i.$implicit;p("nzJustify","center")("nzAlign","middle"),l(),p("nzSpan",4),l(),p("nzSrc","./assets/tmp/img/"+e.avatar+".png"),l(),p("nzSpan",20),l(2),z(e.name),l(2),z(e.content)}}function _m(t,i){if(t&1){let e=S();a(0,"li",47),v("click",function(){x(e);let o=c().$implicit;return y(o.completed=!1)}),m(1,"Active"),r()}}function Cm(t,i){if(t&1){let e=S();a(0,"li",47),v("click",function(){x(e);let o=c().$implicit;return y(o.completed=!0)}),m(1,"Completed"),r()}}function hm(t,i){if(t&1){let e=S();a(0,"div",34)(1,"div",39),d(2,"nz-avatar",40),r(),a(3,"div",41)(4,"strong"),m(5),r(),a(6,"p",42),m(7),r()(),a(8,"div",43),d(9,"i",44),a(10,"nz-dropdown-menu",null,4)(12,"ul",45),g(13,_m,2,0,"li",46)(14,Cm,2,0,"li",46),a(15,"li",47),v("click",function(){let o=x(e).$implicit,s=c();return y(s.todoData.splice(s.todoData.indexOf(o),1))}),m(16,"Delted"),r()()()()()}if(t&2){let e=i.$implicit,n=I(11);p("nzJustify","center")("nzAlign","middle"),l(),p("nzSpan",4),l(),p("nzSrc","./assets/tmp/img/"+e.avatar+".png"),l(),p("nzSpan",18),l(2),z(e.name),l(),F("text-deleted",e.completed),l(),z(e.content),l(),p("nzSpan",2),l(),p("nzDropdownMenu",n),l(4),f(e.completed?13:14)}}var bn=class bn{constructor(){this.http=_(ht);this.cdr=_(Y);this.obSrv=_(Tr);this.platform=_(nn);this.doc=_(An);this.todoData=[{completed:!0,avatar:"1",name:"\u82CF\u5148\u751F",content:"\u8BF7\u544A\u8BC9\u6211\uFF0C\u6211\u5E94\u8BE5\u8BF4\u70B9\u4EC0\u4E48\u597D\uFF1F"},{completed:!1,avatar:"2",name:"\u306F\u306A\u3055\u304D",content:"\u30CF\u30EB\u30AB\u30BD\u30E9\u30C8\u30AD\u30D8\u30C0\u30C4\u30D2\u30AB\u30EA"},{completed:!1,avatar:"3",name:"cipchk",content:"this world was never meant for one as beautiful as you."},{completed:!1,avatar:"4",name:"Kent",content:"my heart is beating with hers"},{completed:!1,avatar:"5",name:"Are you",content:"They always said that I love beautiful girl than my friends"},{completed:!1,avatar:"6",name:"Forever",content:"Walking through green fields \uFF0Csunshine in my eyes."}];ta(1e3).pipe(tn()).subscribe(()=>this.genOnboarding())}fixDark(i){!this.platform.isBrowser||this.doc.body.getAttribute("data-theme")!=="dark"||i.theme({styleSheet:{backgroundColor:"transparent"}})}ngOnInit(){this.http.get("/chart").subscribe(i=>{this.webSite=i.visitData.slice(0,10),this.salesData=i.salesData,this.offlineChartData=i.offlineChartData,this.cdr.detectChanges()})}genOnboarding(){let i="on-boarding";!this.platform.isBrowser||localStorage.getItem(i)==="1"||this.http.get("./assets/tmp/on-boarding.json").subscribe(e=>{this.obSrv.start(e),localStorage.setItem(i,"1")})}};bn.\u0275fac=function(e){return new(e||bn)},bn.\u0275cmp=b({type:bn,selectors:[["app-dashboard-v1"]],decls:99,vars:17,consts:[["salesTitle",""],["growthTitle",""],["coverTpl",""],["recentTitle",""],["todoMenus","nzDropdownMenu"],[1,"alain-default__content-title"],[3,"nzBordered","nzSplit"],["routerLink","/"],["routerLink","/widgets"],["routerLink","/style/typography"],["routerLink","/style/gridmasonry"],["routerLink","/pro/result/success"],["nz-row","","nzGutter","16"],["nz-col","","nzXs","24","nzSm","12","nzMd","6",1,"mb-md"],["nz-row","","nzType","flex","nzAlign","middle",1,"bg-primary","rounded-md"],["nz-col","","nzSpan","12",1,"p-md","text-white"],[1,"h2","mt0"],[1,"text-nowrap","mb0"],["nz-col","","nzSpan","12"],["height","35","color","#fff","borderWidth","3","tooltipType","mini",3,"padding","data"],["nz-row","","nzType","flex","nzAlign","middle",1,"bg-success","rounded-md"],["nz-row","","nzType","flex","nzAlign","middle",1,"bg-orange","rounded-md"],["nz-row","","nzType","flex","nzAlign","middle",1,"bg-magenta","rounded-md"],["nz-col","","nzXs","24","nzMd","12"],[3,"nzBordered","nzTitle"],["height","275",3,"data"],[3,"nzTitle","nzBordered"],[3,"data","height","titleMap"],[3,"nzBordered","nzCover"],[1,"text-grey"],[1,"list-styled","text-lg","pt-md"],[1,"pt-md","mb0"],["href","//ng.ant.design","target","_blank",1,"text-grey"],[1,"ant-card__body-nopadding",3,"nzTitle","nzBordered"],["nz-row","",1,"py-sm","pr-md","bg-grey-lighter-h","point",3,"nzJustify","nzAlign"],["nzTitle","Todo lists",1,"ant-card__body-nopadding",3,"nzBordered"],["height","35","color","#fff","borderWidth","3","tooltipType","mini",3,"ready","padding","data"],[1,"text-sm","font-weight-normal"],["src","//os.alipayobjects.com/rmsportal/GhjqstwSgxBXrZS.png",1,"img"],["nz-col","",1,"text-center",3,"nzSpan"],[3,"nzSrc"],["nz-col","",3,"nzSpan"],[1,"mb0"],["nz-col","",1,"text-right","pr-md",3,"nzSpan"],["nz-dropdown","","nzPlacement","topRight","nz-icon","","nzType","ellipsis",1,"rotate-90",3,"nzDropdownMenu"],["nz-menu",""],["nz-menu-item",""],["nz-menu-item","",3,"click"]],template:function(e,n){if(e&1&&(a(0,"div",5)(1,"h1"),m(2," Dashboard "),a(3,"small"),m(4,"Welcome !"),r()()(),a(5,"quick-menu")(6,"nz-list",6)(7,"nz-list-item")(8,"a",7),m(9,"Home"),r()(),a(10,"nz-list-item")(11,"a",8),m(12,"Widgets"),r()(),a(13,"nz-list-item")(14,"a",9),m(15,"typography"),r()(),a(16,"nz-list-item")(17,"a",10),m(18,"gridmasonry"),r()(),a(19,"nz-list-item")(20,"a",11),m(21,"success result"),r()()()(),a(22,"div",12)(23,"div",13)(24,"div",14)(25,"div",15)(26,"div",16),m(27,"123,456"),r(),a(28,"p",17),m(29,"Website Traffics"),r()(),a(30,"div",18),g(31,am,1,3,"g2-mini-bar",19),r()()(),a(32,"div",13)(33,"div",20)(34,"div",15)(35,"div",16),m(36,"234,567K"),r(),a(37,"p",17),m(38,"Website Impressions"),r()(),a(39,"div",18),g(40,rm,1,3,"g2-mini-bar",19),r()()(),a(41,"div",13)(42,"div",21)(43,"div",15)(44,"div",16),m(45,"$458,778"),r(),a(46,"p",17),m(47,"Total Sales"),r()(),a(48,"div",18),g(49,lm,1,3,"g2-mini-bar",19),r()()(),a(50,"div",13)(51,"div",22)(52,"div",15)(53,"div",16),m(54,"456"),r(),a(55,"p",17),m(56,"Support Tickets"),r()(),a(57,"div",18),g(58,sm,1,3,"g2-mini-bar",19),r()()()(),a(59,"div",12)(60,"div",23)(61,"nz-card",24),C(62,mm,3,0,"ng-template",null,0,B),g(64,cm,1,1,"g2-bar",25),r()(),a(65,"div",23)(66,"nz-card",26),C(67,pm,3,0,"ng-template",null,1,B),g(69,dm,1,4,"g2-timeline",27),r()()(),a(70,"div",12)(71,"div",23)(72,"nz-card",28),C(73,um,1,0,"ng-template",null,2,B),a(75,"h3"),m(76,"ANT DESIGN"),r(),a(77,"p",29),m(78,"A UI Design Language"),r(),a(79,"ol",30)(80,"li"),m(81,"Designed by experienced team, and showcase dozens of inspiring projects."),r(),a(82,"li"),m(83,"Provide solutions for usual problems that may be encountered while developing enterprise-like complex UIs."),r(),a(84,"li"),m(85,"Dozens of flexible and practical reusable components that increase your productivity."),r()(),a(86,"p",31)(87,"a",32),m(88,"View Site..."),r()()()(),a(89,"div",23)(90,"nz-card",33),C(91,gm,3,0,"ng-template",null,3,B),j(93,fm,8,7,"div",34,fe),r()(),a(95,"div",23)(96,"nz-card",35),j(97,hm,17,12,"div",34,fe),r()()()),e&2){let o=I(63),s=I(68),u=I(74),h=I(92);l(6),p("nzBordered",!1)("nzSplit",!1),l(25),f(n.webSite?31:-1),l(9),f(n.webSite?40:-1),l(9),f(n.webSite?49:-1),l(9),f(n.webSite?58:-1),l(3),p("nzBordered",!1)("nzTitle",o),l(3),f(n.salesData?64:-1),l(2),p("nzTitle",s)("nzBordered",!1),l(3),f(n.offlineChartData?69:-1),l(3),p("nzBordered",!1)("nzCover",u),l(18),p("nzTitle",h)("nzBordered",!1),l(3),$(n.todoData),l(3),p("nzBordered",!1),l(),$(n.todoData)}},dependencies:[Se,Ke,ci,kt,Et,It,Pt,Ot,he,Ve,wt,yi,xi,vi,zi,tt,ve,ye,zt,Je,it,Me,ee,se,vt,Bt,We,et,Ct,Nt,De,Tt,Dt,Mt,we,Ft,Wt,ki,Ni,nt,bt,Te,Vt,Ei,Le,He,$e,xe,At,Re,ft,Ri,qn,Bi,Hn,Ii,Pi,Nr,kr,Er],encapsulation:2,changeDetection:0});var qi=bn;var xm=t=>({"background-color":t});function ym(t,i){t&1&&d(0,"nz-skeleton")}function vm(t,i){if(t&1&&(O(0),a(1,"h4"),m(2),r(),P()),t&2){let e=c();l(2),z(e.title)}}function zm(t,i){if(t&1){let e=S();a(0,"div",4),v("click",function(){let o=x(e).$index,s=c(2);return y(s._click(o))}),d(1,"i",5),m(2),a(3,"h6",6),m(4),r()()}if(t&2){let e=i.$implicit,n=c(2);p("nzSpan",24/n.legendData.length),l(),be(Be(5,xm,e.checked?e.color:"#aaa")),l(),T(" ",e.name," "),l(2),z(e.value)}}function bm(t,i){if(t&1&&(a(0,"div",2),j(1,zm,5,7,"div",3,fe),r()),t&2){let e=c();l(),$(e.legendData)}}var Go=(()=>{class t extends Qe{legendData=[];title;height=0;padding=[44,30,16,30];hasLegend=!0;tickCount=4;data=[];colors=["#1890FF","#FACC14","#2FC25B","#8543E0","#F04864","#13C2C2","#fa8c16","#a0d911"];clickItem=new oe;getHeight(){return this.height-(this.hasLegend?80:22)}install(){let{node:e,padding:n,theme:o,tickCount:s}=this,u=this._chart=new this.winG2.Chart({container:e.nativeElement,autoFit:!0,height:this.getHeight(),padding:n,theme:o});u.coordinate("polar"),u.legend(!1),u.axis("label",{line:null,label:{offset:8},grid:{line:{style:{stroke:"#e9e9e9",lineWidth:1,lineDash:[0,0]}}}}),u.axis("value",{grid:{line:{type:"polygon",style:{stroke:"#e9e9e9",lineWidth:1,lineDash:[0,0]}}}}),u.scale({value:{min:0,tickCount:s}}),u.filter("name",h=>{let k=this.legendData.find(W=>W.name===h);return k?k.checked!==!1:!0}),u.line().position("label*value").color("name",this.colors),u.point().position("label*value").shape("circle").size(3),u.on("point:click",h=>{this.ngZone.run(()=>this.clickItem.emit({item:h.data?.data,ev:h}))}),this.ready.next(u),this.changeData(),u.render()}changeData(){let{_chart:e,data:n}=this;!e||!Array.isArray(n)||n.length<=0||(e.changeData(n),this.ngZone.run(()=>this.genLegend()))}genLegend(){let{hasLegend:e,cdr:n,_chart:o}=this;e&&(this.legendData=o.geometries[0].dataArray.map(s=>({name:s[0]._origin.name,color:s[0].color,checked:!0,value:s.reduce((k,W)=>k+W._origin.value,0)})),n.detectChanges())}_click(e){let{legendData:n,_chart:o}=this;n[e].checked=!n[e].checked,o.render(!0)}onChanges(){this.legendData.forEach(e=>e.checked=!0)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Oe(t)))(o||t)}})();static \u0275cmp=b({type:t,selectors:[["g2-radar"]],hostVars:4,hostBindings:function(n,o){n&2&&(ke("height",o.height,"px"),F("g2-radar",!0))},inputs:{title:"title",height:[2,"height","height",A],padding:"padding",hasLegend:[2,"hasLegend","hasLegend",K],tickCount:[2,"tickCount","tickCount",A],data:"data",colors:"colors"},outputs:{clickItem:"clickItem"},exportAs:["g2Radar"],features:[Ie],decls:5,vars:3,consts:[["container",""],[4,"nzStringTemplateOutlet"],["nz-row","",1,"g2-radar__legend"],["nz-col","",1,"g2-radar__legend-item",3,"nzSpan"],["nz-col","",1,"g2-radar__legend-item",3,"click","nzSpan"],[1,"g2-radar__legend-dot"],[1,"g2-radar__legend-title"]],template:function(n,o){n&1&&(g(0,ym,1,0,"nz-skeleton"),C(1,vm,3,1,"ng-container",1),d(2,"div",null,0),g(4,bm,3,0,"div",2)),n&2&&(f(o.loaded?-1:0),l(),p("nzStringTemplateOutlet",o.title),l(3),f(o.hasLegend?4:-1))},dependencies:[Ge,ae,ye,ve],encapsulation:2,changeDetection:0})}return t})(),Sm=[Go],Fr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=L({type:t});static \u0275inj=R({imports:[E,tt,re,je,Sm]})}return t})();var Mm=()=>({"padding-top.px":12,"padding-bottom.px":12}),Or=()=>["/"];function Dm(t,i){t&1&&(a(0,"nz-breadcrumb")(1,"nz-breadcrumb-item")(2,"a",24),m(3,"\u9996\u9875"),r()(),a(4,"nz-breadcrumb-item")(5,"a",24),m(6,"Dashboard"),r()(),a(7,"nz-breadcrumb-item"),m(8,"\u5DE5\u4F5C\u53F0"),r()()),t&2&&(l(2),p("routerLink",ce(2,Or)),l(3),p("routerLink",ce(3,Or)))}function Tm(t,i){t&1&&(a(0,"div",25)(1,"div",26),d(2,"nz-avatar",27),r(),a(3,"div",28)(4,"div",29),m(5,"\u65E9\u5B89\uFF0C\u5C71\u6CBB\uFF0C\u6211\u8981\u5403\u8089\uFF01"),r(),a(6,"div"),m(7,"\u5047\u7816\u5BB6 | \u5730\u7403\uFF0D\u4F1F\u5927\u822A\u9053\uFF0D\u9EC4\u91D1\u6885\u4E3D\u53F7\uFF0D\u53A8\u623F\uFF0D\u5C0F\u5F3A\u90E8\u95E8"),r()()())}function Em(t,i){t&1&&(a(0,"div",30)(1,"div")(2,"p"),m(3,"\u9879\u76EE\u6570"),r(),a(4,"p"),m(5,"56"),r()(),a(6,"div")(7,"p"),m(8,"\u56E2\u961F\u5185\u6392\u540D"),r(),a(9,"p"),m(10," 8 "),a(11,"span"),m(12," / 24"),r()()(),a(13,"div")(14,"p"),m(15,"\u9879\u76EE\u8BBF\u95EE"),r(),a(16,"p"),m(17,"2,223"),r()()())}function km(t,i){if(t&1){let e=S();a(0,"a",31),v("click",function(){x(e);let o=c();return y(o.msg.success("to"))}),m(1,"\u5168\u90E8\u9879\u76EE"),r()}}function Nm(t,i){if(t&1){let e=S();a(0,"div",36),d(1,"nz-avatar",37),a(2,"a",31),v("click",function(){x(e);let o=c().$implicit,s=c();return y(s.msg.info("to"+o.href))}),m(3),r()()}if(t&2){let e=c().$implicit;l(),p("nzSrc",e.logo)("nzSize","small"),l(2),z(e.title)}}function Fm(t,i){if(t&1&&(a(0,"span",35),m(1),w(2,"_date"),r()),t&2){let e=c().$implicit;p("title",go(e.updatedAt)),l(),T(" ",Gt(2,3,e.updatedAt,"fn")," ")}}function Om(t,i){if(t&1){let e=S();a(0,"div",11)(1,"nz-card",32)(2,"nz-card-meta",33),C(3,Nm,4,3,"ng-template",null,4,B),r(),a(5,"div",34)(6,"a",31),v("click",function(){let o=x(e).$implicit,s=c();return y(s.msg.info("show user: "+o.member))}),m(7),r(),g(8,Fm,3,6,"span",35),r()()()}if(t&2){let e=i.$implicit,n=I(4);l(),p("nzBordered",!1),l(),p("nzTitle",n)("nzDescription",e.description),l(5),z(e.member),l(),f(e.updatedAt?8:-1)}}function Pm(t,i){if(t&1){let e=S();a(0,"a",39),v("click",function(){x(e);let o=c().$implicit,s=c();return y(s.msg.success(o.user.name))}),m(1),r(),m(2," \xA0 "),d(3,"span",40)}if(t&2){let e=c().$implicit;l(),z(e.user.name),l(2),p("innerHTML",e.template,Pe)}}function Im(t,i){if(t&1&&(a(0,"span",35),m(1),w(2,"_date"),r()),t&2){let e=c().$implicit;p("title",go(e.updatedAt)),l(),z(Gt(2,3,e.updatedAt,"fn"))}}function Bm(t,i){if(t&1&&(a(0,"nz-list-item")(1,"nz-list-item-meta",38),C(2,Pm,4,2,"ng-template",null,5,B)(4,Im,3,6,"ng-template",null,6,B),r()()),t&2){let e=i.$implicit,n=I(3),o=I(5);l(),p("nzAvatar",e.user.avatar)("nzTitle",n)("nzDescription",o)}}function Vm(t,i){if(t&1){let e=S();a(0,"a",31),v("click",function(){let o=x(e).$implicit,s=c();return y(s.msg.success(o.title))}),m(1),r()}if(t&2){let e=i.$implicit;l(),z(e.title)}}function Wm(t,i){if(t&1&&d(0,"g2-radar",20),t&2){let e=c();p("data",e.radarData)("height",343)("hasLegend",!0)}}function Am(t,i){if(t&1){let e=S();a(0,"div",23)(1,"a",31),v("click",function(){let o=x(e).$implicit,s=c();return y(s.msg.success(o.title))}),d(2,"nz-avatar",37),a(3,"span",41),m(4),r()()()}if(t&2){let e=i.$implicit;p("nzSpan",12),l(2),p("nzSrc",e.logo)("nzSize","small"),l(2),z(e.title)}}var Sn=class Sn{constructor(){this.http=_(ht);this.msg=_(Ae);this.cdr=_(Y);this.notice=[];this.activities=[];this.loading=!0;this.links=[{title:"\u64CD\u4F5C\u4E00",href:""},{title:"\u64CD\u4F5C\u4E8C",href:""},{title:"\u64CD\u4F5C\u4E09",href:""},{title:"\u64CD\u4F5C\u56DB",href:""},{title:"\u64CD\u4F5C\u4E94",href:""},{title:"\u64CD\u4F5C\u516D",href:""}];this.members=[{id:"members-1",title:"\u79D1\u5B66\u642C\u7816\u7EC4",logo:"https://gw.alipayobjects.com/zos/rmsportal/WdGqmHpayyMjiEhcKoVE.png",link:""},{id:"members-2",title:"\u7A0B\u5E8F\u5458\u65E5\u5E38",logo:"https://gw.alipayobjects.com/zos/rmsportal/zOsKZmFRdUtvpqCImOVY.png",link:""},{id:"members-3",title:"\u8BBE\u8BA1\u5929\u56E2",logo:"https://gw.alipayobjects.com/zos/rmsportal/dURIMkkrRFpPgTuzkwnB.png",link:""},{id:"members-4",title:"\u4E2D\u4E8C\u5C11\u5973\u56E2",logo:"https://gw.alipayobjects.com/zos/rmsportal/sfjbOqnsXXJgNCjCzDBL.png",link:""},{id:"members-5",title:"\u9A97\u4F60\u5B66\u8BA1\u7B97\u673A",logo:"https://gw.alipayobjects.com/zos/rmsportal/siCrBXXhmvTQGWPNLBow.png",link:""}]}ngOnInit(){ni(this.http.get("/chart"),this.http.get("/api/notice"),this.http.get("/api/activities")).subscribe(([i,e,n])=>{this.radarData=i.radarData,this.notice=e,this.activities=n.map(o=>(o.template=o.template.split(/@\{([^{}]*)\}/gi).map(s=>o[s]?`<a>${o[s].name}</a>`:s),o)),this.loading=!1,this.cdr.detectChanges()})}};Sn.\u0275fac=function(e){return new(e||Sn)},Sn.\u0275cmp=b({type:Sn,selectors:[["app-dashboard-workplace"]],decls:34,vars:19,consts:[["breadcrumb",""],["content",""],["extra",""],["ingExtra",""],["noticeTitle",""],["activeTitle",""],["activeDescription",""],[3,"breadcrumb","content","extra"],["nz-row","",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzMd","16"],["nzTitle","\u8FDB\u884C\u4E2D\u7684\u9879\u76EE",1,"ant-card__body-nopadding","mb-lg","project-list",3,"nzExtra","nzBordered","nzLoading"],["nz-card-grid","",1,"project-grid"],["nzTitle","\u52A8\u6001",1,"ant-card__body-nopadding","mb-lg","active-card",3,"nzBordered","nzLoading"],["nzSize","large",1,"activities"],["nz-col","","nzXs","24","nzSm","24","nzMd","8"],["nzTitle","\u5FEB\u901F\u5F00\u59CB / \u4FBF\u6377\u5BFC\u822A",1,"ant-card__body-nopadding","mb-lg",3,"nzBordered"],[1,"links"],["nz-button","",3,"click","nzType","nzSize"],["nz-icon","","nzType","plus"],["nzTitle","XX \u6307\u6570",1,"mb-lg",3,"nzBordered","nzLoading"],[3,"data","height","hasLegend"],["nzTitle","\u56E2\u961F",1,"mb-lg",3,"nzBordered","nzBodyStyle"],[1,"members"],["nz-col","",3,"nzSpan"],[3,"routerLink"],[1,"content"],[1,"avatar"],["nzSrc","https://gw.alipayobjects.com/zos/rmsportal/lctvVCLfRpYCkYxAsiVQ.png"],[1,"desc"],[1,"desc-title"],[1,"page-extra"],[3,"click"],[1,"ant-card__body-nopadding","mb0",3,"nzBordered"],[3,"nzTitle","nzDescription"],[1,"project-item"],[1,"datetime",3,"title"],[1,"card-title"],[3,"nzSrc","nzSize"],[3,"nzAvatar","nzTitle","nzDescription"],[1,"username",3,"click"],[1,"event",3,"innerHTML"],[1,"member"]],template:function(e,n){if(e&1){let o=S();a(0,"page-header",7),C(1,Dm,9,4,"ng-template",null,0,B)(3,Tm,8,0,"ng-template",null,1,B)(5,Em,18,0,"ng-template",null,2,B),r(),a(7,"div",8)(8,"div",9)(9,"nz-card",10),C(10,km,2,0,"ng-template",null,3,B),j(12,Om,9,5,"div",11,fe),r(),a(14,"nz-card",12)(15,"nz-list",13),j(16,Bm,6,3,"nz-list-item",null,fe),r()()(),a(18,"div",14)(19,"nz-card",15)(20,"div",16),j(21,Vm,2,1,"a",null,fe),a(23,"button",17),v("click",function(){return x(o),y(n.links.push({title:"new titel",href:"href"}))}),d(24,"i",18),a(25,"span"),m(26,"\u6DFB\u52A0"),r()()()(),a(27,"nz-card",19),g(28,Wm,1,3,"g2-radar",20),r(),a(29,"nz-card",21)(30,"div",22)(31,"div",8),j(32,Am,5,4,"div",23,fe),r()()()()()}if(e&2){let o=I(2),s=I(4),u=I(6),h=I(11);p("breadcrumb",o)("content",s)("extra",u),l(7),p("nzGutter",24),l(2),p("nzExtra",h)("nzBordered",!1)("nzLoading",n.loading),l(3),$(n.notice),l(2),p("nzBordered",!1)("nzLoading",n.loading),l(2),$(n.activities),l(3),p("nzBordered",!1),l(2),$(n.links),l(2),p("nzType","dashed")("nzSize","small"),l(4),p("nzBordered",!1)("nzLoading",n.loading),l(),f(n.radarData?28:-1),l(),p("nzBordered",!1)("nzBodyStyle",ce(18,Mm)),l(2),p("nzGutter",48),l(),$(n.members)}},dependencies:[Se,Ke,ci,kt,Et,It,Pt,Ot,Ka,he,Ye,Ve,_t,wt,tt,ve,ye,zt,Je,it,Me,ee,se,vt,Bt,We,et,Ct,Nt,De,Tt,Dt,Mt,we,Ft,Ya,Za,Wt,ki,Ni,Ja,nt,bt,Te,Vt,Ei,Le,He,$e,ja,$a,xe,At,Re,ft,Fr,Go,wa],styles:['[_nghost-%COMP%]     .content{display:flex}[_nghost-%COMP%]     .content .avatar{flex:0 1 72px;margin-bottom:8px}[_nghost-%COMP%]     .content .avatar .ant-avatar{display:block;width:72px;height:72px;border-radius:72px}[_nghost-%COMP%]     .content .desc{position:relative;top:4px;flex:1 1 auto;margin-left:24px;line-height:22px;color:#00000073}[_nghost-%COMP%]     .content .desc .desc-title{margin-bottom:12px;font-size:20px;font-weight:500;line-height:28px;color:#000000d9}[_nghost-%COMP%]     .page-extra{float:right;white-space:nowrap}[_nghost-%COMP%]     .page-extra:before{display:table;content:""}[_nghost-%COMP%]     .page-extra:after{display:table;clear:both;content:""}[_nghost-%COMP%]     .page-extra>div{position:relative;display:inline-block;padding:0 32px}[_nghost-%COMP%]     .page-extra>div:after{content:"";position:absolute;top:8px;right:0;width:1px;height:40px;background-color:#f0f0f0}[_nghost-%COMP%]     .page-extra>div>p:first-child{margin-bottom:4px;font-size:14px;line-height:22px;color:#00000073}[_nghost-%COMP%]     .page-extra>div>p{margin:0;font-size:30px;line-height:38px;color:#000000d9}[_nghost-%COMP%]     .page-extra>div>p>span{font-size:20px;color:#00000073}[_nghost-%COMP%]     .page-extra>div:last-child{padding-right:0}[_nghost-%COMP%]     .page-extra>div:last-child:after{display:none}[_nghost-%COMP%]     .project-list .ant-card-meta-description{overflow:hidden;height:44px;line-height:22px;color:#00000073}[_nghost-%COMP%]     .project-list .card-title{font-size:0}[_nghost-%COMP%]     .project-list .card-title a{display:inline-block;height:24px;margin-left:12px;font-size:14px;line-height:24px;color:#000000d9;vertical-align:top}[_nghost-%COMP%]     .project-list .card-title a:hover{color:#1890ff}[_nghost-%COMP%]     .project-list .project-grid{width:33.33%}[_nghost-%COMP%]     .project-list .project-item{display:flex;height:20px;margin-top:8px;font-size:12px;line-height:20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;word-break:break-all}[_nghost-%COMP%]     .project-list .project-item a{display:inline-block;flex:1 1 0;color:#00000073;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;word-break:break-all}[_nghost-%COMP%]     .project-list .project-item a:hover{color:#1890ff}[_nghost-%COMP%]     .project-list .project-item .datetime{float:right;flex:0 0 auto;color:#00000040}[_nghost-%COMP%]     .activities{padding:0 24px 8px}[_nghost-%COMP%]     .activities .username{color:#000000d9}[_nghost-%COMP%]     .activities .event{font-weight:400}[_nghost-%COMP%]     .members a{display:block;height:24px;margin:12px 0;line-height:24px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;word-break:break-all}[_nghost-%COMP%]     .members a .member{display:inline-block;max-width:100px;margin-left:12px;font-size:14px;line-height:24px;color:#000000d9;vertical-align:top;transition:all .3s;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;word-break:break-all}[_nghost-%COMP%]     .members a:hover span{color:#1890ff}[_nghost-%COMP%]     .datetime{color:#00000040}[_nghost-%COMP%]     .links{padding:20px 0 8px 24px;font-size:0}[_nghost-%COMP%]     .links>a{display:inline-block;width:25%;margin-bottom:13px;font-size:14px;color:#000000d9}[_nghost-%COMP%]     .links>a:hover{color:#1890ff}@media screen and (max-width: 1200px) and (min-width: 992px){[_nghost-%COMP%]     .active-card{margin-bottom:24px}[_nghost-%COMP%]     .members{margin-bottom:0}[_nghost-%COMP%]     .page-extra{margin-left:-44px}[_nghost-%COMP%]     .page-extra>div{padding:0 16px}}@media screen and (max-width: 992px){[_nghost-%COMP%]     .active-card{margin-bottom:24px}[_nghost-%COMP%]     .members{margin-bottom:0}[_nghost-%COMP%]     .page-extra{float:none;margin-right:0}[_nghost-%COMP%]     .page-extra>div{padding:0 16px;text-align:left}[_nghost-%COMP%]     .page-extra>div:after{display:none}}@media screen and (max-width: 768px){[_nghost-%COMP%]     .page-extra{margin-left:-16px}[_nghost-%COMP%]     .project-list .project-grid{width:50%}}@media screen and (max-width: 576px){[_nghost-%COMP%]     .content{display:block}[_nghost-%COMP%]     .content .desc{margin-left:0}[_nghost-%COMP%]     .page-extra>div{float:none}}@media screen and (max-width: 480px){[_nghost-%COMP%]     .project-list .project-grid{width:100%}}'],changeDetection:0});var Xi=Sn;var wn=class wn{constructor(){}};wn.\u0275fac=function(e){return new(e||wn)},wn.\u0275cmp=b({type:wn,selectors:[["app-budget-list"]],decls:6,vars:0,consts:[[1,"budget-list-container"],[1,"budget-list-content"]],template:function(e,n){e&1&&(de(0,"div",0)(1,"h2"),m(2,"\u9810\u7B97\u7BA1\u7406"),ue(),de(3,"div",1)(4,"p"),m(5,"\u9810\u7B97\u5217\u8868\u9801\u9762 - DDD\u67B6\u69CB"),ue()()())},dependencies:[E],styles:[".budget-list-container[_ngcontent-%COMP%]{padding:24px}.budget-list-content[_ngcontent-%COMP%]{margin-top:16px}"]});var Mn=wn;var Dn=class Dn{constructor(){}};Dn.\u0275fac=function(e){return new(e||Dn)},Dn.\u0275cmp=b({type:Dn,selectors:[["app-budget-detail"]],decls:6,vars:0,consts:[[1,"budget-detail-container"],[1,"budget-detail-content"]],template:function(e,n){e&1&&(de(0,"div",0)(1,"h2"),m(2,"\u9810\u7B97\u8A73\u60C5"),ue(),de(3,"div",1)(4,"p"),m(5,"\u9810\u7B97\u8A73\u60C5\u9801\u9762 - DDD\u67B6\u69CB"),ue()()())},dependencies:[E],styles:[".budget-detail-container[_ngcontent-%COMP%]{padding:24px}.budget-detail-content[_ngcontent-%COMP%]{margin-top:16px}"]});var Zi=Dn;var Tn=class Tn{constructor(){}};Tn.\u0275fac=function(e){return new(e||Tn)},Tn.\u0275cmp=b({type:Tn,selectors:[["app-budget-edit"]],decls:6,vars:0,consts:[[1,"budget-edit-container"],[1,"budget-edit-content"]],template:function(e,n){e&1&&(de(0,"div",0)(1,"h2"),m(2,"\u9810\u7B97\u7DE8\u8F2F"),ue(),de(3,"div",1)(4,"p"),m(5,"\u9810\u7B97\u7DE8\u8F2F\u9801\u9762 - DDD\u67B6\u69CB"),ue()()())},dependencies:[E],styles:[".budget-edit-container[_ngcontent-%COMP%]{padding:24px}.budget-edit-content[_ngcontent-%COMP%]{margin-top:16px}"]});var Yi=Tn;var $t=class $t{toResponseDto(i){return{id:i.companyId.value,companyName:i.companyName,businessRegistrationNumber:i.businessRegistrationNumber,address:i.address,businessPhone:i.businessPhone,status:i.status.value,riskLevel:i.riskLevel.value,fax:i.fax,website:i.website,contacts:i.contacts.map(e=>({name:e.name,title:e.title,email:e.email,phone:e.phone,isPrimary:e.isPrimary})),dynamicWorkflow:i.dynamicWorkflow?.toPlainObject(),createdAt:i.createdAt.toISOString(),updatedAt:i.updatedAt.toISOString()}}toResponseDtoList(i){return i.map(e=>this.toResponseDto(e))}};$t.\u0275fac=function(e){return new(e||$t)},$t.\u0275prov=J({token:$t,factory:$t.\u0275fac,providedIn:"root"});var at=$t;var Ht=class Ht{constructor(){this.companyRepository=_(ot);this.companyMapper=_(at)}execute(i){let e=(i.contacts||[]).map(o=>jn.create(o)),n=or.create(ti(pe({},i),{contacts:e}));return this.companyRepository.create(n).pipe(Z(o=>this.companyMapper.toResponseDto(o)))}};Ht.\u0275fac=function(e){return new(e||Ht)},Ht.\u0275prov=J({token:Ht,factory:Ht.\u0275fac,providedIn:"root"});var Ki=Ht;var Qt=class Qt{constructor(){this.companyRepository=_(ot);this.companyMapper=_(at)}execute(){return this.companyRepository.getAll().pipe(Z(i=>this.companyMapper.toResponseDtoList(i)))}};Qt.\u0275fac=function(e){return new(e||Qt)},Qt.\u0275prov=J({token:Qt,factory:Qt.\u0275fac,providedIn:"root"});var Ji=Qt;var Ue=class extends Error{constructor(i){super(`Company with id ${i} not found`),this.name="CompanyNotFoundException"}};var qt=class qt{constructor(){this.companyRepository=_(ot);this.companyMapper=_(at)}execute(i,e){return this.companyRepository.getById(i).pipe(Ze(n=>n!==null),Z(n=>{let o;if(e.dynamicWorkflow)try{o=$n.fromPlainObject(e.dynamicWorkflow)}catch(h){console.warn("Failed to parse dynamic workflow data:",h)}let u=n.updateBasicInfo({companyName:e.companyName,businessRegistrationNumber:e.businessRegistrationNumber,address:e.address,businessPhone:e.businessPhone,fax:e.fax,website:e.website,dynamicWorkflow:o});return e.status&&(u=u.updateStatus(nr.create(e.status))),u}),st(n=>this.companyRepository.update(i,n)),Z(n=>this.companyMapper.toResponseDto(n)),_e(n=>n instanceof Ue?Xe(()=>n):Xe(()=>new Ue(i))))}};qt.\u0275fac=function(e){return new(e||qt)},qt.\u0275prov=J({token:qt,factory:qt.\u0275fac,providedIn:"root"});var eo=qt;var Ut=class Ut{constructor(){this.companyRepository=_(ot)}execute(i){return this.companyRepository.delete(i)}};Ut.\u0275fac=function(e){return new(e||Ut)},Ut.\u0275prov=J({token:Ut,factory:Ut.\u0275fac,providedIn:"root"});var to=Ut;var Xt=class Xt{constructor(){this.companyRepository=_(ot);this.companyMapper=_(at)}addContact(i,e){return this.companyRepository.getById(i).pipe(Ze(n=>n!==null),Z(n=>{let o=jn.create({name:e.name,title:e.title,email:e.email,phone:e.phone,isPrimary:e.isPrimary});return n.addContact(o)}),st(n=>this.companyRepository.update(i,n)),Z(n=>this.companyMapper.toResponseDto(n)),_e(n=>n instanceof Ue?Xe(()=>n):Xe(()=>new Ue(i))))}updateContact(i,e,n){return this.companyRepository.getById(i).pipe(Ze(o=>o!==null),Z(o=>{let s=jn.create({name:n.name,title:n.title,email:n.email,phone:n.phone,isPrimary:n.isPrimary});return o.updateContact(e,s)}),st(o=>this.companyRepository.update(i,o)),Z(o=>this.companyMapper.toResponseDto(o)),_e(o=>o instanceof Ue?Xe(()=>o):Xe(()=>new Ue(i))))}removeContact(i,e){return this.companyRepository.getById(i).pipe(Ze(n=>n!==null),Z(n=>n.removeContact(e)),st(n=>this.companyRepository.update(i,n)),Z(n=>this.companyMapper.toResponseDto(n)),_e(n=>n instanceof Ue?Xe(()=>n):Xe(()=>new Ue(i))))}};Xt.\u0275fac=function(e){return new(e||Xt)},Xt.\u0275prov=J({token:Xt,factory:Xt.\u0275fac,providedIn:"root"});var no=Xt;var Zt=class Zt{constructor(){this.createCompanyUseCase=_(Ki);this.updateCompanyUseCase=_(eo);this.deleteCompanyUseCase=_(to);this.getCompaniesUseCase=_(Ji);this.updateCompanyContactUseCase=_(no);this.companiesSignal=X([]);this.loadingSignal=X(!1);this.errorSignal=X(null);this.companies=Ne(()=>this.companiesSignal());this.loading=Ne(()=>this.loadingSignal());this.error=Ne(()=>this.errorSignal());this.hasCompanies=Ne(()=>this.companies().length>0);this.loadCompanies()}loadCompanies(){this.loadingSignal.set(!0),this.errorSignal.set(null),this.getCompaniesUseCase.execute().pipe(Ce(()=>this.loadingSignal.set(!1)),_e(i=>(console.error("\u8F09\u5165\u516C\u53F8\u5217\u8868\u5931\u6557:",i),this.errorSignal.set("\u8F09\u5165\u516C\u53F8\u5217\u8868\u5931\u6557"),U([])))).subscribe(i=>{this.companiesSignal.set(i)})}createCompany(i){return this.loadingSignal.set(!0),this.errorSignal.set(null),this.createCompanyUseCase.execute(i).pipe(Z(e=>{let n=this.companiesSignal();return this.companiesSignal.set([...n,e]),e}),Ce(()=>this.loadingSignal.set(!1)),_e(e=>{throw console.error("\u5275\u5EFA\u516C\u53F8\u5931\u6557:",e),this.errorSignal.set("\u5275\u5EFA\u516C\u53F8\u5931\u6557"),e}))}searchCompanies(i){if(!i.trim())return U(this.companies());let e=this.companies().filter(n=>n.companyName.toLowerCase().includes(i.toLowerCase())||n.businessRegistrationNumber.includes(i));return U(e)}clearError(){this.errorSignal.set(null)}refresh(){this.loadCompanies()}updateCompany(i,e){return this.loadingSignal.set(!0),this.errorSignal.set(null),this.updateCompanyUseCase.execute(i,e).pipe(Z(n=>{let s=this.companiesSignal().map(u=>u.id===i?n:u);return this.companiesSignal.set(s),n}),Ce(()=>this.loadingSignal.set(!1)),_e(n=>{throw console.error("\u66F4\u65B0\u516C\u53F8\u5931\u6557:",n),this.errorSignal.set("\u66F4\u65B0\u516C\u53F8\u5931\u6557"),n}))}deleteCompany(i){return this.loadingSignal.set(!0),this.errorSignal.set(null),this.deleteCompanyUseCase.execute(i).pipe(Z(()=>{let n=this.companiesSignal().filter(o=>o.id!==i);this.companiesSignal.set(n)}),Ce(()=>this.loadingSignal.set(!1)),_e(e=>{throw console.error("\u522A\u9664\u516C\u53F8\u5931\u6557:",e),this.errorSignal.set("\u522A\u9664\u516C\u53F8\u5931\u6557"),e}))}updateCompanies(i){this.companiesSignal.set(i)}addContact(i,e){return this.loadingSignal.set(!0),this.errorSignal.set(null),this.updateCompanyContactUseCase.addContact(i,e).pipe(Z(n=>{let s=this.companiesSignal().map(u=>u.id===i?n:u);return this.companiesSignal.set(s),n}),Ce(()=>this.loadingSignal.set(!1)),_e(n=>{throw console.error("\u65B0\u589E\u806F\u7D61\u4EBA\u5931\u6557:",n),this.errorSignal.set("\u65B0\u589E\u806F\u7D61\u4EBA\u5931\u6557"),n}))}updateContact(i,e,n){return this.loadingSignal.set(!0),this.errorSignal.set(null),this.updateCompanyContactUseCase.updateContact(i,e,n).pipe(Z(o=>{let u=this.companiesSignal().map(h=>h.id===i?o:h);return this.companiesSignal.set(u),o}),Ce(()=>this.loadingSignal.set(!1)),_e(o=>{throw console.error("\u66F4\u65B0\u806F\u7D61\u4EBA\u5931\u6557:",o),this.errorSignal.set("\u66F4\u65B0\u806F\u7D61\u4EBA\u5931\u6557"),o}))}removeContact(i,e){return this.loadingSignal.set(!0),this.errorSignal.set(null),this.updateCompanyContactUseCase.removeContact(i,e).pipe(Z(n=>{let s=this.companiesSignal().map(u=>u.id===i?n:u);return this.companiesSignal.set(s),n}),Ce(()=>this.loadingSignal.set(!1)),_e(n=>{throw console.error("\u522A\u9664\u806F\u7D61\u4EBA\u5931\u6557:",n),this.errorSignal.set("\u522A\u9664\u806F\u7D61\u4EBA\u5931\u6557"),n}))}};Zt.\u0275fac=function(e){return new(e||Zt)},Zt.\u0275prov=J({token:Zt,factory:Zt.\u0275fac,providedIn:"root"});var En=Zt;var Yt=class Yt{constructor(){this.companyService=_(En);this.message=_(Ae);this.currentCompanyIdSignal=X("");this.currentWorkflowSignal=X(null);this.loadingSignal=X(!1);this.currentCompanyId=this.currentCompanyIdSignal.asReadonly();this.currentWorkflow=this.currentWorkflowSignal.asReadonly();this.loading=this.loadingSignal.asReadonly()}setCurrentCompany(i){this.currentCompanyIdSignal.set(i),this.loadWorkflow(i)}loadWorkflow(i){this.loadingSignal.set(!0);let n=this.companyService.companies().find(o=>o.id===i);if(n&&n.dynamicWorkflow){let o=n.dynamicWorkflow,s=$n.fromPlainObject(o);this.currentWorkflowSignal.set(s)}else{let o=$n.create();this.currentWorkflowSignal.set(o)}this.loadingSignal.set(!1)}addState(i){let e=this.currentWorkflow(),n=this.currentCompanyId();if(!e||!n)return U();this.loadingSignal.set(!0);try{let o=e.addState(i);return this.currentWorkflowSignal.set(o),this.updateCompanyWorkflow(n,o).pipe(Ce(()=>this.loadingSignal.set(!1)))}catch{return this.loadingSignal.set(!1),this.message.error("\u6DFB\u52A0\u72C0\u614B\u5931\u6557"),U()}}updateState(i,e){let n=this.currentWorkflow(),o=this.currentCompanyId();if(!n||!o)return U();this.loadingSignal.set(!0);try{let s=n.updateState(i,e);return this.currentWorkflowSignal.set(s),this.updateCompanyWorkflow(o,s).pipe(Ce(()=>this.loadingSignal.set(!1)))}catch{return this.loadingSignal.set(!1),this.message.error("\u66F4\u65B0\u72C0\u614B\u5931\u6557"),U()}}removeState(i){let e=this.currentWorkflow(),n=this.currentCompanyId();if(!e||!n)return U();this.loadingSignal.set(!0);try{let o=e.removeState(i);return this.currentWorkflowSignal.set(o),this.updateCompanyWorkflow(n,o).pipe(Ce(()=>this.loadingSignal.set(!1)))}catch{return this.loadingSignal.set(!1),this.message.error("\u522A\u9664\u72C0\u614B\u5931\u6557"),U()}}addTransition(i){let e=this.currentWorkflow(),n=this.currentCompanyId();if(!e||!n)return U();this.loadingSignal.set(!0);try{let o=e.addTransition(i);return this.currentWorkflowSignal.set(o),this.updateCompanyWorkflow(n,o).pipe(Ce(()=>this.loadingSignal.set(!1)))}catch{return this.loadingSignal.set(!1),this.message.error("\u6DFB\u52A0\u8F49\u63DB\u5931\u6557"),U()}}removeTransition(i){let e=this.currentWorkflow(),n=this.currentCompanyId();if(!e||!n)return U();this.loadingSignal.set(!0);try{let o=e.removeTransition(i);return this.currentWorkflowSignal.set(o),this.updateCompanyWorkflow(n,o).pipe(Ce(()=>this.loadingSignal.set(!1)))}catch{return this.loadingSignal.set(!1),this.message.error("\u522A\u9664\u8F49\u63DB\u5931\u6557"),U()}}setInitialState(i){let e=this.currentWorkflow(),n=this.currentCompanyId();if(!e||!n)return U();this.loadingSignal.set(!0);try{let o=e.setInitialState(i);return this.currentWorkflowSignal.set(o),this.updateCompanyWorkflow(n,o).pipe(Ce(()=>this.loadingSignal.set(!1)))}catch{return this.loadingSignal.set(!1),this.message.error("\u8A2D\u7F6E\u521D\u59CB\u72C0\u614B\u5931\u6557"),U()}}executeTransition(i,e,n){let o=this.currentWorkflow(),s=this.currentCompanyId();if(!o||!s)return U();this.loadingSignal.set(!0);try{let u=o.transitionTo(i,e,n);return this.currentWorkflowSignal.set(u),this.updateCompanyWorkflow(s,u).pipe(Ce(()=>this.loadingSignal.set(!1)))}catch{return this.loadingSignal.set(!1),this.message.error("\u72C0\u614B\u8F49\u63DB\u5931\u6557"),U()}}updateCompanyWorkflow(i,e){if(!this.companyService.companies().find(u=>u.id===i))return this.message.error("\u627E\u4E0D\u5230\u6307\u5B9A\u7684\u516C\u53F8"),U();let s={dynamicWorkflow:e.toPlainObject()};return console.log("\u6B63\u5728\u4FDD\u5B58\u5DE5\u4F5C\u6D41\u7A0B\u5230\u6578\u64DA\u5EAB:",{companyId:i,workflowData:e.toPlainObject()}),this.companyService.updateCompany(i,s).pipe(Z(()=>{console.log("\u5DE5\u4F5C\u6D41\u7A0B\u5DF2\u6210\u529F\u4FDD\u5B58\u5230\u6578\u64DA\u5EAB")}),_e(u=>{throw console.error("\u66F4\u65B0\u5DE5\u4F5C\u6D41\u7A0B\u5931\u6557:",u),this.message.error("\u4FDD\u5B58\u5DE5\u4F5C\u6D41\u7A0B\u5931\u6557"),u}))}clearCurrentWorkflow(){this.currentCompanyIdSignal.set(""),this.currentWorkflowSignal.set(null)}};Yt.\u0275fac=function(e){return new(e||Yt)},Yt.\u0275prov=J({token:Yt,factory:Yt.\u0275fac,providedIn:"root"});var io=Yt;var kn=(t,i)=>i.id;function Lm(t,i){if(t&1){let e=S();a(0,"button",34),v("click",function(){x(e);let o=c();return y(o.updateState())}),d(1,"span",35),m(2," \u66F4\u65B0 "),r(),a(3,"button",36),v("click",function(){x(e);let o=c();return y(o.cancelEdit())}),m(4," \u53D6\u6D88 "),r()}}function Gm(t,i){if(t&1){let e=S();a(0,"button",37),v("click",function(){x(e);let o=c();return y(o.addState())}),d(1,"span",38),m(2," \u65B0\u589E\u72C0\u614B "),r()}if(t&2){let e=c();p("disabled",!e.newStateName.trim())}}function jm(t,i){t&1&&(a(0,"nz-tag",43),m(1,"\u521D\u59CB"),r())}function $m(t,i){t&1&&(a(0,"nz-tag",44),m(1,"\u7D50\u675F"),r())}function Hm(t,i){t&1&&(a(0,"nz-tag",45),m(1,"\u7576\u524D"),r())}function Qm(t,i){if(t&1&&(a(0,"p",46),m(1),r()),t&2){let e=c().$implicit;l(),z(e.description)}}function qm(t,i){if(t&1){let e=S();a(0,"div",39)(1,"div",40)(2,"div",41)(3,"h4"),m(4),r(),a(5,"div",42),g(6,jm,2,0,"nz-tag",43),g(7,$m,2,0,"nz-tag",44),g(8,Hm,2,0,"nz-tag",45),r()(),g(9,Qm,2,1,"p",46),r(),a(10,"div",47)(11,"button",48),v("click",function(){let o=x(e).$implicit,s=c();return y(s.setAsInitialState(o.id))}),d(12,"span",49),r(),a(13,"button",50),v("click",function(){let o=x(e).$implicit,s=c();return y(s.toggleFinalState(o.id))}),d(14,"span",51),r(),a(15,"button",52),v("click",function(){let o=x(e).$implicit,s=c();return y(s.editState(o))}),d(16,"span",53),r(),a(17,"button",54),v("nzOnConfirm",function(){let o=x(e).$implicit,s=c();return y(s.deleteState(o.id))}),d(18,"span",55),r()()()}if(t&2){let e=i.$implicit,n=c();ke("background-color",e.color),F("current-state",n.currentWorkflowState()===e.id),l(4),z(e.name),l(2),f(e.isInitial?6:-1),l(),f(e.isFinal?7:-1),l(),f(n.currentWorkflowState()===e.id?8:-1),l(),f(e.description?9:-1)}}function Um(t,i){t&1&&d(0,"nz-empty",13)}function Xm(t,i){if(t&1&&d(0,"nz-option",18),t&2){let e=i.$implicit;p("nzLabel",e.name)("nzValue",e.id)}}function Zm(t,i){if(t&1&&d(0,"nz-option",18),t&2){let e=i.$implicit;p("nzLabel",e.name)("nzValue",e.id)}}function Ym(t,i){if(t&1){let e=S();a(0,"div",26)(1,"div",56)(2,"span",57),m(3),r(),d(4,"span",58),a(5,"span",59),m(6),r(),a(7,"span",60),m(8),r()(),a(9,"button",61),v("nzOnConfirm",function(){let o=x(e).$implicit,s=c();return y(s.deleteTransition(o.id))}),d(10,"span",55),r()()}if(t&2){let e=i.$implicit,n=c();l(3),z(n.getStateName(e.from)),l(3),z(n.getStateName(e.to)),l(2),T("(",e.condition,")")}}function Km(t,i){t&1&&d(0,"nz-empty",27)}function Jm(t,i){if(t&1&&(a(0,"p",64),m(1),r()),t&2){let e=c(2);l(),z(e.getCurrentStateDescription())}}function ec(t,i){if(t&1){let e=S();a(0,"button",68),v("click",function(){let o=x(e).$implicit,s=c(2);return y(s.executeTransition(o.id))}),a(1,"div",69)(2,"div",70),m(3),r(),a(4,"div",71),m(5),r()()()}if(t&2){let e=i.$implicit,n=c(2);l(3),z(e.condition),l(2),T("\u2192 ",n.getStateName(e.to))}}function tc(t,i){t&1&&d(0,"nz-empty",67)}function nc(t,i){if(t&1&&(a(0,"div",62)(1,"nz-tag",63),m(2),r(),g(3,Jm,2,1,"p",64),r(),d(4,"nz-divider"),a(5,"div",65)(6,"h4"),m(7,"\u53EF\u57F7\u884C\u7684\u64CD\u4F5C\uFF1A"),r(),j(8,ec,6,2,"button",66,kn,!1,tc,1,0,"nz-empty",67),r()),t&2){let e=c();l(2),T(" \u7576\u524D\u72C0\u614B\uFF1A",e.getCurrentStateName()," "),l(),f(e.getCurrentStateDescription()?3:-1),l(5),$(e.availableTransitions())}}function ic(t,i){t&1&&d(0,"nz-empty",29)}function oc(t,i){t&1&&d(0,"div",75)}function ac(t,i){t&1&&d(0,"div",76)}function rc(t,i){if(t&1&&(a(0,"div",73)(1,"div",74),m(2),r(),g(3,oc,1,0,"div",75),g(4,ac,1,0,"div",76),r()),t&2){let e=i.$implicit,n=c(2);ke("background-color",e.color),F("current-preview-state",n.currentWorkflowState()===e.id),l(2),z(e.name),l(),f(e.isInitial?3:-1),l(),f(e.isFinal?4:-1)}}function lc(t,i){if(t&1&&(a(0,"div",32),j(1,rc,5,7,"div",72,kn),r()),t&2){let e=c();l(),$(e.states())}}function sc(t,i){t&1&&d(0,"nz-empty",33)}var Nn=class Nn{constructor(){this.message=_(Ae);this.workflowService=_(io);this.companyId="";this.editingStateSignal=X(null);this.newStateName="";this.newStateDescription="";this.selectedFromState="";this.selectedToState="";this.transitionCondition="";this.states=Ne(()=>{let i=this.workflowService.currentWorkflow();return i?i.states.map(e=>({id:e.id,name:e.name,description:e.description,isInitial:e.isInitial,isFinal:e.isFinal,color:e.color})):[]});this.transitions=Ne(()=>{let i=this.workflowService.currentWorkflow();return i?i.transitions.map(e=>({id:e.id,from:e.from,to:e.to,condition:e.condition,action:e.action})):[]});this.editingState=this.editingStateSignal.asReadonly();this.currentWorkflowState=Ne(()=>{let i=this.workflowService.currentWorkflow();return i?i.currentStateId:""});this.loading=this.workflowService.loading;this.availableToStates=Ne(()=>this.states().filter(i=>i.id!==this.selectedFromState));this.availableTransitions=Ne(()=>this.transitions().filter(i=>i.from===this.currentWorkflowState()))}ngOnInit(){this.companyId&&this.workflowService.setCurrentCompany(this.companyId)}ngOnDestroy(){this.workflowService.clearCurrentWorkflow()}addState(){if(this.newStateName.trim()){let i={id:Date.now().toString(),name:this.newStateName.trim(),description:this.newStateDescription.trim(),isInitial:this.states().length===0,isFinal:!1,color:`hsl(${Math.random()*360}, 70%, 85%)`};this.workflowService.addState(i).subscribe(()=>{this.newStateName="",this.newStateDescription="",this.message.success("\u72C0\u614B\u65B0\u589E\u6210\u529F")})}}editState(i){this.editingStateSignal.set(i),this.newStateName=i.name,this.newStateDescription=i.description}updateState(){let i=this.editingState();if(i&&this.newStateName.trim()){let e={name:this.newStateName.trim(),description:this.newStateDescription.trim()};this.workflowService.updateState(i.id,e).subscribe(()=>{this.cancelEdit(),this.message.success("\u72C0\u614B\u66F4\u65B0\u6210\u529F")})}}cancelEdit(){this.editingStateSignal.set(null),this.newStateName="",this.newStateDescription=""}deleteState(i){this.workflowService.removeState(i).subscribe(()=>{this.message.success("\u72C0\u614B\u522A\u9664\u6210\u529F")})}addTransition(){if(this.selectedFromState&&this.selectedToState&&this.transitionCondition.trim()){let i={id:Date.now().toString(),from:this.selectedFromState,to:this.selectedToState,condition:this.transitionCondition.trim(),action:""};this.workflowService.addTransition(i).subscribe(()=>{this.selectedFromState="",this.selectedToState="",this.transitionCondition="",this.message.success("\u8F49\u63DB\u898F\u5247\u65B0\u589E\u6210\u529F")})}}deleteTransition(i){this.workflowService.removeTransition(i).subscribe(()=>{this.message.success("\u8F49\u63DB\u898F\u5247\u522A\u9664\u6210\u529F")})}executeTransition(i){let e=this.transitions().find(n=>n.id===i);e&&this.workflowService.executeTransition(e.to,"System",`\u57F7\u884C\u8F49\u63DB: ${e.condition}`).subscribe(()=>{this.message.success(`\u72C0\u614B\u5DF2\u8F49\u63DB\u81F3\uFF1A${this.getStateName(e.to)}`)})}setAsInitialState(i){this.workflowService.setInitialState(i).subscribe(()=>{this.message.success("\u521D\u59CB\u72C0\u614B\u8A2D\u5B9A\u6210\u529F")})}toggleFinalState(i){let e=this.states().find(n=>n.id===i);e&&this.workflowService.updateState(i,{isFinal:!e.isFinal}).subscribe(()=>{this.message.success("\u7D42\u6B62\u72C0\u614B\u8A2D\u5B9A\u5DF2\u66F4\u65B0")})}getStateName(i){let e=this.states().find(n=>n.id===i);return e?e.name:"\u672A\u77E5\u72C0\u614B"}getCurrentStateName(){let i=this.states().find(e=>e.id===this.currentWorkflowState());return i?i.name:""}getCurrentStateDescription(){let i=this.states().find(e=>e.id===this.currentWorkflowState());return i?i.description:""}};Nn.\u0275fac=function(e){return new(e||Nn)},Nn.\u0275cmp=b({type:Nn,selectors:[["app-workflow-designer"]],inputs:{companyId:"companyId"},decls:69,vars:13,consts:[[1,"workflow-designer-container"],["nzTitle","\u5DE5\u4F5C\u6D41\u7A0B\u72C0\u614B\u6A5F\u8A2D\u8A08\u5668",1,"header-card"],[1,"designer-grid"],[1,"left-panel"],[1,"state-form-card",3,"nzTitle"],["nz-form","","nzLayout","vertical"],["nzRequired",""],["nz-input","","name","newStateName","placeholder","\u4F8B\uFF1A\u8349\u7A3F\u3001\u5DF2\u63D0\u4EA4\u3001\u5BE9\u6838\u4E2D...",3,"ngModelChange","ngModel"],["nz-input","","name","newStateDescription","rows","2","placeholder","\u8AAA\u660E\u6B64\u72C0\u614B\u7684\u7528\u9014...",3,"ngModelChange","ngModel"],["nz-button","","nzType","primary",3,"disabled"],["nzTitle","\u72C0\u614B\u5217\u8868",1,"state-list-card"],[1,"state-list"],[1,"state-item",3,"current-state","background-color"],["nzNotFoundContent","\u5C1A\u672A\u65B0\u589E\u4EFB\u4F55\u72C0\u614B"],["nzTitle","\u65B0\u589E\u72C0\u614B\u8F49\u63DB",1,"transition-form-card"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","12"],["name","selectedFromState","nzPlaceHolder","\u9078\u64C7\u72C0\u614B",3,"ngModelChange","ngModel"],[3,"nzLabel","nzValue"],["name","selectedToState","nzPlaceHolder","\u9078\u64C7\u72C0\u614B",3,"ngModelChange","ngModel"],["nz-input","","name","transitionCondition","placeholder","\u4F8B\uFF1A\u63D0\u4EA4\u3001\u5BE9\u6838\u901A\u904E\u3001\u9000\u56DE...",3,"ngModelChange","ngModel"],["nz-button","","nzType","primary","nzBlock","",3,"click","disabled"],["nz-icon","","nzType","arrow-right"],[1,"right-panel"],["nzTitle","\u72C0\u614B\u8F49\u63DB\u898F\u5247",1,"transition-list-card"],[1,"transition-list"],[1,"transition-item"],["nzNotFoundContent","\u5C1A\u672A\u8A2D\u5B9A\u4EFB\u4F55\u8F49\u63DB\u898F\u5247"],["nzTitle","\u6D41\u7A0B\u57F7\u884C\u6A21\u64EC",1,"execution-card"],["nzNotFoundContent","\u8ACB\u5148\u65B0\u589E\u72C0\u614B\u4E26\u8A2D\u5B9A\u521D\u59CB\u72C0\u614B"],["nzTitle","\u6D41\u7A0B\u5716\u9810\u89BD",1,"preview-card"],[1,"workflow-preview"],[1,"states-preview"],["nzNotFoundContent","\u65B0\u589E\u72C0\u614B\u5F8C\uFF0C\u6B64\u8655\u6703\u986F\u793A\u6D41\u7A0B\u5716"],["nz-button","","nzType","primary",1,"update-btn",3,"click"],["nz-icon","","nzType","save"],["nz-button","","nzType","default",1,"cancel-btn",3,"click"],["nz-button","","nzType","primary",3,"click","disabled"],["nz-icon","","nzType","plus"],[1,"state-item"],[1,"state-content"],[1,"state-header"],[1,"state-badges"],["nzColor","green"],["nzColor","red"],["nzColor","blue"],[1,"state-description"],[1,"state-actions"],["nz-button","","nzType","text","nzSize","small","title","\u8A2D\u70BA\u521D\u59CB\u72C0\u614B",3,"click"],["nz-icon","","nzType","play-circle"],["nz-button","","nzType","text","nzSize","small","title","\u5207\u63DB\u7D42\u6B62\u72C0\u614B",3,"click"],["nz-icon","","nzType","stop"],["nz-button","","nzType","text","nzSize","small","title","\u7DE8\u8F2F",3,"click"],["nz-icon","","nzType","edit"],["nz-button","","nzType","text","nzSize","small","nzDanger","","nz-popconfirm","","nzPopconfirmTitle","\u78BA\u5B9A\u8981\u522A\u9664\u6B64\u72C0\u614B\u55CE\uFF1F","title","\u522A\u9664",3,"nzOnConfirm"],["nz-icon","","nzType","delete"],[1,"transition-content"],[1,"from-state"],["nz-icon","","nzType","arrow-right",1,"arrow"],[1,"to-state"],[1,"condition"],["nz-button","","nzType","text","nzSize","small","nzDanger","","nz-popconfirm","","nzPopconfirmTitle","\u78BA\u5B9A\u8981\u522A\u9664\u6B64\u8F49\u63DB\u55CE\uFF1F",3,"nzOnConfirm"],[1,"current-state-display"],["nzColor","blue",1,"current-state-tag"],[1,"current-state-desc"],[1,"available-actions"],["nz-button","","nzType","default","nzBlock","",1,"action-button"],["nzNotFoundContent","\u6B64\u72C0\u614B\u7121\u53EF\u57F7\u884C\u7684\u8F49\u63DB\u64CD\u4F5C"],["nz-button","","nzType","default","nzBlock","",1,"action-button",3,"click"],[1,"action-content"],[1,"action-name"],[1,"action-target"],[1,"preview-state",3,"current-preview-state","background-color"],[1,"preview-state"],[1,"preview-state-name"],[1,"initial-indicator"],[1,"final-indicator"]],template:function(e,n){if(e&1&&(a(0,"div",0)(1,"nz-card",1)(2,"p"),m(3,"\u5EFA\u7ACB\u60A8\u81EA\u5DF1\u7684\u5DE5\u4F5C\u6D41\u7A0B\u72C0\u614B\u6A5F"),r()(),a(4,"div",2)(5,"div",3)(6,"nz-card",4)(7,"form",5)(8,"nz-form-item")(9,"nz-form-label",6),m(10,"\u72C0\u614B\u540D\u7A31"),r(),a(11,"nz-form-control")(12,"input",7),q("ngModelChange",function(s){return Q(n.newStateName,s)||(n.newStateName=s),s}),r()()(),a(13,"nz-form-item")(14,"nz-form-label"),m(15,"\u72C0\u614B\u8AAA\u660E"),r(),a(16,"nz-form-control")(17,"textarea",8),q("ngModelChange",function(s){return Q(n.newStateDescription,s)||(n.newStateDescription=s),s}),r()()(),a(18,"nz-form-item")(19,"nz-form-control"),g(20,Lm,5,0)(21,Gm,3,1,"button",9),r()()()(),a(22,"nz-card",10)(23,"div",11),j(24,qm,19,9,"div",12,kn,!1,Um,1,0,"nz-empty",13),r()(),a(27,"nz-card",14)(28,"form",5)(29,"div",15)(30,"div",16)(31,"nz-form-item")(32,"nz-form-label"),m(33,"\u5F9E\u72C0\u614B"),r(),a(34,"nz-form-control")(35,"nz-select",17),q("ngModelChange",function(s){return Q(n.selectedFromState,s)||(n.selectedFromState=s),s}),j(36,Xm,1,2,"nz-option",18,kn),r()()()(),a(38,"div",16)(39,"nz-form-item")(40,"nz-form-label"),m(41,"\u5230\u72C0\u614B"),r(),a(42,"nz-form-control")(43,"nz-select",19),q("ngModelChange",function(s){return Q(n.selectedToState,s)||(n.selectedToState=s),s}),j(44,Zm,1,2,"nz-option",18,kn),r()()()()(),a(46,"nz-form-item")(47,"nz-form-label"),m(48,"\u8F49\u63DB\u689D\u4EF6 / \u52D5\u4F5C"),r(),a(49,"nz-form-control")(50,"input",20),q("ngModelChange",function(s){return Q(n.transitionCondition,s)||(n.transitionCondition=s),s}),r()()(),a(51,"nz-form-item")(52,"nz-form-control")(53,"button",21),v("click",function(){return n.addTransition()}),d(54,"span",22),m(55," \u65B0\u589E\u8F49\u63DB "),r()()()()()(),a(56,"div",23)(57,"nz-card",24)(58,"div",25),j(59,Ym,11,3,"div",26,kn,!1,Km,1,0,"nz-empty",27),r()(),a(62,"nz-card",28),g(63,nc,11,3)(64,ic,1,0,"nz-empty",29),r(),a(65,"nz-card",30)(66,"div",31),g(67,lc,3,0,"div",32)(68,sc,1,0,"nz-empty",33),r()()()()()),e&2){let o,s;l(6),p("nzTitle",n.editingState()?"\u7DE8\u8F2F\u72C0\u614B":"\u65B0\u589E\u72C0\u614B"),l(6),H("ngModel",n.newStateName),l(5),H("ngModel",n.newStateDescription),l(3),f((o=n.editingState())?20:21,o),l(4),$(n.states()),l(5),p("nzGutter",16),l(6),H("ngModel",n.selectedFromState),l(),$(n.states()),l(7),H("ngModel",n.selectedToState),l(),$(n.availableToStates()),l(6),H("ngModel",n.transitionCondition),l(3),p("disabled",!n.selectedFromState||!n.selectedToState||!n.transitionCondition.trim()),l(6),$(n.transitions()),l(4),f((s=n.currentWorkflowState())?63:64,s),l(4),f(n.states().length>0?67:68)}},dependencies:[E,Se,rn,on,xt,an,yt,hi,he,Ye,Ve,_t,De,mn,Me,Mi,Di,He,$e,we,ln,ee,se,Te,ve,ye,pn,cn,un,dn,xe,St,Re,bi,wi,Si],styles:[".workflow-designer-container[_ngcontent-%COMP%]{padding:24px;background:#f5f5f5;min-height:100vh}.header-card[_ngcontent-%COMP%]{margin-bottom:24px}.designer-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:24px}.left-panel[_ngcontent-%COMP%], .right-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.state-list[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.state-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:16px;margin-bottom:8px;border-radius:8px;border:2px solid #e8e8e8;transition:all .2s}.state-item.current-state[_ngcontent-%COMP%]{border-color:#1890ff;box-shadow:0 2px 8px #1890ff33}.state-content[_ngcontent-%COMP%]{flex:1}.state-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:4px}.state-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-weight:600}.state-badges[_ngcontent-%COMP%]{display:flex;gap:4px}.state-description[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#666}.state-actions[_ngcontent-%COMP%]{display:flex;gap:4px}.update-btn[_ngcontent-%COMP%]{margin-right:8px}.transition-list[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.transition-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px;margin-bottom:8px;background:#fafafa;border-radius:6px}.transition-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.from-state[_ngcontent-%COMP%], .to-state[_ngcontent-%COMP%]{font-weight:600}.arrow[_ngcontent-%COMP%]{color:#1890ff}.condition[_ngcontent-%COMP%]{font-size:12px;color:#666}.current-state-display[_ngcontent-%COMP%]{margin-bottom:16px}.current-state-tag[_ngcontent-%COMP%]{font-size:14px;padding:4px 12px}.current-state-desc[_ngcontent-%COMP%]{margin:8px 0 0;font-size:12px;color:#666}.available-actions[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:12px;font-weight:600}.action-button[_ngcontent-%COMP%]{margin-bottom:8px;height:auto;padding:12px}.action-content[_ngcontent-%COMP%]{text-align:left}.action-name[_ngcontent-%COMP%]{font-weight:600}.action-target[_ngcontent-%COMP%]{font-size:12px;color:#666}.workflow-preview[_ngcontent-%COMP%]{min-height:300px;background:#fafafa;border-radius:8px;padding:16px}.states-preview[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;justify-content:center;align-items:flex-start}.preview-state[_ngcontent-%COMP%]{position:relative;padding:12px;border-radius:8px;border:2px solid #e8e8e8;text-align:center;min-width:120px;transition:all .2s}.preview-state.current-preview-state[_ngcontent-%COMP%]{border-color:#1890ff;box-shadow:0 2px 8px #1890ff33}.preview-state-name[_ngcontent-%COMP%]{font-weight:600;font-size:14px}.initial-indicator[_ngcontent-%COMP%]{position:absolute;top:-8px;left:-8px;width:16px;height:16px;background:#52c41a;border-radius:50%}.final-indicator[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px;width:16px;height:16px;background:#ff4d4f;border-radius:50%}@media (max-width: 1200px){.designer-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"],changeDetection:0});var oo=Nn;function cc(t,i){t&1&&(a(0,"button",15),d(1,"span",16),r())}function pc(t,i){t&1&&(a(0,"div",17),d(1,"nz-spin",18),r())}function dc(t,i){if(t&1){let e=S();a(0,"nz-empty",19)(1,"div",20)(2,"button",6),v("click",function(){x(e);let o=c();return y(o.showCreateModal())}),m(3," \u7ACB\u5373\u65B0\u589E "),r()()()}}function uc(t,i){if(t&1){let e=S();a(0,"nz-form-item")(1,"nz-form-control",37)(2,"input",38),q("ngModelChange",function(o){x(e);let s=c(5);return Q(s.editingContact().name,o)||(s.editingContact().name=o),y(o)}),r()()()}if(t&2){let e=c(5);l(2),H("ngModel",e.editingContact().name)}}function gc(t,i){if(t&1&&m(0),t&2){let e=c().$implicit;T(" ",e.name," ")}}function fc(t,i){if(t&1){let e=S();a(0,"nz-form-item")(1,"nz-form-control",39)(2,"input",40),q("ngModelChange",function(o){x(e);let s=c(5);return Q(s.editingContact().title,o)||(s.editingContact().title=o),y(o)}),r()()()}if(t&2){let e=c(5);l(2),H("ngModel",e.editingContact().title)}}function _c(t,i){if(t&1&&m(0),t&2){let e=c().$implicit;T(" ",e.title," ")}}function Cc(t,i){if(t&1){let e=S();a(0,"nz-form-item")(1,"nz-form-control",41)(2,"input",42),q("ngModelChange",function(o){x(e);let s=c(5);return Q(s.editingContact().email,o)||(s.editingContact().email=o),y(o)}),r()()()}if(t&2){let e=c(5);l(2),H("ngModel",e.editingContact().email)}}function hc(t,i){if(t&1&&m(0),t&2){let e=c().$implicit;T(" ",e.email," ")}}function xc(t,i){if(t&1){let e=S();a(0,"nz-form-item")(1,"nz-form-control",43)(2,"input",44),q("ngModelChange",function(o){x(e);let s=c(5);return Q(s.editingContact().phone,o)||(s.editingContact().phone=o),y(o)}),r()()()}if(t&2){let e=c(5);l(2),H("ngModel",e.editingContact().phone)}}function yc(t,i){if(t&1&&m(0),t&2){let e=c().$implicit;T(" ",e.phone," ")}}function vc(t,i){if(t&1){let e=S();a(0,"nz-switch",45),q("ngModelChange",function(o){x(e);let s=c(5);return Q(s.editingContact().isPrimary,o)||(s.editingContact().isPrimary=o),y(o)}),r()}if(t&2){let e=c(5);H("ngModel",e.editingContact().isPrimary)}}function zc(t,i){if(t&1&&(a(0,"nz-tag"),m(1),r()),t&2){let e=c().$implicit;l(),T(" ",e.isPrimary?"\u662F":"\u5426"," ")}}function bc(t,i){t&1&&d(0,"span",47)}function Sc(t,i){if(t&1){let e=S();a(0,"a",46),v("click",function(){x(e);let o=c().$index,s=c(2).$implicit,u=c(2);return y(u.saveContact(s.id,o))}),g(1,bc,1,0,"span",47),m(2," \u4FDD\u5B58 "),r(),d(3,"nz-divider",48),a(4,"a",46),v("click",function(){x(e);let o=c(5);return y(o.cancelEditContact())}),m(5,"\u53D6\u6D88"),r()}if(t&2){let e=c(5);F("disabled",e.isSubmittingContact()),l(),f(e.isSubmittingContact()?1:-1)}}function wc(t,i){if(t&1){let e=S();a(0,"a",46),v("click",function(){x(e);let o=c(),s=o.$implicit,u=o.$index,h=c(2).$implicit,k=c(2);return y(k.editContact(h.id,u,s))}),m(1,"\u7DE8\u8F2F"),r(),d(2,"nz-divider",48),a(3,"a",49),v("nzOnConfirm",function(){x(e);let o=c().$index,s=c(2).$implicit,u=c(2);return y(u.deleteContact(s.id,o))}),m(4,"\u522A\u9664"),r()}}function Mc(t,i){if(t&1&&(a(0,"tr")(1,"td"),g(2,uc,3,1,"nz-form-item")(3,gc,1,1),r(),a(4,"td"),g(5,fc,3,1,"nz-form-item")(6,_c,1,1),r(),a(7,"td"),g(8,Cc,3,1,"nz-form-item")(9,hc,1,1),r(),a(10,"td"),g(11,xc,3,1,"nz-form-item")(12,yc,1,1),r(),a(13,"td"),g(14,vc,1,1,"nz-switch",36)(15,zc,2,1,"nz-tag"),r(),a(16,"td"),g(17,Sc,6,3)(18,wc,5,0),r()()),t&2){let e=i.$index,n=c(2).$implicit,o=c(2),s=o.editingContactIndex()===e&&o.currentEditingCompanyId()===n.id;l(2),f(s?2:3),l(3),f(s?5:6),l(3),f(s?8:9),l(3),f(s?11:12),l(3),f(s?14:15),l(3),f(s?17:18)}}function Dc(t,i){t&1&&d(0,"span",47)}function Tc(t,i){if(t&1){let e=S();a(0,"tr",34)(1,"td")(2,"nz-form-item")(3,"nz-form-control",37)(4,"input",38),q("ngModelChange",function(o){x(e);let s=c(4);return Q(s.editingContact().name,o)||(s.editingContact().name=o),y(o)}),r()()()(),a(5,"td")(6,"nz-form-item")(7,"nz-form-control",39)(8,"input",40),q("ngModelChange",function(o){x(e);let s=c(4);return Q(s.editingContact().title,o)||(s.editingContact().title=o),y(o)}),r()()()(),a(9,"td")(10,"nz-form-item")(11,"nz-form-control",41)(12,"input",42),q("ngModelChange",function(o){x(e);let s=c(4);return Q(s.editingContact().email,o)||(s.editingContact().email=o),y(o)}),r()()()(),a(13,"td")(14,"nz-form-item")(15,"nz-form-control",43)(16,"input",44),q("ngModelChange",function(o){x(e);let s=c(4);return Q(s.editingContact().phone,o)||(s.editingContact().phone=o),y(o)}),r()()()(),a(17,"td")(18,"nz-switch",45),q("ngModelChange",function(o){x(e);let s=c(4);return Q(s.editingContact().isPrimary,o)||(s.editingContact().isPrimary=o),y(o)}),r()(),a(19,"td")(20,"a",46),v("click",function(){x(e);let o=c(2).$implicit,s=c(2);return y(s.saveContact(o.id,-1))}),g(21,Dc,1,0,"span",47),m(22," \u4FDD\u5B58 "),r(),d(23,"nz-divider",48),a(24,"a",46),v("click",function(){x(e);let o=c(4);return y(o.cancelEditContact())}),m(25,"\u53D6\u6D88"),r()()()}if(t&2){let e=c(4);l(4),H("ngModel",e.editingContact().name),l(4),H("ngModel",e.editingContact().title),l(4),H("ngModel",e.editingContact().email),l(4),H("ngModel",e.editingContact().phone),l(2),H("ngModel",e.editingContact().isPrimary),l(2),F("disabled",e.isSubmittingContact()),l(),f(e.isSubmittingContact()?21:-1)}}function Ec(t,i){if(t&1){let e=S();a(0,"button",50),v("click",function(){x(e);let o=c(2).$implicit,s=c(2);return y(s.addContact(o.id))}),d(1,"span",7),m(2," \u65B0\u589E\u806F\u7D61\u4EBA "),r()}}function kc(t,i){if(t&1&&(a(0,"tr")(1,"td",30)(2,"div",31)(3,"h4"),m(4,"\u806F\u7D61\u4EBA\u7BA1\u7406"),r(),a(5,"nz-table",32)(6,"thead")(7,"tr")(8,"th"),m(9,"\u59D3\u540D"),r(),a(10,"th"),m(11,"\u8077\u7A31"),r(),a(12,"th"),m(13,"Email"),r(),a(14,"th"),m(15,"\u96FB\u8A71"),r(),a(16,"th"),m(17,"\u4E3B\u8981\u806F\u7D61\u4EBA"),r(),a(18,"th",33),m(19,"\u64CD\u4F5C"),r()()(),a(20,"tbody"),j(21,Mc,19,6,"tr",null,uo().trackByContactIndex,!0),g(23,Tc,26,8,"tr",34),r()(),g(24,Ec,3,0,"button",35),r()()()),t&2){let e=c().$implicit,n=c(2);l(5),p("nzData",n.getContactsForCompany(e.id))("nzShowPagination",!1),l(16),$(n.getContactsForCompany(e.id)),l(2),f(n.editingContactIndex()===-2&&n.currentEditingCompanyId()===e.id?23:-1),l(),f(n.editingContactIndex()===-1||n.currentEditingCompanyId()!==e.id?24:-1)}}function Nc(t,i){if(t&1){let e=S();a(0,"tr")(1,"td",24),v("nzExpandChange",function(o){let s=x(e).$implicit,u=c(2);return y(u.onExpandChange(s.id,o))}),r(),a(2,"td"),m(3),r(),a(4,"td"),m(5),r(),a(6,"td"),m(7),r(),a(8,"td"),m(9),r(),a(10,"td")(11,"nz-tag"),m(12),r()(),a(13,"td")(14,"nz-tag"),m(15),r()(),a(16,"td"),m(17),r(),a(18,"td")(19,"button",25),v("click",function(){let o=x(e).$implicit,s=c(2);return y(s.showWorkflowDesigner(o.id))}),d(20,"span",26),m(21," \u5DE5\u4F5C\u6D41\u7A0B "),r(),a(22,"button",25),v("click",function(){let o=x(e).$implicit,s=c(2);return y(s.showEditModal(o))}),d(23,"span",27),r(),a(24,"button",28),v("nzOnConfirm",function(){let o=x(e).$implicit,s=c(2);return y(s.deleteCompany(o.id))}),d(25,"span",29),r()()(),g(26,kc,25,4,"tr")}if(t&2){let e=i.$implicit,n=c(2);l(),p("nzExpand",n.expandSet().has(e.id)),l(2),z(e.companyName),l(2),z(e.businessRegistrationNumber),l(2),z(e.address),l(2),z(e.businessPhone),l(3),T(" ",e.status," "),l(3),T(" ",e.riskLevel," "),l(2),z(e.contacts.length),l(9),f(n.expandSet().has(e.id)?26:-1)}}function Fc(t,i){if(t&1&&(a(0,"nz-table",21)(1,"thead")(2,"tr"),d(3,"th",22),a(4,"th"),m(5,"\u516C\u53F8\u540D\u7A31"),r(),a(6,"th"),m(7,"\u7D71\u4E00\u7DE8\u865F"),r(),a(8,"th"),m(9,"\u5730\u5740"),r(),a(10,"th"),m(11,"\u96FB\u8A71"),r(),a(12,"th"),m(13,"\u72C0\u614B"),r(),a(14,"th"),m(15,"\u98A8\u96AA\u7B49\u7D1A"),r(),a(16,"th"),m(17,"\u806F\u7D61\u4EBA\u6578"),r(),a(18,"th",23),m(19,"\u64CD\u4F5C"),r()()(),a(20,"tbody"),j(21,Nc,27,9,null,null,uo().trackByCompanyId,!0),r()()),t&2){let e=c();p("nzData",e.filteredCompanies())("nzPageSize",10)("nzShowSizeChanger",!0)("nzShowQuickJumper",!0),l(21),$(e.filteredCompanies())}}function Oc(t,i){if(t&1&&d(0,"nz-option",68),t&2){let e=i.$implicit;p("nzLabel",e)("nzValue",e)}}function Pc(t,i){if(t&1&&d(0,"nz-option",68),t&2){let e=i.$implicit;p("nzLabel",e)("nzValue",e)}}function Ic(t,i){if(t&1&&(O(0),a(1,"form",51)(2,"nz-form-item")(3,"nz-form-label",52),m(4,"\u516C\u53F8\u540D\u7A31"),r(),a(5,"nz-form-control",53),d(6,"input",54),r()(),a(7,"nz-form-item")(8,"nz-form-label",52),m(9,"\u7D71\u4E00\u7DE8\u865F"),r(),a(10,"nz-form-control",55),d(11,"input",56),r()(),a(12,"nz-form-item")(13,"nz-form-label",52),m(14,"\u516C\u53F8\u5730\u5740"),r(),a(15,"nz-form-control",57),d(16,"input",58),r()(),a(17,"nz-form-item")(18,"nz-form-label",52),m(19,"\u806F\u7D61\u96FB\u8A71"),r(),a(20,"nz-form-control",59),d(21,"input",60),r()(),a(22,"div",61)(23,"div",62)(24,"nz-form-item")(25,"nz-form-label"),m(26,"\u72C0\u614B"),r(),a(27,"nz-form-control")(28,"nz-select",63),C(29,Oc,1,2,"nz-option",64),r()()()(),a(30,"div",62)(31,"nz-form-item")(32,"nz-form-label"),m(33,"\u98A8\u96AA\u7B49\u7D1A"),r(),a(34,"nz-form-control")(35,"nz-select",65),C(36,Pc,1,2,"nz-option",64),r()()()()(),a(37,"div",61)(38,"div",62)(39,"nz-form-item")(40,"nz-form-label"),m(41,"\u50B3\u771F"),r(),a(42,"nz-form-control"),d(43,"input",66),r()()(),a(44,"div",62)(45,"nz-form-item")(46,"nz-form-label"),m(47,"\u7DB2\u7AD9"),r(),a(48,"nz-form-control"),d(49,"input",67),r()()()()(),P()),t&2){let e=c();l(),p("formGroup",e.createForm),l(21),p("nzGutter",16),l(7),p("ngForOf",e.statusOptions),l(7),p("ngForOf",e.riskOptions),l(),p("nzGutter",16)}}function Bc(t,i){if(t&1&&d(0,"nz-option",68),t&2){let e=i.$implicit;p("nzLabel",e)("nzValue",e)}}function Vc(t,i){if(t&1&&d(0,"nz-option",68),t&2){let e=i.$implicit;p("nzLabel",e)("nzValue",e)}}function Wc(t,i){if(t&1&&(O(0),a(1,"form",51)(2,"nz-form-item")(3,"nz-form-label",52),m(4,"\u516C\u53F8\u540D\u7A31"),r(),a(5,"nz-form-control",53),d(6,"input",54),r()(),a(7,"nz-form-item")(8,"nz-form-label",52),m(9,"\u7D71\u4E00\u7DE8\u865F"),r(),a(10,"nz-form-control",55),d(11,"input",56),r()(),a(12,"nz-form-item")(13,"nz-form-label",52),m(14,"\u516C\u53F8\u5730\u5740"),r(),a(15,"nz-form-control",57),d(16,"input",58),r()(),a(17,"nz-form-item")(18,"nz-form-label",52),m(19,"\u806F\u7D61\u96FB\u8A71"),r(),a(20,"nz-form-control",59),d(21,"input",60),r()(),a(22,"div",61)(23,"div",62)(24,"nz-form-item")(25,"nz-form-label"),m(26,"\u72C0\u614B"),r(),a(27,"nz-form-control")(28,"nz-select",63),C(29,Bc,1,2,"nz-option",64),r()()()(),a(30,"div",62)(31,"nz-form-item")(32,"nz-form-label"),m(33,"\u98A8\u96AA\u7B49\u7D1A"),r(),a(34,"nz-form-control")(35,"nz-select",65),C(36,Vc,1,2,"nz-option",64),r()()()()(),a(37,"div",61)(38,"div",62)(39,"nz-form-item")(40,"nz-form-label"),m(41,"\u50B3\u771F"),r(),a(42,"nz-form-control"),d(43,"input",66),r()()(),a(44,"div",62)(45,"nz-form-item")(46,"nz-form-label"),m(47,"\u7DB2\u7AD9"),r(),a(48,"nz-form-control"),d(49,"input",67),r()()()()(),P()),t&2){let e=c();l(),p("formGroup",e.createForm),l(21),p("nzGutter",16),l(7),p("ngForOf",e.statusOptions),l(7),p("ngForOf",e.riskOptions),l(),p("nzGutter",16)}}function Ac(t,i){if(t&1&&(O(0),d(1,"app-workflow-designer",69),P()),t&2){let e=c();l(),p("companyId",e.currentWorkflowCompanyId())}}var Fn=class Fn{constructor(){this.companyService=_(En);this.fb=_(Ta);this.message=_(Ae);this.searchQuerySignal=X("");this.isCreateModalVisible=!1;this.isEditModalVisible=!1;this.isSubmittingSignal=X(!1);this.editingCompanyIdSignal=X(null);this.expandSetSignal=X(new Set);this.editingContactIndexSignal=X(-1);this.currentEditingCompanyIdSignal=X(null);this.isSubmittingContactSignal=X(!1);this.editingContactSignal=X({name:"",title:"",email:"",phone:"",isPrimary:!1});this.originalContactSignal=X(null);this.isWorkflowDesignerVisibleSignal=X(!1);this.currentWorkflowCompanyIdSignal=X("");this.createForm=this.fb.group({companyName:["",[ut.required]],businessRegistrationNumber:["",[ut.required]],address:["",[ut.required]],businessPhone:["",[ut.required]],status:["\u555F\u7528\u4E2D"],riskLevel:["\u4F4E"],fax:[""],website:[""]});this.editForm=this.fb.group({companyName:["",[ut.required]],businessRegistrationNumber:["",[ut.required]],address:["",[ut.required]],businessPhone:["",[ut.required]],status:["\u555F\u7528\u4E2D"],riskLevel:["\u4F4E"],fax:[""],website:[""]});this.statusOptions=Object.values(tr);this.riskOptions=Object.values(ir);this.isSubmitting=this.isSubmittingSignal.asReadonly();this.searchQuery=this.searchQuerySignal.asReadonly();this.filteredCompanies=Ne(()=>{let i=this.searchQuerySignal().toLowerCase().trim(),e=this.companyService.companies();return i?e.filter(n=>n.companyName.toLowerCase().includes(i)||n.businessRegistrationNumber.includes(i)):e});this.expandSet=this.expandSetSignal.asReadonly();this.editingContactIndex=this.editingContactIndexSignal.asReadonly();this.currentEditingCompanyId=this.currentEditingCompanyIdSignal.asReadonly();this.isSubmittingContact=this.isSubmittingContactSignal.asReadonly();this.editingContact=this.editingContactSignal.asReadonly();this.editingCompanyId=this.editingCompanyIdSignal.asReadonly();this.isWorkflowDesignerVisible=this.isWorkflowDesignerVisibleSignal.asReadonly();this.currentWorkflowCompanyId=this.currentWorkflowCompanyIdSignal.asReadonly()}onSearch(i){this.searchQuerySignal.set(i)}showCreateModal(){this.isCreateModalVisible=!0,this.createForm.reset({status:"\u555F\u7528\u4E2D",riskLevel:"\u4F4E"})}handleCreateCompany(){if(this.createForm.invalid){this.markFormGroupTouched();return}this.isSubmittingSignal.set(!0);let i=this.createForm.value;this.companyService.createCompany(i).subscribe({next:()=>{this.message.success("\u65B0\u589E\u5408\u4F5C\u5925\u4F34\u6210\u529F"),this.isCreateModalVisible=!1,this.createForm.reset()},error:e=>{console.error("\u5275\u5EFA\u516C\u53F8\u5931\u6557:",e),this.message.error("\u65B0\u589E\u5408\u4F5C\u5925\u4F34\u5931\u6557")},complete:()=>{this.isSubmittingSignal.set(!1)}})}handleCancelCreate(){this.isCreateModalVisible=!1,this.createForm.reset()}onExpandChange(i,e){let n=new Set(this.expandSetSignal());e?n.add(i):(n.delete(i),this.currentEditingCompanyIdSignal()===i&&this.cancelEditContact()),this.expandSetSignal.set(n)}getContactsForCompany(i){return this.filteredCompanies().find(n=>n.id===i)?.contacts||[]}addContact(i){this.editingContactIndexSignal.set(-2),this.currentEditingCompanyIdSignal.set(i),this.editingContactSignal.set({name:"",title:"",email:"",phone:"",isPrimary:!1}),this.originalContactSignal.set(null)}editContact(i,e,n){this.editingContactIndexSignal.set(e),this.currentEditingCompanyIdSignal.set(i),this.editingContactSignal.set(pe({},n)),this.originalContactSignal.set(pe({},n))}saveContact(i,e){let n=this.editingContactSignal();if(!n.name.trim()||!n.email.trim()){this.message.error("\u8ACB\u586B\u5BEB\u5FC5\u8981\u6B04\u4F4D");return}this.isSubmittingContactSignal.set(!0),(e===-1?this.companyService.addContact(i,n):this.companyService.updateContact(i,e,n)).subscribe({next:()=>{let s=e===-1?"\u65B0\u589E\u806F\u7D61\u4EBA\u6210\u529F":"\u66F4\u65B0\u806F\u7D61\u4EBA\u6210\u529F";this.message.success(s),this.cancelEditContact()},error:s=>{console.error("\u806F\u7D61\u4EBA\u64CD\u4F5C\u5931\u6557:",s),this.message.error("\u64CD\u4F5C\u5931\u6557")},complete:()=>{this.isSubmittingContactSignal.set(!1)}})}deleteContact(i,e){this.companyService.removeContact(i,e).subscribe({next:()=>{this.message.success("\u522A\u9664\u806F\u7D61\u4EBA\u6210\u529F"),this.currentEditingCompanyIdSignal()===i&&this.editingContactIndexSignal()===e&&this.cancelEditContact()},error:n=>{console.error("\u522A\u9664\u806F\u7D61\u4EBA\u5931\u6557:",n),this.message.error("\u522A\u9664\u806F\u7D61\u4EBA\u5931\u6557")}})}cancelEditContact(){this.editingContactIndexSignal.set(-1),this.currentEditingCompanyIdSignal.set(null),this.editingContactSignal.set({name:"",title:"",email:"",phone:"",isPrimary:!1}),this.originalContactSignal.set(null)}trackByCompanyId(i,e){return e.id}trackByContactIndex(i,e){return`${e.name}-${e.email}-${i}`}showEditModal(i){this.editingCompanyIdSignal.set(i.id),this.isEditModalVisible=!0,this.editForm.patchValue({companyName:i.companyName,businessRegistrationNumber:i.businessRegistrationNumber,address:i.address,businessPhone:i.businessPhone,status:i.status,riskLevel:i.riskLevel,fax:i.fax,website:i.website})}handleUpdateCompany(){if(this.editForm.invalid){this.markFormGroupTouched(this.editForm);return}let i=this.editingCompanyIdSignal();if(!i)return;this.isSubmittingSignal.set(!0);let e=this.editForm.value;this.companyService.updateCompany(i,e).subscribe({next:()=>{this.message.success("\u66F4\u65B0\u5408\u4F5C\u5925\u4F34\u6210\u529F"),this.isEditModalVisible=!1,this.editForm.reset(),this.editingCompanyIdSignal.set(null)},error:n=>{console.error("\u66F4\u65B0\u516C\u53F8\u5931\u6557:",n),this.message.error("\u66F4\u65B0\u5408\u4F5C\u5925\u4F34\u5931\u6557")},complete:()=>{this.isSubmittingSignal.set(!1)}})}handleCancelEdit(){this.isEditModalVisible=!1,this.editForm.reset(),this.editingCompanyIdSignal.set(null)}deleteCompany(i){this.companyService.deleteCompany(i).subscribe({next:()=>{this.message.success("\u522A\u9664\u5408\u4F5C\u5925\u4F34\u6210\u529F")},error:e=>{console.error("\u522A\u9664\u516C\u53F8\u5931\u6557:",e),this.message.error("\u522A\u9664\u5408\u4F5C\u5925\u4F34\u5931\u6557")}})}showWorkflowDesigner(i){this.currentWorkflowCompanyIdSignal.set(i),this.isWorkflowDesignerVisibleSignal.set(!0)}closeWorkflowDesigner(){this.isWorkflowDesignerVisibleSignal.set(!1),this.currentWorkflowCompanyIdSignal.set("")}onWorkflowDesignerVisibleChange(i){this.isWorkflowDesignerVisibleSignal.set(i),i||this.currentWorkflowCompanyIdSignal.set("")}markFormGroupTouched(i=this.createForm){Object.keys(i.controls).forEach(e=>{let n=i.get(e);n&&(n.markAsTouched(),n.updateValueAndValidity())})}};Fn.\u0275fac=function(e){return new(e||Fn)},Fn.\u0275cmp=b({type:Fn,selectors:[["app-company-list"]],decls:21,vars:11,consts:[["searchButton",""],[1,"company-list-container"],[1,"header"],[1,"actions"],["nzSearch","",1,"search-input",3,"nzAddOnAfter"],["nz-input","","placeholder","\u641C\u5C0B\u516C\u53F8\u540D\u7A31\u6216\u7D71\u7DE8...",3,"ngModelChange","ngModel"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","plus"],["class","loading-container",4,"ngIf"],["nzNotFoundImage","simple","nzNotFoundContent","\u5C1A\u7121\u5408\u4F5C\u5925\u4F34\u8CC7\u6599",4,"ngIf"],[3,"nzData","nzPageSize","nzShowSizeChanger","nzShowQuickJumper",4,"ngIf"],["nzTitle","\u65B0\u589E\u5408\u4F5C\u5925\u4F34","nzWidth","600px",3,"nzVisibleChange","nzOnOk","nzOnCancel","nzVisible","nzOkLoading"],[4,"nzModalContent"],["nzTitle","\u7DE8\u8F2F\u5408\u4F5C\u5925\u4F34","nzWidth","600px",3,"nzVisibleChange","nzOnOk","nzOnCancel","nzVisible","nzOkLoading"],["nzTitle","\u5DE5\u4F5C\u6D41\u7A0B\u8A2D\u8A08\u5668","nzWidth","90%",3,"nzOnCancel","nzVisibleChange","nzVisible","nzFooter"],["nz-button","","nzType","primary","nzSearch",""],["nz-icon","","nzType","search"],[1,"loading-container"],["nzSize","large","nzTip","\u8F09\u5165\u4E2D..."],["nzNotFoundImage","simple","nzNotFoundContent","\u5C1A\u7121\u5408\u4F5C\u5925\u4F34\u8CC7\u6599"],["nz-empty-footer",""],[3,"nzData","nzPageSize","nzShowSizeChanger","nzShowQuickJumper"],["nzWidth","50px"],["nzWidth","160px"],[3,"nzExpandChange","nzExpand"],["nz-button","","nzType","link","nzSize","small",3,"click"],["nz-icon","","nzType","setting"],["nz-icon","","nzType","edit"],["nz-button","","nzType","link","nzSize","small","nzDanger","","nz-popconfirm","","nzPopconfirmTitle","\u78BA\u5B9A\u8981\u522A\u9664\u6B64\u5408\u4F5C\u5925\u4F34\u55CE\uFF1F","nzPopconfirmPlacement","topRight",3,"nzOnConfirm"],["nz-icon","","nzType","delete"],["colspan","9",1,"contact-table-container"],[1,"contact-section"],["nzSize","small",3,"nzData","nzShowPagination"],["nzWidth","120px"],[1,"adding-contact-row"],["nz-button","","nzType","dashed","nzBlock","",1,"add-contact-btn"],[3,"ngModel"],["nzErrorTip","\u8ACB\u8F38\u5165\u59D3\u540D"],["nz-input","","placeholder","\u8ACB\u8F38\u5165\u59D3\u540D",3,"ngModelChange","ngModel"],["nzErrorTip","\u8ACB\u8F38\u5165\u8077\u7A31"],["nz-input","","placeholder","\u8ACB\u8F38\u5165\u8077\u7A31",3,"ngModelChange","ngModel"],["nzErrorTip","\u8ACB\u8F38\u5165\u6709\u6548\u7684Email"],["nz-input","","placeholder","\u8ACB\u8F38\u5165Email","type","email",3,"ngModelChange","ngModel"],["nzErrorTip","\u8ACB\u8F38\u5165\u96FB\u8A71"],["nz-input","","placeholder","\u8ACB\u8F38\u5165\u96FB\u8A71",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[3,"click"],["nz-icon","","nzType","loading"],["nzType","vertical"],["nz-popconfirm","","nzPopconfirmTitle","\u662F\u5426\u8981\u522A\u9664\u6B64\u806F\u7D61\u4EBA\uFF1F",3,"nzOnConfirm"],["nz-button","","nzType","dashed","nzBlock","",1,"add-contact-btn",3,"click"],["nz-form","","nzLayout","vertical",3,"formGroup"],["nzRequired",""],["nzErrorTip","\u8ACB\u8F38\u5165\u516C\u53F8\u540D\u7A31"],["nz-input","","formControlName","companyName","placeholder","\u8ACB\u8F38\u5165\u516C\u53F8\u540D\u7A31"],["nzErrorTip","\u8ACB\u8F38\u5165\u7D71\u4E00\u7DE8\u865F"],["nz-input","","formControlName","businessRegistrationNumber","placeholder","\u8ACB\u8F38\u5165\u7D71\u4E00\u7DE8\u865F"],["nzErrorTip","\u8ACB\u8F38\u5165\u516C\u53F8\u5730\u5740"],["nz-input","","formControlName","address","placeholder","\u8ACB\u8F38\u5165\u516C\u53F8\u5730\u5740"],["nzErrorTip","\u8ACB\u8F38\u5165\u806F\u7D61\u96FB\u8A71"],["nz-input","","formControlName","businessPhone","placeholder","\u8ACB\u8F38\u5165\u806F\u7D61\u96FB\u8A71"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","12"],["formControlName","status","placeholder","\u8ACB\u9078\u64C7\u72C0\u614B"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["formControlName","riskLevel","placeholder","\u8ACB\u9078\u64C7\u98A8\u96AA\u7B49\u7D1A"],["nz-input","","formControlName","fax","placeholder","\u8ACB\u8F38\u5165\u50B3\u771F"],["nz-input","","formControlName","website","placeholder","\u8ACB\u8F38\u5165\u7DB2\u7AD9"],[3,"nzLabel","nzValue"],[3,"companyId"]],template:function(e,n){if(e&1){let o=S();a(0,"div",1)(1,"div",2)(2,"h2"),m(3,"\u5408\u4F5C\u5925\u4F34\u7BA1\u7406"),r(),a(4,"div",3)(5,"nz-input-group",4)(6,"input",5),v("ngModelChange",function(u){return x(o),y(n.onSearch(u))}),r()(),C(7,cc,2,0,"ng-template",null,0,B),a(9,"button",6),v("click",function(){return x(o),y(n.showCreateModal())}),d(10,"span",7),m(11," \u65B0\u589E\u5408\u4F5C\u5925\u4F34 "),r()()(),C(12,pc,2,0,"div",8)(13,dc,4,0,"nz-empty",9)(14,Fc,23,4,"nz-table",10),a(15,"nz-modal",11),q("nzVisibleChange",function(u){return x(o),Q(n.isCreateModalVisible,u)||(n.isCreateModalVisible=u),y(u)}),v("nzOnOk",function(){return x(o),y(n.handleCreateCompany())})("nzOnCancel",function(){return x(o),y(n.handleCancelCreate())}),C(16,Ic,50,5,"ng-container",12),r(),a(17,"nz-modal",13),q("nzVisibleChange",function(u){return x(o),Q(n.isEditModalVisible,u)||(n.isEditModalVisible=u),y(u)}),v("nzOnOk",function(){return x(o),y(n.handleUpdateCompany())})("nzOnCancel",function(){return x(o),y(n.handleCancelEdit())}),C(18,Wc,50,5,"ng-container",12),r(),a(19,"nz-modal",14),v("nzOnCancel",function(){return x(o),y(n.closeWorkflowDesigner())})("nzVisibleChange",function(u){return x(o),y(n.onWorkflowDesignerVisibleChange(u))}),C(20,Ac,2,1,"ng-container",12),r()()}if(e&2){let o=I(8);l(5),p("nzAddOnAfter",o),l(),p("ngModel",n.searchQuery()),l(6),p("ngIf",n.companyService.loading()),l(),p("ngIf",!n.companyService.loading()&&!n.companyService.hasCompanies()),l(),p("ngIf",!n.companyService.loading()&&n.companyService.hasCompanies()),l(),H("nzVisible",n.isCreateModalVisible),p("nzOkLoading",n.isSubmitting()),l(2),H("nzVisible",n.isEditModalVisible),p("nzOkLoading",n.isSubmitting()),l(2),p("nzVisible",n.isWorkflowDesignerVisible())("nzFooter",null)}},dependencies:[E,li,si,Se,rn,on,xt,an,yt,Ke,Ma,Da,et,Ia,Na,Oa,Fa,Va,Pa,Ba,De,mn,Ra,he,Ye,Ve,_t,we,ln,We,gi,ui,Te,ve,ye,pn,cn,un,dn,Me,Mi,Di,Le,Ti,wi,Si,ee,se,xe,St,Re,bi,nt,Ha,oo],styles:[".company-list-container[_ngcontent-%COMP%]{padding:24px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.actions[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center}.search-input[_ngcontent-%COMP%]{width:300px}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:200px}.contact-table-container[_ngcontent-%COMP%]{padding:0!important}.contact-section[_ngcontent-%COMP%]{padding:16px}.contact-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-weight:600}.add-contact-btn[_ngcontent-%COMP%]{margin-top:12px;border-style:dashed}.adding-contact-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px}.adding-contact-row[_ngcontent-%COMP%]   nz-form-item[_ngcontent-%COMP%]{margin-bottom:0}.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.6;cursor:not-allowed}"],changeDetection:0});var ao=Fn;var Rc=["template"],Ir=["*"];function Lc(t,i){if(t&1&&(O(0),m(1),P()),t&2){let e=c(3);l(),z(e.nzLabel)}}function Gc(t,i){if(t&1&&(a(0,"div",2),C(1,Lc,2,1,"ng-container",5),r()),t&2){let e=c(2);l(),p("nzStringTemplateOutlet",e.nzLabel)}}function jc(t,i){if(t&1&&(O(0),m(1),P()),t&2){let e=c(2);l(),z(e.nzDot)}}function $c(t,i){if(t&1&&(a(0,"li",1),g(1,Gc,2,1,"div",2),d(2,"div",3),a(3,"div",4),C(4,jc,2,1,"ng-container",5),r(),a(5,"div",6),ct(6),r()()),t&2){let e=c();F("ant-timeline-item-right",(e.nzPosition||e.position)==="right")("ant-timeline-item-left",(e.nzPosition||e.position)==="left")("ant-timeline-item-last",e.isLast),l(),f(e.nzLabel?1:-1),l(2),ke("border-color",e.borderColor),F("ant-timeline-item-head-red",e.nzColor==="red")("ant-timeline-item-head-blue",e.nzColor==="blue")("ant-timeline-item-head-green",e.nzColor==="green")("ant-timeline-item-head-gray",e.nzColor==="gray")("ant-timeline-item-head-custom",!!e.nzDot),l(),p("nzStringTemplateOutlet",e.nzDot)}}function Hc(t,i){if(t&1&&Ln(0,2),t&2){c();let e=I(6);p("ngTemplateOutlet",e)}}function Qc(t,i){}function qc(t,i){if(t&1&&C(0,Qc,0,0,"ng-template",2),t&2){let e=i.$implicit;p("ngTemplateOutlet",e.template)}}function Uc(t,i){if(t&1&&Ln(0,2),t&2){c();let e=I(6);p("ngTemplateOutlet",e)}}function Xc(t,i){t&1&&d(0,"nz-icon",8)}function Zc(t,i){if(t&1&&(O(0),m(1),g(2,Xc,1,0,"nz-icon",8),P()),t&2){let e=c(3);l(),T(" ",e.nzPendingDot," "),l(),f(e.nzPendingDot?-1:2)}}function Yc(t,i){if(t&1&&(O(0),m(1),P()),t&2){let e=c(3);l(),T(" ",e.isPendingBoolean?"":e.nzPending," ")}}function Kc(t,i){if(t&1&&(a(0,"li",3),d(1,"div",4),a(2,"div",5),C(3,Zc,3,2,"ng-container",6),r(),a(4,"div",7),C(5,Yc,2,1,"ng-container",6),r()()),t&2){let e=c(2);l(3),p("nzStringTemplateOutlet",e.nzPendingDot),l(2),p("nzStringTemplateOutlet",e.nzPending)}}function Jc(t,i){if(t&1&&g(0,Kc,6,2,"li",3),t&2){let e=c();f(e.nzPending?0:-1)}}var $o=(()=>{class t{check$=new ea(1);markForCheck(){this.check$.next()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=J({token:t,factory:t.\u0275fac})}return t})(),ep=["red","blue","green","grey","gray"];function tp(t){return ep.findIndex(i=>i===t)!==-1}var ro=(()=>{class t{cdr=_(Y);timelineService=_($o);template;nzPosition;nzColor="blue";nzDot;nzLabel;isLast=!1;borderColor=null;position;ngOnChanges(e){this.timelineService.markForCheck();let{nzColor:n}=e;n&&this.updateCustomColor()}detectChanges(){this.cdr.detectChanges()}updateCustomColor(){this.borderColor=tp(this.nzColor)?null:this.nzColor}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=b({type:t,selectors:[["nz-timeline-item"],["","nz-timeline-item",""]],viewQuery:function(n,o){if(n&1&&gt(Rc,5),n&2){let s;pt(s=dt())&&(o.template=s.first)}},inputs:{nzPosition:"nzPosition",nzColor:"nzColor",nzDot:"nzDot",nzLabel:"nzLabel"},exportAs:["nzTimelineItem"],features:[Ee],ngContentSelectors:Ir,decls:2,vars:0,consts:[["template",""],[1,"ant-timeline-item"],[1,"ant-timeline-item-label"],[1,"ant-timeline-item-tail"],[1,"ant-timeline-item-head"],[4,"nzStringTemplateOutlet"],[1,"ant-timeline-item-content"]],template:function(n,o){n&1&&(mt(),C(0,$c,7,20,"ng-template",null,0,B))},dependencies:[re,ae],encapsulation:2,changeDetection:0})}return t})(),Ho=(()=>{class t{cdr=_(Y);timelineService=_($o);directionality=_(pi);destroyRef=_(ia);listOfItems;nzMode="left";nzPending;nzPendingDot;nzReverse=!1;isPendingBoolean=!1;timelineItems=[];dir="ltr";hasLabelItem=!1;ngOnChanges(e){let{nzMode:n,nzReverse:o,nzPending:s}=e;(Pr(n)||Pr(o))&&this.updateChildren(),s&&(this.isPendingBoolean=s.currentValue===!0)}ngOnInit(){this.timelineService.check$.pipe(tn(this.destroyRef)).subscribe(()=>{this.cdr.markForCheck()}),this.directionality.change?.pipe(tn(this.destroyRef)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.updateChildren(),this.listOfItems.changes.pipe(tn(this.destroyRef)).subscribe(()=>{this.updateChildren()})}updateChildren(){if(this.listOfItems&&this.listOfItems.length){let e=this.listOfItems.length,n=!1;this.listOfItems.forEach((o,s)=>{o.isLast=this.nzReverse?s===0:s===e-1,o.position=np(s,this.nzMode),!n&&o.nzLabel&&(n=!0),o.detectChanges()}),this.timelineItems=this.nzReverse?this.listOfItems.toArray().reverse():this.listOfItems.toArray(),this.hasLabelItem=n}else this.timelineItems=[],this.hasLabelItem=!1;this.cdr.markForCheck()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=b({type:t,selectors:[["nz-timeline"]],contentQueries:function(n,o,s){if(n&1&&la(s,ro,4),n&2){let u;pt(u=dt())&&(o.listOfItems=u)}},inputs:{nzMode:"nzMode",nzPending:"nzPending",nzPendingDot:"nzPendingDot",nzReverse:[2,"nzReverse","nzReverse",K]},exportAs:["nzTimeline"],features:[ai([$o]),Ee],ngContentSelectors:Ir,decls:8,vars:14,consts:[["pendingTemplate",""],[1,"ant-timeline"],[3,"ngTemplateOutlet"],[1,"ant-timeline-item","ant-timeline-item-pending"],[1,"ant-timeline-item-tail"],[1,"ant-timeline-item-head","ant-timeline-item-head-custom","ant-timeline-item-head-blue"],[4,"nzStringTemplateOutlet"],[1,"ant-timeline-item-content"],["nzType","loading"]],template:function(n,o){n&1&&(mt(),a(0,"ul",1),g(1,Hc,1,1,"ng-container",2),j(2,qc,1,1,null,2,ra),g(4,Uc,1,1,"ng-container",2),r(),C(5,Jc,1,1,"ng-template",null,0,B),ct(7)),n&2&&(F("ant-timeline-label",o.hasLabelItem)("ant-timeline-right",!o.hasLabelItem&&o.nzMode==="right")("ant-timeline-alternate",o.nzMode==="alternate"||o.nzMode==="custom")("ant-timeline-pending",!!o.nzPending)("ant-timeline-reverse",o.nzReverse)("ant-timeline-rtl",o.dir==="rtl"),l(),f(o.nzReverse?1:-1),l(),$(o.timelineItems),l(2),f(o.nzReverse?-1:4))},dependencies:[mi,re,ae,ee,se],encapsulation:2,changeDetection:0})}return t})();function Pr(t){return!!(t&&(t.previousValue!==t.currentValue||t.isFirstChange()))}function np(t,i){if(i!=="custom")return i==="left"||i==="right"?i:i==="alternate"&&t%2===0?"left":"right"}var Br=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=L({type:t});static \u0275inj=R({imports:[ro,Ho]})}return t})();function op(t,i){if(t&1){let e=S();a(0,"div",15),v("click",function(){let o=x(e).$implicit,s=c(3);return y(s.selectTransition(o))}),a(1,"nz-tag",16),m(2),r()()}if(t&2){let e=i.$implicit,n=c(3);F("selected",n.selectedTransition()===e),l(),p("nzColor",n.workflowState.getStateColor(e)),l(),T(" ",n.workflowState.getStateDisplayName(e)," ")}}function ap(t,i){if(t&1){let e=S();a(0,"div",17)(1,"form",18)(2,"nz-form-item")(3,"nz-form-label"),m(4,"\u64CD\u4F5C\u4EBA\u54E1"),r(),a(5,"nz-form-control")(6,"input",19),q("ngModelChange",function(o){x(e);let s=c(3);return Q(s.transitionOperator,o)||(s.transitionOperator=o),y(o)}),r()()(),a(7,"nz-form-item")(8,"nz-form-label"),m(9,"\u5099\u8A3B"),r(),a(10,"nz-form-control")(11,"textarea",20),q("ngModelChange",function(o){x(e);let s=c(3);return Q(s.transitionComment,o)||(s.transitionComment=o),y(o)}),m(12," "),r()()(),a(13,"nz-form-item")(14,"nz-form-control")(15,"button",21),v("click",function(){x(e);let o=c(3);return y(o.executeTransition())}),m(16," \u57F7\u884C\u72C0\u614B\u8F49\u63DB "),r(),a(17,"button",22),v("click",function(){x(e);let o=c(3);return y(o.cancelTransition())}),m(18," \u53D6\u6D88 "),r()()()()()}if(t&2){let e=c(3);l(6),H("ngModel",e.transitionOperator),l(5),H("ngModel",e.transitionComment),l(4),p("nzLoading",e.isSubmitting())}}function rp(t,i){if(t&1&&(a(0,"div",11)(1,"h4"),m(2,"\u53EF\u57F7\u884C\u64CD\u4F5C"),r(),a(3,"div",12),C(4,op,3,4,"div",13),r(),C(5,ap,19,3,"div",14),r()),t&2){let e=c(2);l(4),p("ngForOf",e.workflowState.availableTransitions),l(),p("ngIf",e.selectedTransition())}}function lp(t,i){t&1&&(a(0,"div",23)(1,"nz-tag",24),d(2,"span",25),m(3," \u6B64\u72C0\u614B\u70BA\u7D42\u7D50\u72C0\u614B\uFF0C\u7121\u6CD5\u9032\u884C\u9032\u4E00\u6B65\u64CD\u4F5C "),r()())}function sp(t,i){if(t&1&&(a(0,"div",33),m(1),r()),t&2){let e=c(2).$implicit;l(),T(" \u64CD\u4F5C\u4EBA\u54E1: ",e.operator," ")}}function mp(t,i){if(t&1&&(a(0,"div",34),m(1),r()),t&2){let e=c(2).$implicit;l(),T(" \u5099\u8A3B: ",e.comment," ")}}function cp(t,i){if(t&1&&(a(0,"div",30),C(1,sp,2,1,"div",31)(2,mp,2,1,"div",32),r()),t&2){let e=c().$implicit;l(),p("ngIf",e.operator),l(),p("ngIf",e.comment)}}function pp(t,i){if(t&1&&(a(0,"nz-timeline-item",16)(1,"div",26)(2,"div",27)(3,"nz-tag",16),m(4),r(),a(5,"span",28),m(6),w(7,"date"),r()(),C(8,cp,3,2,"div",29),r()()),t&2){let e=i.$implicit,n=c(2);p("nzColor",(n.workflowState==null?null:n.workflowState.getStateColor(e.state))||"default"),l(3),p("nzColor",(n.workflowState==null?null:n.workflowState.getStateColor(e.state))||"default"),l(),T(" ",(n.workflowState==null?null:n.workflowState.getStateDisplayName(e.state))||e.state," "),l(2),T(" ",Gt(7,5,e.timestamp,"yyyy-MM-dd HH:mm:ss")," "),l(2),p("ngIf",e.operator||e.comment)}}function dp(t,i){if(t&1&&(O(0),a(1,"div",2)(2,"div",3)(3,"h4"),m(4,"\u7576\u524D\u72C0\u614B"),r(),a(5,"div",4)(6,"nz-tag",5),d(7,"span",6),m(8),r()()(),d(9,"nz-divider"),C(10,rp,6,2,"div",7)(11,lp,4,0,"div",8),d(12,"nz-divider"),a(13,"div",9)(14,"h4"),m(15,"\u72C0\u614B\u6B77\u53F2"),r(),a(16,"nz-timeline"),C(17,pp,9,8,"nz-timeline-item",10),r()()(),P()),t&2){let e=c();l(6),p("nzColor",(e.workflowState==null?null:e.workflowState.getStateColor())||"default"),l(),p("nzType",e.getStateIcon()),l(),T(" ",(e.workflowState==null?null:e.workflowState.getStateDisplayName())||"Unknown"," "),l(2),p("ngIf",e.workflowState&&!e.workflowState.isFinalState()),l(),p("ngIf",e.workflowState==null?null:e.workflowState.isFinalState()),l(6),p("ngForOf",e.workflowState==null?null:e.workflowState.stateHistory)}}var On=class On{constructor(){this.workflowState=null;this.visible=!1;this.visibleChange=new oe;this.stateTransition=new oe;this.selectedTransitionSignal=X(null);this.isSubmittingSignal=X(!1);this.message=_(Ae);this.transitionOperator="";this.transitionComment="";this.selectedTransition=this.selectedTransitionSignal.asReadonly();this.isSubmitting=this.isSubmittingSignal.asReadonly()}selectTransition(i){this.selectedTransitionSignal.set(i),this.transitionOperator="",this.transitionComment=""}cancelTransition(){this.selectedTransitionSignal.set(null),this.transitionOperator="",this.transitionComment=""}executeTransition(){let i=this.selectedTransition();if(!(!i||!this.workflowState)){if(!this.transitionOperator.trim()){this.message.error("\u8ACB\u8F38\u5165\u64CD\u4F5C\u4EBA\u54E1");return}if(!this.workflowState.canTransitionTo(i)){this.message.error("\u7121\u6CD5\u8F49\u63DB\u5230\u6B64\u72C0\u614B");return}this.isSubmittingSignal.set(!0);try{setTimeout(()=>{this.stateTransition.emit({companyId:this.companyId,newState:i,operator:this.transitionOperator.trim(),comment:this.transitionComment.trim()||void 0}),this.message.success("\u72C0\u614B\u8F49\u63DB\u6210\u529F"),this.cancelTransition(),this.onCancel(),this.isSubmittingSignal.set(!1)},1e3)}catch(e){console.error("\u72C0\u614B\u8F49\u63DB\u5931\u6557:",e),this.message.error("\u72C0\u614B\u8F49\u63DB\u5931\u6557"),this.isSubmittingSignal.set(!1)}}}onCancel(){this.visible=!1,this.visibleChange.emit(!1),this.cancelTransition()}getStateIcon(){return this.workflowState&&{Draft:"edit",Submitted:"upload",Reviewing:"eye",Approved:"check-circle",Rejected:"close-circle",Processing:"loading",Completed:"check",Cancelled:"stop"}[this.workflowState?.currentState||"Draft"]||"question"}};On.\u0275fac=function(e){return new(e||On)},On.\u0275cmp=b({type:On,selectors:[["app-payment-workflow"]],inputs:{companyId:"companyId",workflowState:"workflowState",visible:"visible"},outputs:{visibleChange:"visibleChange",stateTransition:"stateTransition"},decls:2,vars:2,consts:[["nzTitle","\u8ACB\u6B3E\u5DE5\u4F5C\u6D41\u7A0B\u72C0\u614B","nzWidth","700px",3,"nzVisibleChange","nzOnCancel","nzVisible","nzFooter"],[4,"nzModalContent"],[1,"workflow-container"],[1,"current-state-section"],[1,"current-state"],[1,"state-tag",3,"nzColor"],["nz-icon","",3,"nzType"],["class","transitions-section",4,"ngIf"],["class","final-state-notice",4,"ngIf"],[1,"history-section"],[3,"nzColor",4,"ngFor","ngForOf"],[1,"transitions-section"],[1,"transition-options"],["class","transition-option",3,"selected","click",4,"ngFor","ngForOf"],["class","transition-form",4,"ngIf"],[1,"transition-option",3,"click"],[3,"nzColor"],[1,"transition-form"],["nz-form","","nzLayout","vertical"],["nz-input","","placeholder","\u8ACB\u8F38\u5165\u64CD\u4F5C\u4EBA\u54E1\u59D3\u540D",3,"ngModelChange","ngModel"],["nz-input","","placeholder","\u8ACB\u8F38\u5165\u64CD\u4F5C\u5099\u8A3B\uFF08\u9078\u586B\uFF09","rows","3",3,"ngModelChange","ngModel"],["nz-button","","nzType","primary",3,"click","nzLoading"],["nz-button","","nzType","default",1,"ml-2",3,"click"],[1,"final-state-notice"],["nzColor","blue"],["nz-icon","","nzType","info-circle"],[1,"history-item"],[1,"history-header"],[1,"history-time"],["class","history-details",4,"ngIf"],[1,"history-details"],["class","history-operator",4,"ngIf"],["class","history-comment",4,"ngIf"],[1,"history-operator"],[1,"history-comment"]],template:function(e,n){e&1&&(a(0,"nz-modal",0),q("nzVisibleChange",function(s){return Q(n.visible,s)||(n.visible=s),s}),v("nzOnCancel",function(){return n.onCancel()}),C(1,dp,18,6,"ng-container",1),r()),e&2&&(H("nzVisible",n.visible),p("nzFooter",null))},dependencies:[E,li,si,Se,rn,on,xt,an,yt,hi,We,gi,ui,he,Ye,Ve,_t,we,ln,lr,Br,ro,Ho,De,mn,Me,Te,ve,ye,pn,cn,un,dn,ee,se,xe,St,ga],styles:[".workflow-container[_ngcontent-%COMP%]{padding:16px 0}.current-state-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .transitions-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .history-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-weight:600;color:#262626}.current-state[_ngcontent-%COMP%]{display:flex;align-items:center}.state-tag[_ngcontent-%COMP%]{font-size:14px;padding:4px 12px;border-radius:6px}.state-tag[_ngcontent-%COMP%]   .anticon[_ngcontent-%COMP%]{margin-right:6px}.transition-options[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:16px}.transition-option[_ngcontent-%COMP%]{cursor:pointer;padding:4px;border-radius:4px;transition:background-color .2s}.transition-option.selected[_ngcontent-%COMP%]{border:1px solid #1890ff}.transition-form[_ngcontent-%COMP%]{padding:16px;border-radius:6px;margin-top:16px}.final-state-notice[_ngcontent-%COMP%]{text-align:center;padding:16px;border-radius:6px}.history-item[_ngcontent-%COMP%]{margin-bottom:8px}.history-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:4px}.history-time[_ngcontent-%COMP%]{font-size:12px;color:#8c8c8c}.history-details[_ngcontent-%COMP%]{font-size:12px;color:#595959;margin-left:8px}.history-operator[_ngcontent-%COMP%]{margin-bottom:2px}.history-comment[_ngcontent-%COMP%]{font-style:italic}.ml-2[_ngcontent-%COMP%]{margin-left:8px}  .ant-timeline-item-content{margin-left:20px}"],changeDetection:0});var Vr=On;var Pn=class Pn{constructor(){}};Pn.\u0275fac=function(e){return new(e||Pn)},Pn.\u0275cmp=b({type:Pn,selectors:[["app-task-list"]],decls:6,vars:0,consts:[[1,"task-list-container"],[1,"task-list-content"]],template:function(e,n){e&1&&(de(0,"div",0)(1,"h2"),m(2,"\u4EFB\u52D9\u7BA1\u7406"),ue(),de(3,"div",1)(4,"p"),m(5,"\u4EFB\u52D9\u5217\u8868\u9801\u9762 - DDD\u67B6\u69CB"),ue()()())},dependencies:[E],styles:[".task-list-container[_ngcontent-%COMP%]{padding:24px}.task-list-content[_ngcontent-%COMP%]{margin-top:16px}"]});var In=Pn;var Bn=class Bn{constructor(){}};Bn.\u0275fac=function(e){return new(e||Bn)},Bn.\u0275cmp=b({type:Bn,selectors:[["app-task-detail"]],decls:6,vars:0,consts:[[1,"task-detail-container"],[1,"task-detail-content"]],template:function(e,n){e&1&&(de(0,"div",0)(1,"h2"),m(2,"\u4EFB\u52D9\u8A73\u60C5"),ue(),de(3,"div",1)(4,"p"),m(5,"\u4EFB\u52D9\u8A73\u60C5\u9801\u9762 - DDD\u67B6\u69CB"),ue()()())},dependencies:[E],styles:[".task-detail-container[_ngcontent-%COMP%]{padding:24px}.task-detail-content[_ngcontent-%COMP%]{margin-top:16px}"]});var lo=Bn;var Vn=class Vn{constructor(){}};Vn.\u0275fac=function(e){return new(e||Vn)},Vn.\u0275cmp=b({type:Vn,selectors:[["app-task-edit"]],decls:6,vars:0,consts:[[1,"task-edit-container"],[1,"task-edit-content"]],template:function(e,n){e&1&&(de(0,"div",0)(1,"h2"),m(2,"\u4EFB\u52D9\u7DE8\u8F2F"),ue(),de(3,"div",1)(4,"p"),m(5,"\u4EFB\u52D9\u7DE8\u8F2F\u9801\u9762 - DDD\u67B6\u69CB"),ue()()())},dependencies:[E],styles:[".task-edit-container[_ngcontent-%COMP%]{padding:24px}.task-edit-content[_ngcontent-%COMP%]{margin-top:16px}"]});var so=Vn;var PC=[{path:"",redirectTo:"v1",pathMatch:"full"},{path:"v1",component:qi},{path:"analysis",component:Li},{path:"monitor",component:Qi},{path:"workplace",component:Xi},{path:"contract-management",children:[{path:"",component:ar},{path:"create",component:rr}]},{path:"task-management",component:In},{path:"budget-management",component:Mn},{path:"business-partner",component:ao}];export{PC as routes};
