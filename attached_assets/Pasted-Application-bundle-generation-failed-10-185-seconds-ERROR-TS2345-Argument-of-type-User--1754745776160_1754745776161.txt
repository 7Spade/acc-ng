Application bundle generation failed. [10.185 seconds]

✘ [ERROR] TS2345: Argument of type 'User' is not assignable to parameter of type 'FirebaseUser'.
  Types of property 'photoURL' are incompatible.
    Type 'string | null' is not assignable to type 'string | undefined'.
      Type 'null' is not assignable to type 'string | undefined'. [plugin angular-compiler]

    src/app/domains/auth/application/services/auth-bridge.service.ts:53:43:
      53 │         const user = User.fromFirebaseUser(firebaseUser);
         ╵                                            ~~~~~~~~~~~~


✘ [ERROR] TS2345: Argument of type 'User' is not assignable to parameter of type 'FirebaseUser'.
  Types of property 'photoURL' are incompatible.
    Type 'string | null' is not assignable to type 'string | undefined'.
      Type 'null' is not assignable to type 'string | undefined'. [plugin angular-compiler]

    src/app/domains/auth/application/services/auth-bridge.service.ts:67:43:
      67 │         const user = User.fromFirebaseUser(firebaseUser);
         ╵                                            ~~~~~~~~~~~~


✘ [ERROR] TS2345: Argument of type 'User' is not assignable to parameter of type 'FirebaseUser'.
  Types of property 'photoURL' are incompatible.
    Type 'string | null' is not assignable to type 'string | undefined'.
      Type 'null' is not assignable to type 'string | undefined'. [plugin angular-compiler]

    src/app/domains/auth/application/services/auth-bridge.service.ts:81:44:
      81 │         const user = User.fromAnonymousUser(firebaseUser);
         ╵                                             ~~~~~~~~~~~~


✘ [ERROR] TS2345: Argument of type 'User' is not assignable to parameter of type 'FirebaseUser'.
  Types of property 'photoURL' are incompatible.
    Type 'string | null' is not assignable to type 'string | undefined'.
      Type 'null' is not assignable to type 'string | undefined'. [plugin angular-compiler]

    src/app/domains/auth/application/services/auth-bridge.service.ts:105:37:
      105 │         return User.fromFirebaseUser(firebaseUser);
          ╵                                      ~~~~~~~~~~~~


✘ [ERROR] TS2353: Object literal may only specify known properties, and 'msg' does not exist in type 'LoginResponse'. [plugin angular-compiler]

    src/app/domains/auth/application/services/auth-bridge.service.ts:177:6:
      177 │       msg: 'ok',
          ╵       ~~~


✘ [ERROR] TS2322: Type 'import("/home/runner/workspace/node_modules/rxjs/dist/types/internal/Observable").Observable<import("/home/runner/workspace/src/app/domains/auth/application/dto/responses/login-response.dto").LoginResponse>' is not assignable to type 'import("/home/runner/workspace/node_modules/rxjs/dist/types/internal/Observable").Observable<import("/home/runner/workspace/src/app/domains/auth/application/dto/responses/login.response").LoginResponse>'.
  Property 'msg' is missing in type 'import("/home/runner/workspace/src/app/domains/auth/application/dto/responses/login-response.dto").LoginResponse' but required in type 'import("/home/runner/workspace/src/app/domains/auth/application/dto/responses/login.response").LoginResponse'. [plugin angular-compiler]

    src/app/domains/auth/application/use-cases/login.use-case.ts:24:8:
      24 │         return this.authBridge.signInWithEmailPassword(command.ema...
         ╵         ~~~~~~

  'msg' is declared here.

    src/app/domains/auth/application/dto/responses/login.response.ts:5:2:
      5 │   msg: string;
        ╵   ~~~


✘ [ERROR] TS2322: Type 'import("/home/runner/workspace/node_modules/rxjs/dist/types/internal/Observable").Observable<import("/home/runner/workspace/src/app/domains/auth/application/dto/responses/login-response.dto").LoginResponse>' is not assignable to type 'import("/home/runner/workspace/node_modules/rxjs/dist/types/internal/Observable").Observable<import("/home/runner/workspace/src/app/domains/auth/application/dto/responses/login.response").LoginResponse>'.
  Property 'msg' is missing in type 'import("/home/runner/workspace/src/app/domains/auth/application/dto/responses/login-response.dto").LoginResponse' but required in type 'import("/home/runner/workspace/src/app/domains/auth/application/dto/responses/login.response").LoginResponse'. [plugin angular-compiler]

    src/app/domains/auth/application/use-cases/login.use-case.ts:27:8:
      27 │         return this.authBridge.signInWithGoogle();
         ╵         ~~~~~~

  'msg' is declared here.

    src/app/domains/auth/application/dto/responses/login.response.ts:5:2:
      5 │   msg: string;
        ╵   ~~~


✘ [ERROR] TS2345: Argument of type 'UserId' is not assignable to parameter of type 'Email'.
  Type 'UserId' is missing the following properties from type 'Email': domain, isValid [plugin angular-compiler]

    src/app/domains/auth/domain/entities/user.entity.ts:55:23:
      55 │ ...turn User.create(UserId.create(firebaseUser.uid), email, profile);
         ╵                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


✘ [ERROR] TS2345: Argument of type 'UserId' is not assignable to parameter of type 'Email'.
  Type 'UserId' is missing the following properties from type 'Email': domain, isValid [plugin angular-compiler]

    src/app/domains/auth/domain/entities/user.entity.ts:67:23:
      67 │ ...turn User.create(UserId.create(firebaseUser.uid), email, profile);
         ╵                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


✘ [ERROR] TS2339: Property 'msg' does not exist on type 'LoginResponse'. [plugin angular-compiler]

    src/app/routes/passport/login/login.component.ts:212:18:
      212 │           if (res.msg !== 'ok') {
          ╵                   ~~~


✘ [ERROR] TS2339: Property 'msg' does not exist on type 'LoginResponse'. [plugin angular-compiler]

    src/app/routes/passport/login/login.component.ts:213:29:
      213 │             this.error = res.msg || '匿名登入失敗';
          ╵                              ~~~


✘ [ERROR] TS2345: Argument of type '{ id: string; email: string; name: string; token: string; } | undefined' is not assignable to parameter of type 'ITokenModel | null'.
  Type 'undefined' is not assignable to type 'ITokenModel | null'. [plugin angular-compiler]

    src/app/routes/passport/login/login.component.ts:222:32:
      222 │           this.tokenService.set(res.user);
          ╵                                 ~~~~~~~~