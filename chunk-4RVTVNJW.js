import{a as Pn,c as kn,d as Ln,e as Vn,f as jn,g as Ot,i as Gn,j as $n}from"./chunk-YQMWIKIV.js";import{S as no,T as oo,m as ce,o as pe,p as to,q as eo}from"./chunk-N2ILLBMI.js";import{A as Kn,C as Xn,r as Wn,u as Hn,w as Yn,y as Zn,z as Jn}from"./chunk-KIMS7EYW.js";import{c as Pt,e as kt,f as ue,g as de,h as fe,i as Ce,j as ze}from"./chunk-WVPDNXYH.js";import{G as lt,H as ct,I as pt,J as me,O as mt,T as ut,b as te,c as O,e as st,f as ee,k as qn,l as ne,o as oe,r as ie,v as re,w as Qn,x as ae}from"./chunk-Q27INKBG.js";import{a as se,b as le}from"./chunk-EEHI3C5M.js";import{c as G,d as $,e as U}from"./chunk-JHA3YXM4.js";import{d as Xt}from"./chunk-EAEFT3AC.js";import{a as Un}from"./chunk-PWX5YMVJ.js";import{Ab as v,Bb as En,Be as nt,Cb as vn,Cc as Yt,Dc as et,Eb as L,Ec as bn,Ed as k,Eg as it,Fb as V,Fh as Bn,Gb as j,Gg as rt,Gh as On,Ha as i,Hg as at,Id as An,Jc as Zt,Kb as tt,La as yn,Lb as Wt,Lc as Sn,Mb as $e,Na as gn,Nd as wn,Oa as d,P as Cn,Pa as Rt,Pb as r,Qa as Le,Qb as Bt,Rb as N,Rc as Nn,Sc as C,Ua as R,V as Oe,Wa as T,Xa as Ve,Xh as q,Yh as Q,Za as hn,aa as X,b as dn,ba as It,ca as Pe,cc as xn,db as A,dc as Dn,ea as u,f as fn,fb as w,hc as _n,ka as D,kb as s,kc as Tn,la as _,lb as a,lc as Ht,mb as l,nb as h,ng as Qe,o as K,oa as zn,ob as z,og as We,p as I,pa as Ut,pb as y,pe as Ue,pg as He,qa as qt,qg as Ye,qh as Kt,rb as je,re as Fn,sb as Ge,ub as M,vg as In,wa as ke,wd as Jt,we as qe,wg as Rn,xb as E,xg as ot,ya as Qt,ze as Mn}from"./chunk-WYL5GNHD.js";import{a as J,b as Re,g as Be,i as F}from"./chunk-57BLH6QZ.js";var Ze=class{_document;_textarea;constructor(e,t){this._document=t;let n=this._textarea=this._document.createElement("textarea"),c=n.style;c.position="fixed",c.top=c.opacity="0",c.left="-999em",n.setAttribute("aria-hidden","true"),n.value=e,n.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(n)}copy(){let e=this._textarea,t=!1;try{if(e){let n=this._document.activeElement;e.select(),e.setSelectionRange(0,e.value.length),t=this._document.execCommand("copy"),n&&n.focus()}}catch{}return t}destroy(){let e=this._textarea;e&&(e.remove(),this._textarea=void 0)}},io=(()=>{class o{_document=u(Ut);constructor(){}copy(t){let n=this.beginCopy(t),c=n.copy();return n.destroy(),c}beginCopy(t){return new Ze(t,this._document)}static \u0275fac=function(n){return new(n||o)};static \u0275prov=X({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Je=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275dir=Le({type:o,selectors:[["button","nz-trans-button",""]],hostVars:8,hostBindings:function(n,c){n&2&&Wt("border","0")("background","transparent")("padding","0")("line-height","inherit")}})}return o})(),Ke=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=Rt({type:o});static \u0275inj=It({})}return o})();function go(o,e){if(o&1&&(je(0),h(1,"nz-icon",2),Ge()),o&2){let t=e.$implicit;i(),s("nzType",t)}}var ho=["textarea"];function Eo(o,e){if(o&1){let t=M();a(0,"textarea",2,0),E("blur",function(){D(t);let c=v();return _(c.confirm())}),l(),a(2,"button",3),E("click",function(){D(t);let c=v();return _(c.confirm())}),h(3,"nz-icon",4),l()}}function vo(o,e){if(o&1&&(je(0),h(1,"nz-icon",7),Ge()),o&2){let t=e.$implicit;i(),s("nzType",t)}}function xo(o,e){if(o&1){let t=M();a(0,"button",5),E("click",function(){D(t);let c=v();return _(c.onClick())}),R(1,vo,2,1,"ng-container",6),l()}if(o&2){let t=v();s("nzTooltipTitle",t.tooltip===null?null:t.tooltip||(t.locale==null?null:t.locale.edit)),i(),s("nzStringTemplateOutlet",t.icon)}}var Do=["ellipsisContainer"],_o=["expandable"],To=["contentTemplate"],bo=["*"],So=o=>({content:o});function No(o,e){o&1&&vn(0)}function Ao(o,e){if(o&1&&(A(0,No,1,0),r(1)),o&2){let t=e.content;w(t?-1:0),i(),N(" ",t," ")}}function wo(o,e){}function Fo(o,e){if(o&1&&r(0),o&2){let t=v(3);N(" ",t.nzSuffix," ")}}function Mo(o,e){if(o&1&&(R(0,wo,0,0,"ng-template",5),A(1,Fo,1,1)),o&2){let t=v(2),n=tt(1);s("ngTemplateOutlet",n)("ngTemplateOutletContext",Dn(3,So,t.nzContent)),i(),w(t.nzSuffix?1:-1)}}function Io(o,e){if(o&1&&r(0),o&2){let t=v(3);N(" ",t.ellipsisStr," ")}}function Ro(o,e){if(o&1&&r(0),o&2){let t=v(3);N(" ",t.nzSuffix," ")}}function Bo(o,e){if(o&1){let t=M();a(0,"a",7,2),E("click",function(){D(t);let c=v(3);return _(c.onExpand())}),r(2),l()}if(o&2){let t=v(3);i(2),N(" ",t.locale==null?null:t.locale.expand," ")}}function Oo(o,e){if(o&1&&(h(0,"span",null,1),A(2,Io,1,1),A(3,Ro,1,1),A(4,Bo,3,1,"a",6)),o&2){let t=v(2);i(2),w(t.isEllipsis?2:-1),i(),w(t.nzSuffix?3:-1),i(),w(t.nzExpandable&&t.isEllipsis?4:-1)}}function Po(o,e){if(o&1&&A(0,Mo,2,5)(1,Oo,5,3),o&2){let t=v();w(t.expanded||!t.hasOperationsWithEllipsis&&t.nzEllipsisRows===1&&!t.hasEllipsisObservers||t.canCssEllipsis||t.nzSuffix&&t.expanded?0:1)}}function ko(o,e){if(o&1){let t=M();a(0,"nz-text-edit",8),E("endEditing",function(c){D(t);let f=v();return _(f.onEndEditing(c))})("startEditing",function(){D(t);let c=v();return _(c.onStartEditing())}),l()}if(o&2){let t=v();s("text",t.nzContent)("icon",t.nzEditIcon)("tooltip",t.nzEditTooltip)}}function Lo(o,e){if(o&1){let t=M();a(0,"nz-text-copy",9),E("textCopy",function(c){D(t);let f=v();return _(f.onTextCopy(c))}),l()}if(o&2){let t=v();s("text",t.copyText)("tooltips",t.nzCopyTooltips)("icons",t.nzCopyIcons)}}var Xe=(()=>{class o{cdr=u(Yt);clipboard=u(io);i18n=u(Kt);destroyRef=u(qt);copied=!1;copyId;locale;nativeElement=u(Qt).nativeElement;copyTooltip=null;copedTooltip=null;copyIcon="copy";copedIcon="check";text;tooltips;icons=["copy","check"];textCopy=new T;constructor(){this.destroyRef.onDestroy(()=>{clearTimeout(this.copyId)})}ngOnInit(){this.i18n.localeChange.pipe(k(this.destroyRef)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.updateTooltips(),this.cdr.markForCheck()})}ngOnChanges(t){let{tooltips:n,icons:c}=t;n&&this.updateTooltips(),c&&this.updateIcons()}onClick(){if(this.copied)return;this.copied=!0,this.cdr.detectChanges();let t=this.text;this.textCopy.emit(t),this.clipboard.copy(t),this.onCopied()}onCopied(){clearTimeout(this.copyId),this.copyId=setTimeout(()=>{this.copied=!1,this.cdr.detectChanges()},3e3)}updateTooltips(){if(this.tooltips===null)this.copedTooltip=null,this.copyTooltip=null;else if(Array.isArray(this.tooltips)){let[t,n]=this.tooltips;this.copyTooltip=t||this.locale?.copy,this.copedTooltip=n||this.locale?.copied}else this.copyTooltip=this.locale?.copy,this.copedTooltip=this.locale?.copied;this.cdr.markForCheck()}updateIcons(){let[t,n]=this.icons;this.copyIcon=t,this.copedIcon=n,this.cdr.markForCheck()}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=d({type:o,selectors:[["nz-text-copy"]],inputs:{text:"text",tooltips:"tooltips",icons:"icons"},outputs:{textCopy:"textCopy"},exportAs:["nzTextCopy"],features:[ke],decls:2,vars:4,consts:[["type","button","nz-tooltip","","nz-trans-button","",1,"ant-typography-copy",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],[3,"nzType"]],template:function(n,c){n&1&&(a(0,"button",0),E("click",function(){return c.onClick()}),R(1,go,2,1,"ng-container",1),l()),n&2&&($e("ant-typography-copy-success",c.copied),s("nzTooltipTitle",c.copied?c.copedTooltip:c.copyTooltip),i(),s("nzStringTemplateOutlet",c.copied?c.copedIcon:c.copyIcon))},dependencies:[kt,Pt,Ke,Je,We,Qe,Ye,He],encapsulation:2,changeDetection:0})}return o})(),tn=(()=>{class o{ngZone=u(Ve);cdr=u(Yt);i18n=u(Kt);destroyRef=u(qt);editing=!1;locale;text;icon="edit";tooltip;startEditing=new T;endEditing=new T(!0);set textarea(t){this.textarea$.next(t)}autosizeDirective;beforeText;currentText;nativeElement=u(Qt).nativeElement;textarea$=new fn(null);injector=u(zn);ngOnInit(){this.i18n.localeChange.pipe(k(this.destroyRef)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.textarea$.pipe(Oe(t=>qe(t?.nativeElement,"keydown")),k(this.destroyRef)).subscribe(t=>{t.keyCode!==27&&t.keyCode!==13||this.ngZone.run(()=>{t.keyCode===27?this.onCancel():this.onEnter(t),this.cdr.markForCheck()})}),this.textarea$.pipe(Oe(t=>qe(t?.nativeElement,"input")),k(this.destroyRef)).subscribe(t=>{this.currentText=t.target.value})}onClick(){this.beforeText=this.text,this.currentText=this.beforeText,this.editing=!0,this.startEditing.emit(),this.focusAndSetValue()}confirm(){this.editing=!1,this.endEditing.emit(this.currentText)}onEnter(t){t.stopPropagation(),t.preventDefault(),this.confirm()}onCancel(){this.currentText=this.beforeText,this.confirm()}focusAndSetValue(){let{injector:t}=this;hn(()=>{this.textarea$.pipe(Cn(n=>n!=null),k(this.destroyRef)).subscribe(n=>{n.nativeElement.focus(),n.nativeElement.value=this.currentText||"",this.autosizeDirective.resizeToFitContent(),this.cdr.markForCheck()})},{injector:t})}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=d({type:o,selectors:[["nz-text-edit"]],viewQuery:function(n,c){if(n&1&&(L(ho,5),L(me,5)),n&2){let f;V(f=j())&&(c.textarea=f.first),V(f=j())&&(c.autosizeDirective=f.first)}},inputs:{text:"text",icon:"icon",tooltip:"tooltip"},outputs:{startEditing:"startEditing",endEditing:"endEditing"},exportAs:["nzTextEdit"],decls:2,vars:1,consts:[["textarea",""],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"nzTooltipTitle"],["nz-input","","nzAutosize","",3,"blur"],["nz-trans-button","",1,"ant-typography-edit-content-confirm",3,"click"],["nzType","enter"],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],[3,"nzType"]],template:function(n,c){n&1&&A(0,Eo,4,0)(1,xo,2,2,"button",1),n&2&&w(c.editing?0:1)},dependencies:[ut,mt,me,Ke,Je,We,Qe,kt,Pt,Ye,He],encapsulation:2,changeDetection:0})}return o})(),Vo="typography",jo="ant-typography-expand",Lt=(()=>{var B;let o,e=[],t=[],n,c=[],f=[],P,rn=[],an=[],sn,ln=[],cn=[],pn,mn=[],un=[];return B=class{_nzModuleName=Vo;nzConfigService=u(Mn);el=u(Qt).nativeElement;cdr=u(Yt);viewContainerRef=u(gn);renderer=u(yn);platform=u(An);i18n=u(Kt);resizeService=u(Un);directionality=u(wn);document=u(Ut);destroyRef=u(qt);nzCopyable=!1;nzEditable=!1;nzDisabled=!1;nzExpandable=!1;nzEllipsis=!1;nzCopyTooltips=I(this,e,void 0);nzCopyIcons=(I(this,t),I(this,c,["copy","check"]));nzEditTooltip=(I(this,f),I(this,rn,void 0));nzEditIcon=(I(this,an),I(this,ln,"edit"));nzContent=I(this,cn);nzEllipsisRows=I(this,mn,1);nzType=I(this,un);nzCopyText;nzSuffix;nzContentChange=new T;nzCopy=new T;nzExpandChange=new T;nzOnEllipsis=new T;textEditRef;textCopyRef;ellipsisContainer;expandableBtn;contentTemplate;locale;expandableBtnElementCache=null;editing=!1;ellipsisText;cssEllipsis=!1;isEllipsis=!0;expanded=!1;ellipsisStr="...";dir="ltr";get hasEllipsisObservers(){return this.nzOnEllipsis.observers.length>0}get canCssEllipsis(){return this.nzEllipsis&&this.cssEllipsis&&!this.expanded&&!this.hasEllipsisObservers}get hasOperationsWithEllipsis(){return(this.nzCopyable||this.nzEditable||this.nzExpandable)&&this.nzEllipsis}viewInit=!1;requestId=-1;windowResizeSubscription=dn.EMPTY;get copyText(){return typeof this.nzCopyText=="string"?this.nzCopyText:this.nzContent}constructor(){this.destroyRef.onDestroy(()=>{this.expandableBtnElementCache=null,this.windowResizeSubscription.unsubscribe()})}onTextCopy(g){this.nzCopy.emit(g)}onStartEditing(){this.editing=!0}onEndEditing(g){this.editing=!1,this.nzContentChange.emit(g),this.nzContent===g&&this.renderOnNextFrame(),this.cdr.markForCheck()}onExpand(){this.isEllipsis=!1,this.expanded=!0,this.nzExpandChange.emit(),this.nzOnEllipsis.emit(!1)}canUseCSSEllipsis(){return this.nzEditable||this.nzCopyable||this.nzExpandable||this.nzSuffix||this.hasEllipsisObservers?!1:this.nzEllipsisRows===1?Ue("textOverflow"):Ue("webkitLineClamp")}renderOnNextFrame(){On(this.requestId),!(!this.viewInit||!this.nzEllipsis||this.nzEllipsisRows<0||this.expanded||!this.platform.isBrowser)&&(this.requestId=Bn(()=>this.syncEllipsis()))}getOriginContentViewRef(){let g=this.viewContainerRef.createEmbeddedView(this.contentTemplate,{content:this.nzContent});return g.detectChanges(),{viewRef:g,removeView:()=>this.viewContainerRef.remove(this.viewContainerRef.indexOf(g))}}syncEllipsis(){if(this.cssEllipsis)return;let{viewRef:g,removeView:m}=this.getOriginContentViewRef(),p=[this.textCopyRef,this.textEditRef].filter(Z=>Z&&Z.nativeElement).map(Z=>Z.nativeElement),S=this.getExpandableBtnElement();S&&p.push(S);let{contentNodes:Me,text:Ie,ellipsis:Mt}=Fn(this.el,this.nzEllipsisRows,g.rootNodes,p,this.ellipsisStr,this.nzSuffix);m(),this.ellipsisText=Ie,Mt!==this.isEllipsis&&(this.isEllipsis=Mt,this.nzOnEllipsis.emit(Mt));let Y=this.ellipsisContainer.nativeElement;for(;Y.firstChild;)this.renderer.removeChild(Y,Y.firstChild);Me.forEach(Z=>{this.renderer.appendChild(Y,Z.cloneNode(!0))}),this.cdr.markForCheck()}getExpandableBtnElement(){if(this.nzExpandable){let g=this.locale?this.locale.expand:"",m=this.expandableBtnElementCache;if(!m||m.innerText===g){let p=this.document.createElement("a");p.className=jo,p.innerText=g,this.expandableBtnElementCache=p}return this.expandableBtnElementCache}else return this.expandableBtnElementCache=null,null}renderAndSubscribeWindowResize(){this.platform.isBrowser&&(this.windowResizeSubscription.unsubscribe(),this.cssEllipsis=this.canUseCSSEllipsis(),this.renderOnNextFrame(),this.windowResizeSubscription=this.resizeService.connect().pipe(k(this.destroyRef)).subscribe(()=>this.renderOnNextFrame()))}ngOnInit(){this.i18n.localeChange.pipe(k(this.destroyRef)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.directionality.change?.pipe(k(this.destroyRef)).subscribe(g=>{this.dir=g,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.viewInit=!0,this.renderAndSubscribeWindowResize()}ngOnChanges(g){let{nzCopyable:m,nzEditable:p,nzExpandable:S,nzEllipsis:Me,nzContent:Ie,nzEllipsisRows:Mt,nzSuffix:Y}=g;(m||p||S||Me||Ie||Mt||Y)&&this.nzEllipsis&&(this.expanded?this.windowResizeSubscription.unsubscribe():this.renderAndSubscribeWindowResize())}},(()=>{let g=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;o=[nt()],n=[nt()],P=[nt()],sn=[nt()],pn=[nt()],K(null,null,o,{kind:"field",name:"nzCopyTooltips",static:!1,private:!1,access:{has:m=>"nzCopyTooltips"in m,get:m=>m.nzCopyTooltips,set:(m,p)=>{m.nzCopyTooltips=p}},metadata:g},e,t),K(null,null,n,{kind:"field",name:"nzCopyIcons",static:!1,private:!1,access:{has:m=>"nzCopyIcons"in m,get:m=>m.nzCopyIcons,set:(m,p)=>{m.nzCopyIcons=p}},metadata:g},c,f),K(null,null,P,{kind:"field",name:"nzEditTooltip",static:!1,private:!1,access:{has:m=>"nzEditTooltip"in m,get:m=>m.nzEditTooltip,set:(m,p)=>{m.nzEditTooltip=p}},metadata:g},rn,an),K(null,null,sn,{kind:"field",name:"nzEditIcon",static:!1,private:!1,access:{has:m=>"nzEditIcon"in m,get:m=>m.nzEditIcon,set:(m,p)=>{m.nzEditIcon=p}},metadata:g},ln,cn),K(null,null,pn,{kind:"field",name:"nzEllipsisRows",static:!1,private:!1,access:{has:m=>"nzEllipsisRows"in m,get:m=>m.nzEllipsisRows,set:(m,p)=>{m.nzEllipsisRows=p}},metadata:g},mn,un),g&&Object.defineProperty(B,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:g})})(),Be(B,"\u0275fac",function(m){return new(m||B)}),Be(B,"\u0275cmp",d({type:B,selectors:[["nz-typography"],["","nz-typography",""],["p","nz-paragraph",""],["span","nz-text",""],["h1","nz-title",""],["h2","nz-title",""],["h3","nz-title",""],["h4","nz-title",""]],viewQuery:function(m,p){if(m&1&&(L(tn,5),L(Xe,5),L(Do,5),L(_o,5),L(To,5)),m&2){let S;V(S=j())&&(p.textEditRef=S.first),V(S=j())&&(p.textCopyRef=S.first),V(S=j())&&(p.ellipsisContainer=S.first),V(S=j())&&(p.expandableBtn=S.first),V(S=j())&&(p.contentTemplate=S.first)}},hostVars:26,hostBindings:function(m,p){m&2&&(Wt("-webkit-line-clamp",p.canCssEllipsis&&p.nzEllipsisRows>1?p.nzEllipsisRows:null),$e("ant-typography",!p.editing)("ant-typography-rtl",p.dir==="rtl")("ant-typography-edit-content",p.editing)("ant-typography-secondary",p.nzType==="secondary")("ant-typography-warning",p.nzType==="warning")("ant-typography-danger",p.nzType==="danger")("ant-typography-success",p.nzType==="success")("ant-typography-disabled",p.nzDisabled)("ant-typography-ellipsis",p.nzEllipsis&&!p.expanded)("ant-typography-single-line",p.nzEllipsis&&p.nzEllipsisRows===1)("ant-typography-ellipsis-single-line",p.canCssEllipsis&&p.nzEllipsisRows===1)("ant-typography-ellipsis-multiple-line",p.canCssEllipsis&&p.nzEllipsisRows>1))},inputs:{nzCopyable:[2,"nzCopyable","nzCopyable",et],nzEditable:[2,"nzEditable","nzEditable",et],nzDisabled:[2,"nzDisabled","nzDisabled",et],nzExpandable:[2,"nzExpandable","nzExpandable",et],nzEllipsis:[2,"nzEllipsis","nzEllipsis",et],nzCopyTooltips:"nzCopyTooltips",nzCopyIcons:"nzCopyIcons",nzEditTooltip:"nzEditTooltip",nzEditIcon:"nzEditIcon",nzContent:"nzContent",nzEllipsisRows:[2,"nzEllipsisRows","nzEllipsisRows",bn],nzType:"nzType",nzCopyText:"nzCopyText",nzSuffix:"nzSuffix"},outputs:{nzContentChange:"nzContentChange",nzCopy:"nzCopy",nzExpandChange:"nzExpandChange",nzOnEllipsis:"nzOnEllipsis"},exportAs:["nzTypography"],features:[ke],ngContentSelectors:bo,decls:5,vars:3,consts:[["contentTemplate",""],["ellipsisContainer",""],["expandable",""],[3,"text","icon","tooltip"],[3,"text","tooltips","icons"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-typography-expand"],[1,"ant-typography-expand",3,"click"],[3,"endEditing","startEditing","text","icon","tooltip"],[3,"textCopy","text","tooltips","icons"]],template:function(m,p){m&1&&(En(),R(0,Ao,2,2,"ng-template",null,0,Ht),A(2,Po,2,1),A(3,ko,1,3,"nz-text-edit",3),A(4,Lo,1,3,"nz-text-copy",4)),m&2&&(i(2),w(p.editing?-1:2),i(),w(p.nzEditable?3:-1),i(),w(p.nzCopyable&&!p.editing?4:-1))},dependencies:[Sn,tn,Xe],encapsulation:2,changeDetection:0})),B})(),ye=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=Rt({type:o});static \u0275inj=It({imports:[Lt,Xe,tn]})}return o})();var W=class W{constructor(){this.firestore=u(Pn);this.collectionName="contracts"}getAll(){let e=Vn(this.firestore,this.collectionName);return kn(e,{idField:"id"})}getById(e){let t=Ot(this.firestore,this.collectionName,e);return Ln(t,{idField:"id"})}create(e){return F(this,null,function*(){let t=Ot(this.firestore,this.collectionName,e.contractNumber),n=Re(J({},e),{id:e.contractNumber,createdAt:new Date,updatedAt:new Date});return yield Gn(t,n),e.contractNumber})}update(e,t){return F(this,null,function*(){let n=Ot(this.firestore,this.collectionName,e),c=Re(J({},t),{updatedAt:new Date});yield $n(n,c)})}delete(e){return F(this,null,function*(){let t=Ot(this.firestore,this.collectionName,e);yield jn(t)})}};W.\u0275fac=function(t){return new(t||W)},W.\u0275prov=X({token:W,factory:W.\u0275fac,providedIn:"root"});var ge=W;var en=new Pe("ContractRepository"),Ui=[{provide:en,useClass:ge}];var dt=class{static create(e){let t=new Date;return{contractNumber:this.generateContractNumber(t),contractName:e.contractName,contractType:e.contractType,status:e.status||"draft",riskLevel:e.riskLevel||"low",clientCompany:e.clientCompany,clientRepresentative:e.clientRepresentative,clientContact:e.clientContact||"",clientEmail:e.clientEmail||"",startDate:t,endDate:e.endDate,totalAmount:e.totalAmount,currency:e.currency,paymentStatus:e.paymentStatus||"pending",paidAmount:e.paidAmount||0,paymentSchedule:e.paymentSchedule||[],approvalStatus:e.approvalStatus||{status:"pending",currentStep:1,totalSteps:3},approvers:e.approvers||[],documents:e.documents||[],risks:e.risks||[],createdAt:t,updatedAt:t}}static generateContractNumber(e){let t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),c=String(e.getDate()).padStart(2,"0"),f=String(e.getHours()).padStart(2,"0"),P=String(e.getMinutes()).padStart(2,"0");return`${t}${n}${c}${f}${P}`}};var H=class H{constructor(){this.contractRepository=u(en)}getContracts(){return this.contractRepository.getAll()}getContractById(e){return this.contractRepository.getById(e)}createContract(e){return F(this,null,function*(){if(!e.contractName)throw new Error("\u5408\u7D04\u540D\u7A31\u70BA\u5FC5\u586B\u9805\u76EE");if(e.totalAmount<=0)throw new Error("\u7E3D\u91D1\u984D\u5FC5\u9808\u5927\u65BC0");if(!e.endDate)throw new Error("\u7D50\u675F\u65E5\u671F\u70BA\u5FC5\u586B\u9805\u76EE");let t=new Date;if(e.endDate<=t)throw new Error("\u7D50\u675F\u65E5\u671F\u5FC5\u9808\u5728\u672A\u4F86");let n=dt.create(e);return this.contractRepository.create(n)})}updateContract(e,t){return F(this,null,function*(){if(t.totalAmount!==void 0&&t.totalAmount<=0)throw new Error("\u7E3D\u91D1\u984D\u5FC5\u9808\u5927\u65BC0");return this.contractRepository.update(e,t)})}deleteContract(e){return F(this,null,function*(){return this.contractRepository.delete(e)})}};H.\u0275fac=function(t){return new(t||H)},H.\u0275prov=X({token:H,factory:H.\u0275fac,providedIn:"root"});var ft=H;function Go(o){if(!/^\d{12}$/.test(o))return!1;let t=parseInt(o.substring(0,4)),n=parseInt(o.substring(4,6)),c=parseInt(o.substring(6,8)),f=parseInt(o.substring(8,10)),P=parseInt(o.substring(10,12));return!(t<2020||t>2030||n<1||n>12||c<1||c>31||f<0||f>23||P<0||P>59)}function so(o){if(!Go(o))return o;let e=o.substring(0,4),t=o.substring(4,6),n=o.substring(6,8),c=o.substring(8,10),f=o.substring(10,12);return`${e}-${t}-${n} ${c}:${f}`}function qo(o,e){if(o&1){let t=M();a(0,"button",30),E("click",function(){D(t);let c=v();return _(c.toggleAdvanced())}),r(1),l()}if(o&2){let t=v();i(),N(" ",t.showAdvanced?"\u7C21\u5316":"\u9AD8\u7D1A"," ")}}var Ct=class Ct{constructor(){this.search=new T;this.reset=new T;this.fb=u(re);this.showAdvanced=!1;this.initForm()}initForm(){this.searchForm=this.fb.group({keyword:[""],status:[null],contractType:[null],riskLevel:[null],startDate:[null],endDate:[null],clientCompany:[""]})}onSearch(){if(this.searchForm.valid){let e=this.searchForm.value;this.search.emit(e)}}onReset(){this.searchForm.reset(),this.reset.emit()}toggleAdvanced(){this.showAdvanced=!this.showAdvanced}};Ct.\u0275fac=function(t){return new(t||Ct)},Ct.\u0275cmp=d({type:Ct,selectors:[["app-contract-search"]],outputs:{search:"search",reset:"reset"},decls:63,vars:11,consts:[["extraTemplate",""],["nzTitle","\u641C\u7D22\u689D\u4EF6",3,"nzExtra"],["nz-form","",3,"formGroup"],["nz-row","",3,"nzGutter"],[3,"nzSpan"],["nz-input","","formControlName","keyword","placeholder","\u5408\u7D04\u7DE8\u865F\u3001\u540D\u7A31\u3001\u5BA2\u6236\u516C\u53F8"],["formControlName","status","placeholder","\u8ACB\u9078\u64C7\u72C0\u614B","nzAllowClear",""],["nzValue","draft","nzLabel","\u8349\u7A3F"],["nzValue","pending_approval","nzLabel","\u5F85\u5BE9\u6279"],["nzValue","approved","nzLabel","\u5DF2\u5BE9\u6279"],["nzValue","active","nzLabel","\u57F7\u884C\u4E2D"],["nzValue","completed","nzLabel","\u5DF2\u5B8C\u6210"],["nzValue","terminated","nzLabel","\u5DF2\u7D42\u6B62"],["nzValue","expired","nzLabel","\u5DF2\u904E\u671F"],["formControlName","contractType","placeholder","\u8ACB\u9078\u64C7\u985E\u578B","nzAllowClear",""],["nzValue","pure_labor","nzLabel","\u7D14\u5DE5"],["nzValue","material_included","nzLabel","\u5E36\u6599"],["nzValue","subcontract","nzLabel","\u5206\u5305"],["nzValue","outsourcing","nzLabel","\u5916\u5305"],["formControlName","riskLevel","placeholder","\u8ACB\u9078\u64C7\u98A8\u96AA\u7B49\u7D1A","nzAllowClear",""],["nzValue","low","nzLabel","\u4F4E\u98A8\u96AA"],["nzValue","medium","nzLabel","\u4E2D\u98A8\u96AA"],["nzValue","high","nzLabel","\u9AD8\u98A8\u96AA"],["nzValue","critical","nzLabel","\u6975\u9AD8\u98A8\u96AA"],["formControlName","startDate",2,"width","100%"],["formControlName","endDate",2,"width","100%"],["nz-row",""],[2,"text-align","center",3,"nzSpan"],["nz-button","","nzType","primary",3,"click"],["nz-button","",2,"margin-left","8px",3,"click"],["nz-button","","nzSize","small",3,"click"]],template:function(t,n){if(t&1){let c=M();a(0,"nz-card",1)(1,"form",2)(2,"div",3)(3,"nz-col",4)(4,"nz-form-item")(5,"nz-form-label"),r(6,"\u95DC\u9375\u5B57"),l(),a(7,"nz-form-control"),h(8,"input",5),l()()(),a(9,"nz-col",4)(10,"nz-form-item")(11,"nz-form-label"),r(12,"\u5408\u7D04\u72C0\u614B"),l(),a(13,"nz-form-control")(14,"nz-select",6),h(15,"nz-option",7)(16,"nz-option",8)(17,"nz-option",9)(18,"nz-option",10)(19,"nz-option",11)(20,"nz-option",12)(21,"nz-option",13),l()()()(),a(22,"nz-col",4)(23,"nz-form-item")(24,"nz-form-label"),r(25,"\u5408\u7D04\u985E\u578B"),l(),a(26,"nz-form-control")(27,"nz-select",14),h(28,"nz-option",15)(29,"nz-option",16)(30,"nz-option",17)(31,"nz-option",18),l()()()()(),a(32,"div",3)(33,"nz-col",4)(34,"nz-form-item")(35,"nz-form-label"),r(36,"\u98A8\u96AA\u7B49\u7D1A"),l(),a(37,"nz-form-control")(38,"nz-select",19),h(39,"nz-option",20)(40,"nz-option",21)(41,"nz-option",22)(42,"nz-option",23),l()()()(),a(43,"nz-col",4)(44,"nz-form-item")(45,"nz-form-label"),r(46,"\u958B\u59CB\u65E5\u671F"),l(),a(47,"nz-form-control"),h(48,"nz-date-picker",24),l()()(),a(49,"nz-col",4)(50,"nz-form-item")(51,"nz-form-label"),r(52,"\u7D50\u675F\u65E5\u671F"),l(),a(53,"nz-form-control"),h(54,"nz-date-picker",25),l()()()(),a(55,"div",26)(56,"nz-col",27)(57,"button",28),E("click",function(){return D(c),_(n.onSearch())}),r(58," \u641C\u7D22 "),l(),a(59,"button",29),E("click",function(){return D(c),_(n.onReset())}),r(60," \u91CD\u7F6E "),l()()()()(),R(61,qo,2,1,"ng-template",null,0,Ht)}if(t&2){let c=tt(62);s("nzExtra",c),i(),s("formGroup",n.searchForm),i(),s("nzGutter",16),i(),s("nzSpan",8),i(6),s("nzSpan",8),i(13),s("nzSpan",8),i(10),s("nzGutter",16),i(),s("nzSpan",8),i(10),s("nzSpan",8),i(6),s("nzSpan",8),i(7),s("nzSpan",24)}},dependencies:[C,ae,ne,te,st,ee,oe,ie,ze,$,G,de,ue,Ce,fe,ut,mt,pt,lt,ct,pe,ce,at,rt,ot,it,Q,q,U],encapsulation:2});var Vt=Ct;var zt=class zt{getStatusColor(){return{draft:"default",pending_approval:"orange",approved:"blue",active:"green",completed:"cyan",terminated:"red",expired:"volcano"}[this.status]||"default"}getStatusText(){return{draft:"\u8349\u7A3F",pending_approval:"\u5F85\u5BE9\u6279",approved:"\u5DF2\u5BE9\u6279",active:"\u57F7\u884C\u4E2D",completed:"\u5DF2\u5B8C\u6210",terminated:"\u5DF2\u7D42\u6B62",expired:"\u5DF2\u904E\u671F"}[this.status]||"\u672A\u77E5"}};zt.\u0275fac=function(t){return new(t||zt)},zt.\u0275cmp=d({type:zt,selectors:[["app-contract-status-badge"]],inputs:{status:"status"},decls:2,vars:2,consts:[[3,"nzColor"]],template:function(t,n){t&1&&(a(0,"nz-tag",0),r(1),l()),t&2&&(s("nzColor",n.getStatusColor()),i(),N(" ",n.getStatusText()," "))},dependencies:[C,le,se],encapsulation:2});var jt=zt;var Yo=()=>[10,20,50];function Zo(o,e){if(o&1){let t=M();a(0,"tr")(1,"td")(2,"span",7),r(3),l()(),a(4,"td"),r(5),l(),a(6,"td")(7,"nz-tag",8),r(8),l()(),a(9,"td"),r(10),l(),a(11,"td"),r(12),l(),a(13,"td"),r(14),_n(15,"currency"),l(),a(16,"td"),h(17,"app-contract-status-badge",9),l(),a(18,"td")(19,"nz-space")(20,"button",10),E("click",function(){let c=D(t).$implicit,f=v();return _(f.viewContract(c))}),r(21," \u67E5\u770B "),l(),a(22,"button",11),E("click",function(){let c=D(t).$implicit,f=v();return _(f.editContract(c))}),r(23," \u7DE8\u8F2F "),l(),a(24,"button",12),E("click",function(){let c=D(t).$implicit,f=v();return _(f.deleteContract(c))}),r(25," \u522A\u9664 "),l()()()()}if(o&2){let t=e.$implicit,n=v();i(2),s("nzTooltipTitle",t.contractNumber),i(),N(" ",n.formatContractNumber(t.contractNumber)," "),i(2),Bt(t.contractName),i(2),s("nzColor",n.getContractTypeColor(t.contractType)),i(),N(" ",n.getContractTypeText(t.contractType)," "),i(2),Bt(t.clientCompany),i(2),Bt(t.clientRepresentative),i(2),Bt(Tn(15,9,t.totalAmount,"TWD","symbol","1.0-0")),i(3),s("status",t.status)}}var yt=class yt{constructor(){this.contractService=u(ft);this.router=u(Jt);this.message=u(Xt);this.contracts$=this.contractService.getContracts();this.loading=!1;this.displayContracts=[];this.allContracts=[]}ngOnInit(){this.loadContracts()}loadContracts(){this.loading=!0,this.contracts$.subscribe({next:e=>{this.allContracts=e,this.displayContracts=e,this.loading=!1},error:e=>{console.error("Error loading contracts:",e),this.message.error("\u8F09\u5165\u5408\u7D04\u5217\u8868\u5931\u6557"),this.loading=!1}})}createContract(){this.router.navigate(["/dashboard/contract-management/create"])}viewContract(e){this.router.navigate(["/dashboard/contract-management",e.id])}editContract(e){this.router.navigate(["/dashboard/contract-management",e.id,"edit"])}deleteContract(e){return F(this,null,function*(){try{yield this.contractService.deleteContract(e.id),this.message.success("\u5408\u7D04\u522A\u9664\u6210\u529F"),this.loadContracts()}catch(t){console.error("Error deleting contract:",t),this.message.error("\u5408\u7D04\u522A\u9664\u5931\u6557")}})}formatContractNumber(e){return so(e)}getContractTypeText(e){return{pure_labor:"\u7D14\u5DE5",material_included:"\u5E36\u6599",subcontract:"\u5206\u5305",outsourcing:"\u5916\u5305"}[e]||"\u672A\u77E5"}getContractTypeColor(e){return{pure_labor:"blue",material_included:"green",subcontract:"orange",outsourcing:"purple"}[e]||"default"}onSearch(e){this.displayContracts=this.allContracts.filter(t=>{if(e.keyword){let n=e.keyword.toLowerCase();if(!(t.contractNumber.toLowerCase().includes(n)||t.contractName.toLowerCase().includes(n)||t.clientCompany.toLowerCase().includes(n)))return!1}return!(e.status&&t.status!==e.status||e.contractType&&t.contractType!==e.contractType||e.riskLevel&&t.riskLevel!==e.riskLevel||e.startDate&&t.startDate<e.startDate||e.endDate&&t.endDate>e.endDate||e.clientCompany&&!t.clientCompany.toLowerCase().includes(e.clientCompany.toLowerCase()))})}onReset(){this.displayContracts=this.allContracts}};yt.\u0275fac=function(t){return new(t||yt)},yt.\u0275cmp=d({type:yt,selectors:[["app-contract-list"]],decls:31,vars:7,consts:[["basicTable",""],["nz-row","","nzJustify","space-between","nzAlign","middle",1,"mb-4"],["nz-typography",""],["nz-button","","nzType","primary",3,"click"],[3,"search","reset"],["nzShowSizeChanger","","nzShowQuickJumper","",3,"nzData","nzLoading","nzTotal","nzPageSize","nzPageSizeOptions"],[4,"ngFor","ngForOf"],["nz-tooltip","",3,"nzTooltipTitle"],[3,"nzColor"],[3,"status"],["nz-button","","nzSize","small",3,"click"],["nz-button","","nzSize","small","nzType","primary",3,"click"],["nz-button","","nzSize","small","nzDanger","",3,"click"]],template:function(t,n){if(t&1){let c=M();a(0,"nz-card")(1,"div",1)(2,"nz-col")(3,"h2",2),r(4,"\u5408\u7D04\u7BA1\u7406"),l()(),a(5,"nz-col")(6,"button",3),E("click",function(){return D(c),_(n.createContract())}),r(7," \u65B0\u589E\u5408\u7D04 "),l()()(),a(8,"app-contract-search",4),E("search",function(P){return D(c),_(n.onSearch(P))})("reset",function(){return D(c),_(n.onReset())}),l(),a(9,"nz-table",5,0)(11,"thead")(12,"tr")(13,"th"),r(14,"\u5408\u7D04\u7DE8\u865F"),l(),a(15,"th"),r(16,"\u5408\u7D04\u540D\u7A31"),l(),a(17,"th"),r(18,"\u5408\u7D04\u985E\u578B"),l(),a(19,"th"),r(20,"\u5BA2\u6236\u516C\u53F8"),l(),a(21,"th"),r(22,"\u5BA2\u6236\u4EE3\u8868"),l(),a(23,"th"),r(24,"\u7E3D\u91D1\u984D"),l(),a(25,"th"),r(26,"\u72C0\u614B"),l(),a(27,"th"),r(28,"\u64CD\u4F5C"),l()()(),a(29,"tbody"),R(30,Zo,26,14,"tr",6),l()()()}if(t&2){let c=tt(10);i(9),s("nzData",n.displayContracts)("nzLoading",n.loading)("nzTotal",n.displayContracts.length)("nzPageSize",10)("nzPageSizeOptions",xn(6,Yo)),i(21),s("ngForOf",c.data)}},dependencies:[C,Zt,Xn,Zn,Wn,Hn,Kn,Yn,Jn,at,rt,ot,it,Rn,In,Q,q,ye,Lt,U,$,G,kt,Pt,le,se,jt,Vt,Nn],styles:[".mb-4[_ngcontent-%COMP%]{margin-bottom:16px}"]});var he=yt;function Jo(o,e){if(o&1&&h(0,"nz-option",2),o&2){let t=e.$implicit;s("nzValue",t.value)("nzLabel",t.label)}}var gt=class gt{constructor(){this.placeholder="\u8ACB\u9078\u64C7\u5408\u7D04\u985E\u578B";this.allowClear=!0;this.valueChange=new T;this.contractTypes=[{value:"pure_labor",label:"\u7D14\u5DE5"},{value:"material_included",label:"\u5E36\u6599"},{value:"subcontract",label:"\u5206\u5305"},{value:"outsourcing",label:"\u5916\u5305"}]}onChange(e){this.valueChange.emit(e)}};gt.\u0275fac=function(t){return new(t||gt)},gt.\u0275cmp=d({type:gt,selectors:[["app-contract-type-select"]],inputs:{value:"value",placeholder:"placeholder",allowClear:"allowClear"},outputs:{valueChange:"valueChange"},decls:2,vars:4,consts:[[3,"ngModelChange","ngModel","nzPlaceHolder","nzAllowClear"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"]],template:function(t,n){t&1&&(a(0,"nz-select",0),E("ngModelChange",function(f){return n.onChange(f)}),R(1,Jo,1,2,"nz-option",1),l()),t&2&&(s("ngModel",n.value)("nzPlaceHolder",n.placeholder)("nzAllowClear",n.allowClear),i(),s("ngForOf",n.contractTypes))},dependencies:[C,Zt,Qn,st,qn,pt,lt,ct],encapsulation:2});var Gt=gt;function Ko(o,e){o&1&&h(0,"nz-alert",2)}var ht=class ht{constructor(){this.loading=!1;this.isEdit=!1;this.submit=new T;this.cancel=new T;this.fb=u(re)}ngOnInit(){this.initForm()}initForm(){this.contractForm=this.fb.group({contractName:["",[O.required]],contractType:["pure_labor",[O.required]],riskLevel:["low",[O.required]],clientCompany:["",[O.required]],clientRepresentative:["",[O.required]],clientContact:[""],clientEmail:[""],endDate:[null,[O.required]],totalAmount:[null,[O.required,O.min(0)]],currency:["TWD",[O.required]],status:["draft"],paymentStatus:["pending"],paidAmount:[0],paymentSchedule:[[]],approvalStatus:[{status:"pending",currentStep:1,totalSteps:3}],approvers:[[]],documents:[[]],risks:[[]]}),this.contract&&this.contractForm.patchValue(this.contract)}onSubmit(){if(this.contractForm.valid){let e=this.contractForm.value;if(this.isEdit&&this.contract){let t=J(J({},this.contract),e);this.submit.emit(t)}else{let t={contractName:e.contractName,contractType:e.contractType,riskLevel:e.riskLevel,clientCompany:e.clientCompany,clientRepresentative:e.clientRepresentative,clientContact:e.clientContact,clientEmail:e.clientEmail,endDate:e.endDate,totalAmount:e.totalAmount,currency:e.currency,paymentStatus:e.paymentStatus,paidAmount:e.paidAmount,paymentSchedule:e.paymentSchedule,approvalStatus:e.approvalStatus,approvers:e.approvers,documents:e.documents,risks:e.risks},n=dt.create(t);this.submit.emit(n)}}else Object.values(this.contractForm.controls).forEach(e=>{e.invalid&&e.markAsTouched()})}onCancel(){this.cancel.emit()}};ht.\u0275fac=function(t){return new(t||ht)},ht.\u0275cmp=d({type:ht,selectors:[["app-contract-form"]],inputs:{contract:"contract",loading:"loading",isEdit:"isEdit"},outputs:{submit:"submit",cancel:"cancel"},decls:83,vars:44,consts:[["nz-form","",3,"ngSubmit","formGroup"],[3,"nzTitle"],["nzType","info","nzMessage","\u5408\u7D04\u7DE8\u865F\u5C07\u81EA\u52D5\u751F\u6210","nzDescription","\u683C\u5F0F\uFF1AYYYYMMDDHHMM (\u5E74+\u6708+\u65E5+\u6642\u5206)",1,"mb-4"],["nz-row","",3,"nzGutter"],[3,"nzSpan"],["nzRequired","",3,"nzSpan"],["nzErrorTip","\u8ACB\u8F38\u5165\u5408\u7D04\u540D\u7A31",3,"nzSpan"],["nz-input","","formControlName","contractName","placeholder","\u8ACB\u8F38\u5165\u5408\u7D04\u540D\u7A31"],["nzErrorTip","\u8ACB\u9078\u64C7\u5408\u7D04\u985E\u578B",3,"nzSpan"],["formControlName","contractType","placeholder","\u8ACB\u9078\u64C7\u5408\u7D04\u985E\u578B"],["nzErrorTip","\u8ACB\u9078\u64C7\u98A8\u96AA\u7B49\u7D1A",3,"nzSpan"],["formControlName","riskLevel","placeholder","\u8ACB\u9078\u64C7\u98A8\u96AA\u7B49\u7D1A"],["nzValue","low","nzLabel","\u4F4E\u98A8\u96AA"],["nzValue","medium","nzLabel","\u4E2D\u98A8\u96AA"],["nzValue","high","nzLabel","\u9AD8\u98A8\u96AA"],["nzValue","critical","nzLabel","\u6975\u9AD8\u98A8\u96AA"],["nzErrorTip","\u8ACB\u8F38\u5165\u5BA2\u6236\u516C\u53F8",3,"nzSpan"],["nz-input","","formControlName","clientCompany","placeholder","\u8ACB\u8F38\u5165\u5BA2\u6236\u516C\u53F8"],["nzErrorTip","\u8ACB\u8F38\u5165\u5BA2\u6236\u4EE3\u8868",3,"nzSpan"],["nz-input","","formControlName","clientRepresentative","placeholder","\u8ACB\u8F38\u5165\u5BA2\u6236\u4EE3\u8868"],["nz-input","","formControlName","clientContact","placeholder","\u8ACB\u8F38\u5165\u806F\u7E6B\u96FB\u8A71"],["nz-input","","formControlName","clientEmail","placeholder","\u8ACB\u8F38\u5165\u96FB\u5B50\u90F5\u4EF6"],["nzErrorTip","\u8ACB\u9078\u64C7\u7D50\u675F\u65E5\u671F",3,"nzSpan"],["formControlName","endDate",2,"width","100%"],["nzErrorTip","\u8ACB\u8F38\u5165\u7E3D\u91D1\u984D",3,"nzSpan"],["formControlName","totalAmount","placeholder","\u8ACB\u8F38\u5165\u7E3D\u91D1\u984D",2,"width","100%",3,"nzMin","nzStep"],["nzErrorTip","\u8ACB\u9078\u64C7\u5E63\u7A2E",3,"nzSpan"],["formControlName","currency","placeholder","\u8ACB\u9078\u64C7\u5E63\u7A2E"],["nzValue","TWD","nzLabel","\u65B0\u53F0\u5E63"],["nzValue","USD","nzLabel","\u7F8E\u5143"],["nzValue","EUR","nzLabel","\u6B50\u5143"],["nzValue","JPY","nzLabel","\u65E5\u5713"],["nz-row",""],[2,"text-align","center",3,"nzSpan"],["nz-button","","nzType","primary","type","submit",3,"nzLoading"],["nz-button","","type","button",2,"margin-left","8px",3,"click"]],template:function(t,n){t&1&&(a(0,"form",0),E("ngSubmit",function(){return n.onSubmit()}),a(1,"nz-card",1),A(2,Ko,1,0,"nz-alert",2),a(3,"div",3)(4,"nz-col",4)(5,"nz-form-item")(6,"nz-form-label",5),r(7,"\u5408\u7D04\u540D\u7A31"),l(),a(8,"nz-form-control",6),h(9,"input",7),l()()(),a(10,"nz-col",4)(11,"nz-form-item")(12,"nz-form-label",5),r(13,"\u5408\u7D04\u985E\u578B"),l(),a(14,"nz-form-control",8),h(15,"app-contract-type-select",9),l()()()(),a(16,"div",3)(17,"nz-col",4)(18,"nz-form-item")(19,"nz-form-label",5),r(20,"\u98A8\u96AA\u7B49\u7D1A"),l(),a(21,"nz-form-control",10)(22,"nz-select",11),h(23,"nz-option",12)(24,"nz-option",13)(25,"nz-option",14)(26,"nz-option",15),l()()()()(),a(27,"div",3)(28,"nz-col",4)(29,"nz-form-item")(30,"nz-form-label",5),r(31,"\u5BA2\u6236\u516C\u53F8"),l(),a(32,"nz-form-control",16),h(33,"input",17),l()()(),a(34,"nz-col",4)(35,"nz-form-item")(36,"nz-form-label",5),r(37,"\u5BA2\u6236\u4EE3\u8868"),l(),a(38,"nz-form-control",18),h(39,"input",19),l()()()(),a(40,"div",3)(41,"nz-col",4)(42,"nz-form-item")(43,"nz-form-label",4),r(44,"\u806F\u7E6B\u96FB\u8A71"),l(),a(45,"nz-form-control",4),h(46,"input",20),l()()(),a(47,"nz-col",4)(48,"nz-form-item")(49,"nz-form-label",4),r(50,"\u96FB\u5B50\u90F5\u4EF6"),l(),a(51,"nz-form-control",4),h(52,"input",21),l()()()(),a(53,"div",3)(54,"nz-col",4)(55,"nz-form-item")(56,"nz-form-label",5),r(57,"\u7D50\u675F\u65E5\u671F"),l(),a(58,"nz-form-control",22),h(59,"nz-date-picker",23),l()()(),a(60,"nz-col",4)(61,"nz-form-item")(62,"nz-form-label",5),r(63,"\u7E3D\u91D1\u984D"),l(),a(64,"nz-form-control",24),h(65,"nz-input-number",25),l()()()(),a(66,"div",3)(67,"nz-col",4)(68,"nz-form-item")(69,"nz-form-label",5),r(70,"\u5E63\u7A2E"),l(),a(71,"nz-form-control",26)(72,"nz-select",27),h(73,"nz-option",28)(74,"nz-option",29)(75,"nz-option",30)(76,"nz-option",31),l()()()()(),a(77,"div",32)(78,"nz-col",33)(79,"button",34),r(80),l(),a(81,"button",35),E("click",function(){return n.onCancel()}),r(82," \u53D6\u6D88 "),l()()()()()),t&2&&(s("formGroup",n.contractForm),i(),s("nzTitle",n.isEdit?"\u7DE8\u8F2F\u5408\u7D04":"\u65B0\u589E\u5408\u7D04"),i(),w(n.isEdit?-1:2),i(),s("nzGutter",16),i(),s("nzSpan",12),i(2),s("nzSpan",6),i(2),s("nzSpan",18),i(2),s("nzSpan",12),i(2),s("nzSpan",6),i(2),s("nzSpan",18),i(2),s("nzGutter",16),i(),s("nzSpan",12),i(2),s("nzSpan",6),i(2),s("nzSpan",18),i(6),s("nzGutter",16),i(),s("nzSpan",12),i(2),s("nzSpan",6),i(2),s("nzSpan",18),i(2),s("nzSpan",12),i(2),s("nzSpan",6),i(2),s("nzSpan",18),i(2),s("nzGutter",16),i(),s("nzSpan",12),i(2),s("nzSpan",6),i(2),s("nzSpan",18),i(2),s("nzSpan",12),i(2),s("nzSpan",6),i(2),s("nzSpan",18),i(2),s("nzGutter",16),i(),s("nzSpan",12),i(2),s("nzSpan",6),i(2),s("nzSpan",18),i(2),s("nzSpan",12),i(2),s("nzSpan",6),i(2),s("nzSpan",18),i(),s("nzMin",0)("nzStep",1e3),i(),s("nzGutter",16),i(),s("nzSpan",12),i(2),s("nzSpan",6),i(2),s("nzSpan",18),i(7),s("nzSpan",24),i(),s("nzLoading",n.loading),i(),N(" ",n.isEdit?"\u66F4\u65B0\u5408\u7D04":"\u65B0\u589E\u5408\u7D04"," "))},dependencies:[C,ae,ne,te,st,ee,oe,ie,ze,$,G,de,ue,Ce,fe,ut,mt,eo,to,pe,ce,pt,lt,ct,at,rt,ot,it,Q,q,U,oo,no,Gt],styles:[".mb-4[_ngcontent-%COMP%]{margin-bottom:16px}"]});var $t=ht;var Et=class Et{constructor(){this.loading=!1;this.contractService=u(ft);this.router=u(Jt);this.message=u(Xt)}onSubmit(e){return F(this,null,function*(){this.loading=!0;try{let t={contractName:e.contractName,contractType:e.contractType,riskLevel:e.riskLevel,clientCompany:e.clientCompany,clientRepresentative:e.clientRepresentative,clientContact:e.clientContact,clientEmail:e.clientEmail,endDate:e.endDate,totalAmount:e.totalAmount,currency:e.currency,paymentStatus:e.paymentStatus,paidAmount:e.paidAmount,paymentSchedule:e.paymentSchedule,approvalStatus:e.approvalStatus,approvers:e.approvers,documents:e.documents,risks:e.risks},n=yield this.contractService.createContract(t);this.message.success(`\u5408\u7D04\u65B0\u589E\u6210\u529F\uFF0C\u5408\u7D04\u7DE8\u865F\uFF1A${n}`),this.router.navigate(["/dashboard/contract-management"])}catch(t){console.error("Error creating contract:",t),this.message.error(`\u5408\u7D04\u65B0\u589E\u5931\u6557\uFF1A${t.message}`)}finally{this.loading=!1}})}goBack(){this.router.navigate(["/dashboard/contract-management"])}};Et.\u0275fac=function(t){return new(t||Et)},Et.\u0275cmp=d({type:Et,selectors:[["app-contract-create"]],decls:9,vars:1,consts:[["nz-row","","nzJustify","space-between","nzAlign","middle",1,"mb-4"],["nz-typography",""],["nz-button","",3,"click"],[3,"submit","cancel","loading"]],template:function(t,n){t&1&&(a(0,"nz-card")(1,"div",0)(2,"nz-col")(3,"h2",1),r(4,"\u65B0\u589E\u5408\u7D04"),l()(),a(5,"nz-col")(6,"button",2),E("click",function(){return n.goBack()}),r(7," \u8FD4\u56DE\u5217\u8868 "),l()()(),a(8,"app-contract-form",3),E("submit",function(f){return n.onSubmit(f)})("cancel",function(){return n.goBack()}),l()()),t&2&&(i(8),s("loading",n.loading))},dependencies:[C,Q,q,ye,Lt,U,$,G,$t],styles:[".mb-4[_ngcontent-%COMP%]{margin-bottom:16px}"]});var Ee=Et;var vt=class vt{constructor(){}};vt.\u0275fac=function(t){return new(t||vt)},vt.\u0275cmp=d({type:vt,selectors:[["app-contract-detail"]],decls:6,vars:0,consts:[[1,"contract-detail-container"],[1,"contract-detail-content"]],template:function(t,n){t&1&&(z(0,"div",0)(1,"h2"),r(2,"\u5408\u7D04\u8A73\u60C5"),y(),z(3,"div",1)(4,"p"),r(5,"\u5408\u7D04\u8A73\u60C5\u9801\u9762 - DDD\u67B6\u69CB"),y()()())},dependencies:[C],styles:[".contract-detail-container[_ngcontent-%COMP%]{padding:24px}.contract-detail-content[_ngcontent-%COMP%]{margin-top:16px}"]});var ve=vt;var xt=class xt{constructor(){}};xt.\u0275fac=function(t){return new(t||xt)},xt.\u0275cmp=d({type:xt,selectors:[["app-contract-edit"]],decls:6,vars:0,consts:[[1,"contract-edit-container"],[1,"contract-edit-content"]],template:function(t,n){t&1&&(z(0,"div",0)(1,"h2"),r(2,"\u5408\u7D04\u7DE8\u8F2F"),y(),z(3,"div",1)(4,"p"),r(5,"\u5408\u7D04\u7DE8\u8F2F\u9801\u9762 - DDD\u67B6\u69CB"),y()()())},dependencies:[C],styles:[".contract-edit-container[_ngcontent-%COMP%]{padding:24px}.contract-edit-content[_ngcontent-%COMP%]{margin-top:16px}"]});var xe=xt;var Dt=class Dt{constructor(){}};Dt.\u0275fac=function(t){return new(t||Dt)},Dt.\u0275cmp=d({type:Dt,selectors:[["app-personnel-list"]],decls:6,vars:0,consts:[[1,"personnel-list-container"],[1,"personnel-list-content"]],template:function(t,n){t&1&&(z(0,"div",0)(1,"h2"),r(2,"\u4EBA\u54E1\u7BA1\u7406"),y(),z(3,"div",1)(4,"p"),r(5,"\u4EBA\u54E1\u5217\u8868\u9801\u9762 - DDD\u67B6\u69CB"),y()()())},dependencies:[C],styles:[".personnel-list-container[_ngcontent-%COMP%]{padding:24px}.personnel-list-content[_ngcontent-%COMP%]{margin-top:16px}"]});var De=Dt;var _t=class _t{constructor(){}};_t.\u0275fac=function(t){return new(t||_t)},_t.\u0275cmp=d({type:_t,selectors:[["app-personnel-detail"]],decls:6,vars:0,consts:[[1,"personnel-detail-container"],[1,"personnel-detail-content"]],template:function(t,n){t&1&&(z(0,"div",0)(1,"h2"),r(2,"\u4EBA\u54E1\u8A73\u60C5"),y(),z(3,"div",1)(4,"p"),r(5,"\u4EBA\u54E1\u8A73\u60C5\u9801\u9762 - DDD\u67B6\u69CB"),y()()())},dependencies:[C],styles:[".personnel-detail-container[_ngcontent-%COMP%]{padding:24px}.personnel-detail-content[_ngcontent-%COMP%]{margin-top:16px}"]});var _e=_t;var Tt=class Tt{constructor(){}};Tt.\u0275fac=function(t){return new(t||Tt)},Tt.\u0275cmp=d({type:Tt,selectors:[["app-personnel-edit"]],decls:6,vars:0,consts:[[1,"personnel-edit-container"],[1,"personnel-edit-content"]],template:function(t,n){t&1&&(z(0,"div",0)(1,"h2"),r(2,"\u4EBA\u54E1\u7DE8\u8F2F"),y(),z(3,"div",1)(4,"p"),r(5,"\u4EBA\u54E1\u7DE8\u8F2F\u9801\u9762 - DDD\u67B6\u69CB"),y()()())},dependencies:[C],styles:[".personnel-edit-container[_ngcontent-%COMP%]{padding:24px}.personnel-edit-content[_ngcontent-%COMP%]{margin-top:16px}"]});var Te=Tt;var ws=[];var bt=class bt{constructor(){}};bt.\u0275fac=function(t){return new(t||bt)},bt.\u0275cmp=d({type:bt,selectors:[["app-project-list"]],decls:6,vars:0,consts:[[1,"project-list-container"],[1,"project-list-content"]],template:function(t,n){t&1&&(z(0,"div",0)(1,"h2"),r(2,"\u5C08\u6848\u7BA1\u7406"),y(),z(3,"div",1)(4,"p"),r(5,"\u5C08\u6848\u5217\u8868\u9801\u9762 - DDD\u67B6\u69CB"),y()()())},dependencies:[C],styles:[".project-list-container[_ngcontent-%COMP%]{padding:24px}.project-list-content[_ngcontent-%COMP%]{margin-top:16px}"]});var be=bt;var St=class St{constructor(){}};St.\u0275fac=function(t){return new(t||St)},St.\u0275cmp=d({type:St,selectors:[["app-project-detail"]],decls:6,vars:0,consts:[[1,"project-detail-container"],[1,"project-detail-content"]],template:function(t,n){t&1&&(z(0,"div",0)(1,"h2"),r(2,"\u5C08\u6848\u8A73\u60C5"),y(),z(3,"div",1)(4,"p"),r(5,"\u5C08\u6848\u8A73\u60C5\u9801\u9762 - DDD\u67B6\u69CB"),y()()())},dependencies:[C],styles:[".project-detail-container[_ngcontent-%COMP%]{padding:24px}.project-detail-content[_ngcontent-%COMP%]{margin-top:16px}"]});var Se=St;var Nt=class Nt{constructor(){}};Nt.\u0275fac=function(t){return new(t||Nt)},Nt.\u0275cmp=d({type:Nt,selectors:[["app-project-edit"]],decls:6,vars:0,consts:[[1,"project-edit-container"],[1,"project-edit-content"]],template:function(t,n){t&1&&(z(0,"div",0)(1,"h2"),r(2,"\u5C08\u6848\u7DE8\u8F2F"),y(),z(3,"div",1)(4,"p"),r(5,"\u5C08\u6848\u7DE8\u8F2F\u9801\u9762 - DDD\u67B6\u69CB"),y()()())},dependencies:[C],styles:[".project-edit-container[_ngcontent-%COMP%]{padding:24px}.project-edit-content[_ngcontent-%COMP%]{margin-top:16px}"]});var Ne=Nt;var Js=[];var At=class At{constructor(){}};At.\u0275fac=function(t){return new(t||At)},At.\u0275cmp=d({type:At,selectors:[["app-site-list"]],decls:6,vars:0,consts:[[1,"site-list-container"],[1,"site-list-content"]],template:function(t,n){t&1&&(z(0,"div",0)(1,"h2"),r(2,"\u73FE\u5834\u7BA1\u7406"),y(),z(3,"div",1)(4,"p"),r(5,"\u73FE\u5834\u5217\u8868\u9801\u9762 - DDD\u67B6\u69CB"),y()()())},dependencies:[C],styles:[".site-list-container[_ngcontent-%COMP%]{padding:24px}.site-list-content[_ngcontent-%COMP%]{margin-top:16px}"]});var Ae=At;var wt=class wt{constructor(){}};wt.\u0275fac=function(t){return new(t||wt)},wt.\u0275cmp=d({type:wt,selectors:[["app-site-detail"]],decls:6,vars:0,consts:[[1,"site-detail-container"],[1,"site-detail-content"]],template:function(t,n){t&1&&(z(0,"div",0)(1,"h2"),r(2,"\u73FE\u5834\u8A73\u60C5"),y(),z(3,"div",1)(4,"p"),r(5,"\u73FE\u5834\u8A73\u60C5\u9801\u9762 - DDD\u67B6\u69CB"),y()()())},dependencies:[C],styles:[".site-detail-container[_ngcontent-%COMP%]{padding:24px}.site-detail-content[_ngcontent-%COMP%]{margin-top:16px}"]});var we=wt;var Ft=class Ft{constructor(){}};Ft.\u0275fac=function(t){return new(t||Ft)},Ft.\u0275cmp=d({type:Ft,selectors:[["app-site-edit"]],decls:6,vars:0,consts:[[1,"site-edit-container"],[1,"site-edit-content"]],template:function(t,n){t&1&&(z(0,"div",0)(1,"h2"),r(2,"\u73FE\u5834\u7DE8\u8F2F"),y(),z(3,"div",1)(4,"p"),r(5,"\u73FE\u5834\u7DE8\u8F2F\u9801\u9762 - DDD\u67B6\u69CB"),y()()())},dependencies:[C],styles:[".site-edit-container[_ngcontent-%COMP%]{padding:24px}.site-edit-content[_ngcontent-%COMP%]{margin-top:16px}"]});var Fe=Ft;var gl=[];export{Ui as a,he as b,Ee as c,De as d,ws as e,be as f,Js as g,Ae as h,gl as i};
