import{c as ar,d as rr,e as pi,f as ci,g as mi,h as di,k as lr,l as sr,m as pr,o as cr,q as mr}from"./chunk-5SQVJTNW.js";import"./chunk-DRVV4L2C.js";import"./chunk-VAGS5EVQ.js";import{a as ui,b as fi}from"./chunk-FVFBYADH.js";import{a as Ua}from"./chunk-QLLE6LAM.js";import{a as Oe,c as gi,d as hi}from"./chunk-62TVQDWQ.js";import"./chunk-EP5OA3BR.js";import{d as Xn}from"./chunk-7ZEZG4HV.js";import{$a as Za,A as we,Ba as li,Bb as Jt,Ca as Va,Cb as en,D as _t,Da as La,Db as Ye,E as ya,Eb as or,F as $e,Fa as Fe,Fb as Je,G as ba,H as Sa,Ha as bt,Hb as Pt,I as Ct,Ia as Ra,J as Jn,Ja as Ga,K as ke,Ka as St,L as zt,M as je,Ma as Pe,N as Ta,Na as Be,Oa as Ze,Pa as Wa,Qa as $a,Ra as ja,Sa as Ha,T as ei,Ta as Xe,U as ve,V as ti,Va as Tt,W as ni,Z as ii,Za as Mt,aa as oi,ab as Xa,ba as xt,bb as Ka,cb as Dt,d as da,da as Ma,e as ua,ea as He,eb as Ya,f as fa,fa as ai,fb as Ja,ga as ri,gb as Et,h as Kn,hb as er,i as pe,ia as Da,ib as Nt,j as Kt,ja as Ea,k as ga,ka as Qe,l as ha,lb as wt,ma as Na,na as qe,o as Yn,oa as wa,ob as kt,p as _a,pa as ka,qa as Fa,qb as Ft,r as Ca,ra as Pa,rb as Yt,s as za,sa as Ba,ta as Oa,tb as Ke,u as xa,ua as Ue,ub as tr,vb as nr,wa as vt,wb as ir,xa as Ia,xb as si,y as va,ya as Aa,z as We,za as yt}from"./chunk-UVE6SCZO.js";import{$ as $t,$b as K,Aa as Ao,Ab as $o,Ac as X,Ah as gt,B as Gt,Ba as Vo,Bb as mt,Bc as W,Bh as sa,C as Po,Cb as it,Cc as Uo,Ce as ia,Cg as oa,Ch as pa,Db as ot,E as Hi,Ea as i,Ec as Zo,Ed as Jo,Ee as Sn,F as On,Fa as Lo,Fc as Xo,Fh as ca,G as In,Gc as Ko,H as Bo,Hb as B,I as rt,Ia as Ln,Ib as Re,Id as ea,J as Wt,Jb as $,Jd as Vt,Kb as me,Kc as Ut,L as Qi,La as x,Lb as jo,Lg as Qn,Ma as G,Mb as p,Mh as qn,N as lt,Nb as v,Nc as $n,Oa as Ro,Ob as S,Pa as _e,Pb as Ho,Pc as Yo,Ph as ht,Qb as Ht,Ra as _,Rb as Qt,Rc as k,Rd as dt,Sa as Go,Sb as qt,Sg as aa,Sh as Un,T as Oo,Ta as J,Th as Zn,U as Ve,Ua as It,V as Io,Vd as Zt,W as st,Wb as qi,Wh as ma,Xb as bn,Za as Wo,_a as At,_b as Qo,aa as R,ab as u,ac as Ce,b as ko,ba as An,bc as Gn,be as ta,cb as f,cc as qo,d as Fo,da as C,db as ae,di as ye,eb as nt,ec as y,ei as be,fb as q,fc as E,fi as Qa,gb as U,gc as Ee,gg as se,gi as qa,hb as s,hg as oe,ia as T,ib as r,ic as L,ig as ee,ii as ue,ja as M,jb as l,jc as Wn,jg as te,ji as fe,kb as d,lb as re,lh as ft,mb as le,mc as ze,n as vn,na as yn,o as et,oa as Vn,ob as I,og as Xt,pa as Le,pb as A,pg as xe,qb as Rn,qe as na,qg as Ne,rb as P,s as tt,ta as ce,ua as Me,ub as D,va as jt,vd as jn,wd as Hn,wg as ut,wh as ra,xb as m,xh as la,yb as pt,yg as Ge,za as De,zb as ct,zc as Y,zg as de}from"./chunk-36RJFFMM.js";import{a as Se,b as wo,g as ji}from"./chunk-57BLH6QZ.js";function qr(t,o){if(t&1&&(I(0),r(1,"h4",2),p(2),l(),A()),t&2){let e=m();i(2),v(e.title)}}function Ur(t,o){t&1&&d(0,"nz-skeleton")}var Zr=41,Tn=(()=>{class t extends Oe{title;color="rgba(24, 144, 255, 0.85)";height=0;padding="auto";data=[];autoLabel=!0;interaction="none";clickItem=new J;getHeight(){return this.title?this.height-Zr:this.height}install(){let{node:e,padding:n,interaction:a,theme:c}=this,g=e.nativeElement,h=this._chart=new this.winG2.Chart({container:g,autoFit:!0,height:this.getHeight(),padding:n,theme:c});this.updatelabel(),h.axis("y",{title:null,line:null,tickLine:null}),h.scale({x:{type:"cat"},y:{min:0}}),h.tooltip({showTitle:!1}),a!=="none"&&h.interaction(a),h.legend(!1),h.interval().position("x*y").color("x*y",(N,O)=>{let b=this.data.find(w=>w.x===N&&w.y===O);return b&&b.color?b.color:this.color}).tooltip("x*y",(N,O)=>({name:N,value:O})),h.on("interval:click",N=>{this.ngZone.run(()=>this.clickItem.emit({item:N.data?.data,ev:N}))}),this.ready.next(h),this.changeData(),h.render(),this.installResizeEvent()}changeData(){let{_chart:e,data:n}=this;!e||!Array.isArray(n)||n.length<=0||e.changeData(n)}updatelabel(){let{node:e,data:n,_chart:a}=this,c=e.nativeElement.clientWidth,g=n.length*30;a.axis("x",c>g).render()}installResizeEvent(){!this.autoLabel||this.resize$||(this.resize$=Gt(window,"resize").pipe(Io(this.destroy$),On(()=>!!this._chart),Wt(200)).subscribe(()=>this.ngZone.runOutsideAngular(()=>this.updatelabel())))}static \u0275fac=(()=>{let e;return function(a){return(e||(e=Me(t)))(a||t)}})();static \u0275cmp=x({type:t,selectors:[["g2-bar"]],hostVars:2,hostBindings:function(n,a){n&2&&Re("height",a.height,"px")},inputs:{title:"title",color:"color",height:[2,"height","height",W],padding:"padding",data:"data",autoLabel:[2,"autoLabel","autoLabel",X],interaction:"interaction"},outputs:{clickItem:"clickItem"},exportAs:["g2Bar"],features:[_e],decls:4,vars:2,consts:[["container",""],[4,"nzStringTemplateOutlet"],[2,"margin-bottom","20px"]],template:function(n,a){n&1&&(_(0,qr,3,1,"ng-container",1),u(1,Ur,1,0,"nz-skeleton"),d(2,"div",null,0)),n&2&&(s("nzStringTemplateOutlet",a.title),i(),f(a.loaded?-1:1))},dependencies:[ee,ye],encapsulation:2,changeDetection:0})}return t})(),Xr=[Tn],_i=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=G({type:t});static \u0275inj=R({imports:[k,te,be,Xr]})}return t})();var Kr=["*"],Yr=()=>({padding:"20px 24px 8px 24px"});function Jr(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m();i(),v(e.avatar)}}function el(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m(2);i(),v(e.title)}}function tl(t,o){if(t&1&&(r(0,"span",7),_(1,el,2,1,"ng-container",4),l()),t&2){let e=m();i(),s("nzStringTemplateOutlet",e.title)}}function nl(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m(2);i(),v(e.action)}}function il(t,o){if(t&1&&(r(0,"span",8),_(1,nl,2,1,"ng-container",4),l()),t&2){let e=m();i(),s("nzStringTemplateOutlet",e.action)}}function ol(t,o){if(t&1&&d(0,"p",9),t&2){let e=m();s("innerHTML",e.total,De)}}function al(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m(2);i(),v(e.footer)}}function rl(t,o){if(t&1&&(r(0,"div",11),_(1,al,2,1,"ng-container",4),l()),t&2){let e=m();i(),s("nzStringTemplateOutlet",e.footer)}}var Ui=(()=>{class t{cdr=C(Y);bordered=!1;avatar;title;action;total="";_height="auto";_orgHeight;set contentHeight(e){this._orgHeight=e,this._height=typeof e=="number"?this._height=`${e}px`:e}footer;loading=!1;ngOnChanges(){this.cdr.detectChanges()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["g2-card"]],hostVars:2,hostBindings:function(n,a){n&2&&$("g2-card",!0)},inputs:{bordered:[2,"bordered","bordered",X],avatar:"avatar",title:"title",action:"action",total:"total",contentHeight:"contentHeight",footer:"footer",loading:[2,"loading","loading",X]},exportAs:["g2Card"],features:[ce],ngContentSelectors:Kr,decls:14,vars:13,consts:[[3,"nzBodyStyle","nzBordered"],[3,"nzSpinning"],[1,"g2-card__top"],[1,"g2-card__avatar"],[4,"nzStringTemplateOutlet"],[1,"g2-card__meta-wrap"],[1,"g2-card__meta"],[1,"g2-card__meta-title"],[1,"g2-card__meta-action"],[1,"g2-card__total",3,"innerHTML"],[1,"g2-card__desc"],[1,"g2-card__footer"]],template:function(n,a){n&1&&(pt(),r(0,"nz-card",0)(1,"nz-spin",1)(2,"div",2)(3,"div",3),_(4,Jr,2,1,"ng-container",4),l(),r(5,"div",5)(6,"div",6),u(7,tl,2,1,"span",7),u(8,il,2,1,"span",8),l(),u(9,ol,1,1,"p",9),l()(),r(10,"div",10)(11,"div"),ct(12),l()(),u(13,rl,2,1,"div",11),l()()),n&2&&(s("nzBodyStyle",K(12,Yr))("nzBordered",a.bordered),i(),s("nzSpinning",a.loading),i(3),s("nzStringTemplateOutlet",a.avatar),i(3),f(a.title?7:-1),i(),f(a.action?8:-1),i(),f(a.total?9:-1),i(),Re("height",a._height),i(),$("g2-card__fixed",!!a._orgHeight),i(2),f(a.footer?13:-1))},dependencies:[ue,Na,ee],encapsulation:2,changeDetection:0})}return t})(),ll=[Ui],ur=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=G({type:t});static \u0275inj=R({imports:[k,fe,qe,te,ll]})}return t})();var pl=t=>({left:t}),fr=t=>({"background-color":t}),cl=(t,o,e)=>({"background-color":t,width:o,height:e}),gr=(()=>{class t{locale=C(Un).valueSignal("miniProgress");cdr=C(Y);color="#1890FF";target;percent;strokeWidth;fixNum(e){return Math.min(Math.max(W(e),0),100)}ngOnChanges(){this.target=this.fixNum(this.target),this.percent=this.fixNum(this.percent),this.cdr.detectChanges()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["g2-mini-progress"]],hostVars:2,hostBindings:function(n,a){n&2&&$("g2-mini-progress",!0)},inputs:{color:"color",target:[2,"target","target",W],percent:[2,"percent","percent",W],strokeWidth:[2,"strokeWidth","strokeWidth",W]},exportAs:["g2MiniProgress"],features:[ce],decls:5,vars:19,consts:[["nz-tooltip","",1,"g2-mini-progress__target",3,"nzTooltipTitle"],[1,"g2-mini-progress__target-item"],[1,"g2-mini-progress__wrap"],[1,"g2-mini-progress__value"]],template:function(n,a){n&1&&(r(0,"div",0),d(1,"span",1)(2,"span",1),l(),r(3,"div",2),d(4,"div",3),l()),n&2&&(me(Ce(9,pl,a.target+"%")),s("nzTooltipTitle",a.locale().targetSuffix+a.target+"%"),i(),me(Ce(11,fr,a.color)),i(),me(Ce(13,fr,a.color)),i(2),me(qo(15,cl,a.color,a.percent+"%",a.strokeWidth+"px")))},dependencies:[zt],encapsulation:2,changeDetection:0})}return t})();var hr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=G({type:t});static \u0275inj=R({imports:[k,Zn,je]})}return t})();function dl(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m(2);i(),v(e.title)}}function ul(t,o){if(t&1&&(r(0,"div",0),_(1,dl,2,1,"ng-container",4),l()),t&2){let e=m();i(),s("nzStringTemplateOutlet",e.title)}}function fl(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m(2);i(),v(e.subTitle)}}function gl(t,o){if(t&1&&(r(0,"div",1),_(1,fl,2,1,"ng-container",4),l()),t&2){let e=m();i(),s("nzStringTemplateOutlet",e.subTitle)}}function hl(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m();i(),v(e.total)}}function _l(t,o){if(t&1&&(r(0,"em",5),p(1),l()),t&2){let e=m();i(),v(e.suffix)}}function Cl(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m(2);i(),v(e.subTotal)}}function zl(t,o){if(t&1&&d(0,"nz-icon",7),t&2){let e=m(2);s("nzType",bn("caret-",e.status))}}function xl(t,o){if(t&1&&(r(0,"span",6),_(1,Cl,2,1,"ng-container",4),u(2,zl,1,2,"nz-icon",7),l()),t&2){let e=m();i(),s("nzStringTemplateOutlet",e.subTotal),i(),f(e.status?2:-1)}}var Ci=(()=>{class t{title;subTitle;total;subTotal;suffix;status;theme="light";gap=8;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["number-info"]],hostVars:6,hostBindings:function(n,a){n&2&&$("number-info",!0)("number-info__light",a.theme==="light")("number-info__default",a.theme==="default")},inputs:{title:"title",subTitle:"subTitle",total:"total",subTotal:"subTotal",suffix:"suffix",status:"status",theme:"theme",gap:[2,"gap","gap",W]},exportAs:["numberInfo"],decls:7,vars:7,consts:[[1,"number-info__title"],[1,"number-info__title-sub"],[1,"number-info__value"],[1,"number-info__value-text"],[4,"nzStringTemplateOutlet"],[1,"number-info__value-suffix"],[1,"number-info__value-text","number-info__value-sub"],[3,"nzType"]],template:function(n,a){n&1&&(u(0,ul,2,1,"div",0),u(1,gl,2,1,"div",1),r(2,"div",2)(3,"span",3),_(4,hl,2,1,"ng-container",4),u(5,_l,2,1,"em",5),l(),u(6,xl,3,2,"span",6),l()),n&2&&(f(a.title?0:-1),i(),f(a.subTitle?1:-1),i(),Re("margin-top",a.gap,"px"),i(2),s("nzStringTemplateOutlet",a.total),i(),f(a.suffix?5:-1),i(),f(a.status||a.subTotal?6:-1))},dependencies:[ee,se],encapsulation:2,changeDetection:0})}return t})();var zi=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=G({type:t});static \u0275inj=R({imports:[k,oe,te]})}return t})();var vl=t=>({"background-color":t});function yl(t,o){t&1&&d(0,"nz-skeleton")}function bl(t,o){if(t&1&&(I(0),d(1,"div",7),A()),t&2){let e=m(3);i(),s("innerHTML",e.subTitle,De)}}function Sl(t,o){if(t&1&&(r(0,"h4",4),_(1,bl,2,1,"ng-container",6),l()),t&2){let e=m(2);i(),s("nzStringTemplateOutlet",e.subTitle)}}function Tl(t,o){if(t&1&&(I(0),d(1,"div",7),A()),t&2){let e=m(3);i(),s("innerHTML",e.total,De)}}function Ml(t,o){if(t&1&&(r(0,"div",5),_(1,Tl,2,1,"ng-container",6),l()),t&2){let e=m(2);i(),s("nzStringTemplateOutlet",e.total)}}function Dl(t,o){if(t&1&&(r(0,"div",2),u(1,Sl,2,1,"h4",4),u(2,Ml,2,1,"div",5),l()),t&2){let e=m();i(),f(e.subTitle?1:-1),i(),f(e.total?2:-1)}}function El(t,o){if(t&1){let e=P();r(0,"li",9),D("click",function(){let a=T(e).$index,c=m(2);return M(c._click(a))}),d(1,"span",10),r(2,"span",11),p(3),l(),d(4,"nz-divider",12),r(5,"span",13),p(6),l(),d(7,"span",14),l()}if(t&2){let e=o.$implicit,n=m(2);i(),me(Ce(5,vl,e.checked?e.color:"#aaa")),i(2),v(e.x),i(3),S("",e.percent,"%"),i(),s("innerHTML",n.valueFormat?n.valueFormat(e.y):e.y,De)}}function Nl(t,o){if(t&1&&(r(0,"ul",3),q(1,El,8,7,"li",8,ae),l()),t&2){let e=m();i(),U(e.legendData)}}var Mn=(()=>{class t extends Oe{percentColor;legendData=[];isPercent=!1;animate=!0;color="rgba(24, 144, 255, 0.85)";subTitle;total;height=0;hasLegend=!1;inner=.75;padding=[12,0,12,0];percent;tooltip=!0;lineWidth=0;blockMaxWidth=380;select=!0;valueFormat;data=[];colors;interaction="none";ratio={text:"\u5360\u6BD4",inverse:"\u53CD\u6BD4",color:"",inverseColor:"#F0F2F5"};clickItem=new J;block=!1;fixData(){let{percent:e,color:n}=this;if(this.isPercent=e!=null,!this.isPercent)return;this.select=!1,this.tooltip=!1;let{text:a,inverse:c,color:g,inverseColor:h}=this.ratio;this.percentColor=N=>N===a?g||n:h,this.data=[{x:a,y:e},{x:c,y:100-e}]}updateBlock(){this.block=this._chart&&this.hasLegend&&this.el.nativeElement.clientWidth<=this.blockMaxWidth,this.cdr.detectChanges()}install(){let{node:e,height:n,padding:a,tooltip:c,inner:g,hasLegend:h,interaction:N,theme:O,animate:b,lineWidth:w,isPercent:H,percentColor:ne,colors:F}=this,z=this._chart=new this.winG2.Chart({container:e.nativeElement,autoFit:!0,height:n,padding:a,theme:O});z.animate(b),c?z.tooltip({showTitle:!1,showMarkers:!1}):z.tooltip(!1),N!=="none"&&z.interaction(N),z.axis(!1).legend(!1).coordinate("theta",{innerRadius:g}),z.filter("x",(V,j)=>j.checked!==!1),z.interval().adjust("stack").position("y").style({lineWidth:w,stroke:"#fff"}).color("x",H?ne:F).tooltip("x*percent",(V,j)=>({name:V,value:`${h?j:(j*100).toFixed(2)} %`})).state({}),z.scale({x:{type:"cat",range:[0,1]}}),z.on("interval:click",V=>{this.ngZone.run(()=>this.clickItem.emit({item:V.data?.data,ev:V}))}).on("afterrender",()=>{this.ngZone.run(()=>this.updateBlock())}),this.ready.next(z),this.changeData(),z.render()}changeData(){let{_chart:e,data:n}=this;if(!e||!Array.isArray(n)||n.length<=0)return;let a=n.reduce((c,g)=>c+g.y,0);for(let c of n)c.percent=a===0?0:c.y/a;e.changeData(n),this.ngZone.run(()=>this.genLegend())}genLegend(){let{hasLegend:e,isPercent:n,cdr:a,_chart:c}=this;!e||n||(this.legendData=c.geometries[0].dataArray.map(g=>{let h=g[0]._origin;return h.color=g[0].color,h.checked=!0,h.percent=(h.percent*100).toFixed(2),h}),a.detectChanges())}_click(e){let{legendData:n,_chart:a}=this;n[e].checked=!n[e].checked,a.render(!0)}onChanges(){this.fixData()}static \u0275fac=(()=>{let e;return function(a){return(e||(e=Me(t)))(a||t)}})();static \u0275cmp=x({type:t,selectors:[["g2-pie"]],hostVars:8,hostBindings:function(n,a){n&2&&$("g2-pie",!0)("g2-pie__legend-has",a.hasLegend)("g2-pie__legend-block",a.block)("g2-pie__mini",a.isPercent)},inputs:{animate:[2,"animate","animate",X],color:"color",subTitle:"subTitle",total:"total",height:[2,"height","height",W],hasLegend:[2,"hasLegend","hasLegend",X],inner:"inner",padding:"padding",percent:[2,"percent","percent",W],tooltip:[2,"tooltip","tooltip",X],lineWidth:[2,"lineWidth","lineWidth",W],blockMaxWidth:[2,"blockMaxWidth","blockMaxWidth",W],select:[2,"select","select",X],valueFormat:"valueFormat",data:"data",colors:"colors",interaction:"interaction",ratio:"ratio"},outputs:{clickItem:"clickItem"},exportAs:["g2Pie"],features:[_e],decls:6,vars:3,consts:[["container",""],[1,"g2-pie__chart"],[1,"g2-pie__total"],[1,"g2-pie__legend"],[1,"g2-pie__total-title"],[1,"g2-pie__total-stat"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"],[1,"g2-pie__legend-item"],[1,"g2-pie__legend-item",3,"click"],[1,"g2-pie__legend-dot"],[1,"g2-pie__legend-title"],["nzType","vertical"],[1,"g2-pie__legend-percent"],[1,"g2-pie__legend-value",3,"innerHTML"]],template:function(n,a){n&1&&(u(0,yl,1,0,"nz-skeleton"),r(1,"div",1),d(2,"div",null,0),u(4,Dl,3,2,"div",2),l(),u(5,Nl,3,0,"ul",3)),n&2&&(f(a.loaded?-1:0),i(4),f(a.subTitle||a.total?4:-1),i(),f(a.hasLegend&&a.legendData.length>0?5:-1))},dependencies:[ye,ee,ei],encapsulation:2,changeDetection:0})}return t})(),wl=[Mn],xi=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=G({type:t});static \u0275inj=R({imports:[k,ve,te,be,wl]})}return t})();function kl(t,o){if(t&1&&(I(0),r(1,"h4"),p(2),l(),A()),t&2){let e=m();i(2),v(e.title)}}function Fl(t,o){t&1&&d(0,"nz-skeleton")}var Dn=(()=>{class t extends Oe{title;maxAxis=2;data=[];titleMap;colorMap={y1:"#5B8FF9",y2:"#5AD8A6",y3:"#5D7092",y4:"#F6BD16",y5:"#E86452"};mask="HH:mm";maskSlider="HH:mm";position="top";height=450;padding=[40,8,64,40];borderWidth=2;slider=!0;clickItem=new J;onlyChangeData=e=>{let n=e.titleMap;return!(n&&!n.firstChange&&n.currentValue!==n.previousValue)};install(){let{node:e,height:n,padding:a,slider:c,maxAxis:g,theme:h,maskSlider:N}=this,O=this._chart=new this.winG2.Chart({container:e.nativeElement,autoFit:!0,height:n,padding:a,theme:h});O.axis("time",{title:null}),O.axis("y1",{title:null});for(let w=2;w<=g;w++)O.axis(`y${w}`,!1);O.line().position("time*y1");for(let w=2;w<=g;w++)O.line().position(`time*y${w}`);O.tooltip({showCrosshairs:!0,shared:!0});let b=Se(Se({},[]),a);b[0]=0,c&&O.option("slider",{height:26,start:0,end:1,trendCfg:{isArea:!1},minLimit:2,formatter:w=>Qn(w,N)}),O.on("plot:click",w=>{let H=this._chart.getSnapRecords({x:w.x,y:w.y});this.ngZone.run(()=>this.clickItem.emit({item:H[0]._origin,ev:w}))}),O.on("legend-item:click",w=>{let H=w?.target?.get("delegateObject").item,ne=H?.id,F=O.geometries.find(z=>z.getAttribute("position").getFields()[1]===ne);F&&F.changeVisible(!H.unchecked)}),this.ready.next(O),this.changeData(),O.render()}changeData(){let{_chart:e,height:n,padding:a,mask:c,titleMap:g,position:h,colorMap:N,borderWidth:O,maxAxis:b}=this,w=[...this.data];if(!e||w.length<=0)return;let H=[...Array(b)].map((j,Z)=>Z+1);e.legend({position:h,custom:!0,items:H.map(j=>{let Z=`y${j}`;return{id:Z,name:g[Z],value:Z,marker:{style:{fill:N[Z]}}}})}),e.geometries.forEach((j,Z)=>{j.color(N[`y${Z+1}`]).size(O)}),e.height=n,e.padding=a,w=w.map(j=>(j.time=pa(j.time),j._time=+j.time,j)).sort((j,Z)=>j._time-Z._time);let ne=Math.max(...H.map(j=>[...w].sort((Z,Bt)=>Bt[`y${j}`]-Z[`y${j}`])[0][`y${j}`])),F={};H.forEach(j=>{let Z=`y${j}`;F[Z]={alias:g[Z],max:ne,min:0}}),e.scale(Se({time:{type:"time",mask:c,range:[0,1]}},F));let z={start:w[0]._time,end:w[w.length-1]._time},V=w.filter(j=>j._time>=z.start&&j._time<=z.end);e.changeData(V)}static \u0275fac=(()=>{let e;return function(a){return(e||(e=Me(t)))(a||t)}})();static \u0275cmp=x({type:t,selectors:[["g2-timeline"]],inputs:{title:"title",maxAxis:[2,"maxAxis","maxAxis",W],data:"data",titleMap:"titleMap",colorMap:"colorMap",mask:"mask",maskSlider:"maskSlider",position:"position",height:[2,"height","height",W],padding:"padding",borderWidth:[2,"borderWidth","borderWidth",W],slider:[2,"slider","slider",X]},outputs:{clickItem:"clickItem"},exportAs:["g2Timeline"],features:[_e],decls:4,vars:2,consts:[["container",""],[4,"nzStringTemplateOutlet"]],template:function(n,a){n&1&&(_(0,kl,3,1,"ng-container",1),u(1,Fl,1,0,"nz-skeleton"),d(2,"div",null,0)),n&2&&(s("nzStringTemplateOutlet",a.title),i(),f(a.loaded?-1:1))},dependencies:[ee,ye],encapsulation:2,changeDetection:0})}return t})(),Pl=[Dn],vi=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=G({type:t});static \u0275inj=R({imports:[k,te,be,Pl]})}return t})();var Bl=["*"];function Ol(t,o){if(t&1&&(r(0,"span"),d(1,"nz-icon",1),l()),t&2){let e=m();jo(bn("trend__",e.flag)),i(),s("nzType",bn("caret-",e.flag))}}var xr=(()=>{class t{flag;colorful=!0;reverseColor=!1;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["trend"]],hostVars:7,hostBindings:function(n,a){n&2&&(At("data-flag",a.flag),$("trend",!0)("trend__grey",!a.colorful)("trend__reverse",a.colorful&&a.reverseColor))},inputs:{flag:"flag",colorful:[2,"colorful","colorful",X],reverseColor:[2,"reverseColor","reverseColor",X]},exportAs:["trend"],ngContentSelectors:Bl,decls:2,vars:1,consts:[[3,"class"],[3,"nzType"]],template:function(n,a){n&1&&(pt(),ct(0),u(1,Ol,2,5,"span",0)),n&2&&(i(),f(a.flag?1:-1))},dependencies:[se],encapsulation:2,changeDetection:0})}return t})();var vr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=G({type:t});static \u0275inj=R({imports:[k,oe]})}return t})();var Rl=()=>({toTop:!1}),Gl=()=>({"padding.px":24}),Wl=()=>({padding:"0 0 32px"}),$l=()=>[0,0,0,0];function jl(t,o){t&1&&(d(0,"i",43),y(1,"i18n")),t&2&&s("nzTooltipTitle",E(1,1,"app.analysis.introduce"))}function Hl(t,o){t&1&&(r(0,"p",44),p(1),y(2,"i18n"),r(3,"span",45),p(4,"\uFFE512,423"),l()()),t&2&&(i(),S(" ",E(2,1,"app.analysis.day-sales")," "))}function Ql(t,o){t&1&&(d(0,"i",43),y(1,"i18n")),t&2&&s("nzTooltipTitle",E(1,1,"app.analysis.introduce"))}function ql(t,o){if(t&1&&d(0,"g2-mini-area",22),t&2){let e=m();s("data",e.data.visitData)}}function Ul(t,o){t&1&&(r(0,"p",44),p(1),y(2,"i18n"),r(3,"span",45),p(4,"1,234"),l()()),t&2&&(i(),S(" ",E(2,1,"app.analysis.day-visits")," "))}function Zl(t,o){t&1&&(d(0,"i",43),y(1,"i18n")),t&2&&s("nzTooltipTitle",E(1,1,"app.analysis.introduce"))}function Xl(t,o){if(t&1&&d(0,"g2-mini-bar",24),t&2){let e=m();s("data",e.data.visitData)}}function Kl(t,o){t&1&&(r(0,"p",44),p(1),y(2,"i18n"),r(3,"span",45),p(4,"60%"),l()()),t&2&&(i(),S(" ",E(2,1,"app.analysis.conversion-rate")," "))}function Yl(t,o){t&1&&(d(0,"i",43),y(1,"i18n")),t&2&&s("nzTooltipTitle",E(1,1,"app.analysis.introduce"))}function Jl(t,o){t&1&&(r(0,"div",46)(1,"trend",47),p(2),y(3,"i18n"),r(4,"span",19),p(5,"12%"),l()(),r(6,"trend",20),p(7),y(8,"i18n"),r(9,"span",19),p(10,"11%"),l()()()),t&2&&(i(2),S(" ",E(3,2,"app.analysis.week")," "),i(5),S(" ",E(8,4,"app.analysis.day")," "))}function es(t,o){if(t&1&&(r(0,"li")(1,"span",58),p(2),l(),r(3,"span",59),p(4),l(),r(5,"span",60),p(6),y(7,"number"),l()()),t&2){let e=o.$implicit,n=o.$index;i(),$("active",n<3),i(),v(n+1),i(2),v(e.title),i(2),v(Ee(7,5,e.total,"3.0"))}}function ts(t,o){if(t&1&&(r(0,"div",50)(1,"div",51)(2,"div",52),d(3,"g2-bar",53),y(4,"i18n"),l()(),r(5,"div",54)(6,"div",55)(7,"h4",56),p(8),y(9,"i18n"),l(),r(10,"ul",57),q(11,es,8,8,"li",null,ae),l()()()()),t&2){let e=m().$implicit,n=m(2);i(3),s("title",E(4,3,"app.analysis."+e+"-trend"))("data",n.data.salesData),i(5),v(E(9,5,"app.analysis."+e+"-ranking")),i(3),U(n.rankingListData)}}function ns(t,o){if(t&1&&(r(0,"nz-tab",48),y(1,"i18n"),_(2,ts,13,7,"ng-template",49),l()),t&2){let e=o.$implicit;s("nzTitle",E(1,1,"app.analysis."+e))}}function is(t,o){if(t&1){let e=P();r(0,"span",65),D("click",function(){let a=T(e).$implicit,c=m(3);return M(c.setDate(a))}),p(1),y(2,"i18n"),l()}if(t&2){let e=o.$implicit,n=m(3);$("current-date",n.dateRangeType===e),i(),S(" ",E(2,3,"app.analysis.all-"+e)," ")}}function os(t,o){if(t&1){let e=P();r(0,"div",61)(1,"div",62),q(2,is,3,5,"span",63,ae),l(),r(4,"nz-range-picker",64),qt("ngModelChange",function(a){T(e);let c=m(2);return Qt(c.dateRange,a)||(c.dateRange=a),M(a)}),l()()}if(t&2){let e=m(2);i(2),U(e.dateRangeTypes),i(2),Ht("ngModel",e.dateRange)}}function as(t,o){if(t&1&&(r(0,"nz-tabs",28),q(1,ns,3,3,"nz-tab",48,ae),_(3,os,5,1,"ng-template",null,11,L),l()),t&2){let e=B(4),n=m();s("nzTabBarExtraContent",e),i(),U(n.saleTabs)}}function rs(t,o){if(t&1&&(d(0,"i",66),r(1,"nz-dropdown-menu",null,12)(3,"ul",67)(4,"li",68),p(5,"\u64CD\u4F5C\u4E00"),l(),r(6,"li",68),p(7,"\u64CD\u4F5C\u4E8C"),l()()()),t&2){let e=B(2);s("nzDropdownMenu",e)}}function ls(t,o){t&1&&(p(0),y(1,"i18n"),d(2,"i",69),y(3,"i18n")),t&2&&(S(" ",E(1,2,"app.analysis.search-users")," "),i(2),s("nzTooltipTitle",E(3,4,"app.analysis.introduce")))}function ss(t,o){if(t&1&&d(0,"g2-mini-area",34),t&2){let e=m();s("line",!0)("data",e.data.visitData2)}}function ps(t,o){if(t&1&&d(0,"g2-mini-area",34),t&2){let e=m();s("line",!0)("data",e.data.visitData2)}}function cs(t,o){if(t&1&&(r(0,"trend",70)(1,"span"),p(2),l()()),t&2){let e=o.$implicit;s("flag",e.status===1?"down":"up"),i(2),S("",e.range,"%")}}function ms(t,o){if(t&1){let e=P();r(0,"nz-radio-group",64),qt("ngModelChange",function(a){T(e);let c=m();return Qt(c.salesType,a)||(c.salesType=a),M(a)}),D("ngModelChange",function(){T(e);let a=m();return M(a.changeSaleType())}),r(1,"label",71),p(2),y(3,"i18n"),l(),r(4,"label",71),p(5),y(6,"i18n"),l(),r(7,"label",71),p(8),y(9,"i18n"),l()(),d(10,"i",72),r(11,"nz-dropdown-menu",null,13)(13,"ul",67)(14,"li",68),p(15,"\u64CD\u4F5C\u4E00"),l(),r(16,"li",68),p(17,"\u64CD\u4F5C\u4E8C"),l()()()}if(t&2){let e=B(12),n=m();Ht("ngModel",n.salesType),i(),s("nzValue","all"),i(),S(" ",E(3,8,"app.analysis.channel.all")," "),i(2),s("nzValue","online"),i(),S(" ",E(6,10,"app.analysis.channel.online")," "),i(2),s("nzValue","offline"),i(),S(" ",E(9,12,"app.analysis.channel.stores")," "),i(2),s("nzDropdownMenu",e)}}function ds(t,o){if(t&1&&(d(0,"g2-pie",40),y(1,"i18n")),t&2){let e=m();s("data",e.salesPieData)("hasLegend",!0)("subTitle",E(1,7,"app.analysis.sales"))("height",248)("lineWidth",4)("total",e.salesTotal)("valueFormat",e.handlePieValueFormat)}}function us(t,o){if(t&1&&(r(0,"div",74),d(1,"number-info",75),y(2,"i18n"),d(3,"g2-pie",76),l()),t&2){let e=m(),n=e.$implicit,a=e.$index,c=m(2);i(),s("title",n.name)("subTitle",E(2,11,"app.analysis.conversion-rate"))("total",n.cvr*100+"%")("theme",a!==c.offlineIdx?"light":"default"),i(2),s("animate",!1)("color",a!==c.offlineIdx?"#BDE4FF":"rgba(24, 144, 255, 0.85)")("inner",.55)("tooltip",!1)("padding",K(13,$l))("percent",n.cvr*100)("height",48)}}function fs(t,o){if(t&1&&(r(0,"div",77),d(1,"g2-timeline",78),l()),t&2){let e=m().$implicit,n=m(2);i(),s("data",e.chart)("titleMap",n.titleMap)}}function gs(t,o){if(t&1&&(r(0,"nz-tab",48),_(1,us,4,14,"ng-template",null,14,L)(3,fs,2,2,"ng-template",49),l()),t&2){let e=B(2);s("nzTitle",e)}}function hs(t,o){if(t&1){let e=P();r(0,"nz-tabs",73),qt("nzSelectedIndexChange",function(a){T(e);let c=m();return Qt(c.offlineIdx,a)||(c.offlineIdx=a),M(a)}),D("nzSelectedIndexChange",function(a){T(e);let c=m();return M(c.offlineChange(a))}),q(1,gs,4,1,"nz-tab",48,ae),l()}if(t&2){let e=m();Ht("nzSelectedIndex",e.offlineIdx),i(),U(e.data.offlineData)}}var tn=class tn{constructor(){this.http=C(ht);this.msg=C(Xn);this.i18n=C(ca);this.cdr=C(Y);this.data={};this.loading=!0;this.dateRange=[];this.dateRangeTypes=["today","week","month","year"];this.dateRangeType=this.dateRangeTypes[0];this.rankingListData=Array(7).fill({}).map((o,e)=>({title:this.i18n.fanyi("app.analysis.test",{no:e}),total:323234}));this.titleMap={y1:this.i18n.fanyi("app.analysis.traffic"),y2:this.i18n.fanyi("app.analysis.payments")};this.searchColumn=[{title:{text:"\u6392\u540D",i18n:"app.analysis.table.rank"},index:"index"},{title:{text:"\u641C\u7D22\u5173\u952E\u8BCD",i18n:"app.analysis.table.search-keyword"},index:"keyword",click:o=>this.msg.success(o.keyword)},{type:"number",title:{text:"\u7528\u6237\u6570",i18n:"app.analysis.table.users"},index:"count",sort:{compare:(o,e)=>o.count-e.count}},{type:"number",title:{text:"\u5468\u6DA8\u5E45",i18n:"app.analysis.table.weekly-range"},index:"range",render:"range",sort:{compare:(o,e)=>o.range-e.range}}];this.salesType="all";this.salesTotal=0;this.saleTabs=["sales","visits"];this.offlineIdx=0}ngOnInit(){this.http.get("/chart").subscribe(o=>{o.offlineData.forEach(e=>{e.chart=Jo(o.offlineChartData)}),this.data=o,this.loading=!1,this.changeSaleType()})}setDate(o){this.dateRange=sa(o),this.dateRangeType=o,setTimeout(()=>this.cdr.detectChanges())}changeSaleType(){this.salesPieData=this.salesType==="all"?this.data.salesTypeData:this.salesType==="online"?this.data.salesTypeDataOnline:this.data.salesTypeDataOffline,this.salesPieData&&(this.salesTotal=this.salesPieData.reduce((o,e)=>e.y+o,0)),this.cdr.detectChanges()}handlePieValueFormat(o){return Ua(o)}offlineChange(o){this.data.offlineData[o].show!==!0&&(this.data.offlineData[o].show=!0,this.cdr.detectChanges())}};tn.\u0275fac=function(e){return new(e||tn)},tn.\u0275cmp=x({type:tn,selectors:[["app-dashboard-analysis"]],decls:73,vars:67,consts:[["action1",""],["footer1",""],["action2",""],["footer2",""],["action3",""],["footer3",""],["action4",""],["footer4",""],["extraOp",""],["subTitle",""],["extra",""],["extraTemplate",""],["extraOpMenu","nzDropdownMenu"],["salesExtraMenu","nzDropdownMenu"],["nzTabHeading",""],["nz-row","",1,"pt-lg",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","12","nzMd","12","nzLg","6"],["total","\xA5 126,560","contentHeight","44px",3,"title","action","footer"],["flag","up",2,"display","block","margin-top","2px"],[1,"pl-sm"],["flag","down"],["total","8,848","contentHeight","46px",3,"title","action","footer"],["color","#975FE4","height","46",3,"data"],["total","6,560","contentHeight","46px",3,"title","action","footer"],["height","46",3,"data"],["total","78%","contentHeight","46px",3,"title","action","footer"],["height","46","percent","78","strokeWidth","8","target","80","color","#13C2C2"],[1,"ant-card__body-nopadding","sales-card",3,"nzLoading","nzBordered"],[3,"nzTabBarExtraContent"],["nz-row","",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","12"],[1,"mb-0",3,"nzLoading","nzBordered","nzTitle","nzExtra"],["nz-col","","nzXs","24","nzSm","12",1,"mb-md"],["total","12,321","subTotal","17.1","status","up",3,"subTitle"],["height","45",3,"line","data"],["total","2.7","subTotal","26.2","status","down",3,"subTitle"],["size","small","ps","5",3,"data","columns","page"],["st-row","range"],[1,"sales-card","mb-0",2,"min-height","506.5px",3,"nzLoading","nzBordered","nzTitle","nzBodyStyle","nzExtra"],[1,"my-xl"],[3,"data","hasLegend","subTitle","height","lineWidth","total","valueFormat"],[1,"offline-card","mt-lg",3,"nzLoading","nzBordered","nzBodyStyle"],[3,"nzSelectedIndex"],["nz-tooltip","","nz-icon","","nzType","info-circle",3,"nzTooltipTitle"],[1,"text-truncate","mb0"],[1,"ml-sm"],[1,"d-flex","justify-content-between","text-truncate"],["flag","up"],[3,"nzTitle"],["nz-tab",""],["nz-row",""],["nz-col","","nzXs","24","nzSm","24","nzMd","12","nzLg","16"],[1,"bar"],["height","295",2,"width","100%",3,"title","data"],["nz-col","","nzXs","24","nzSm","24","nzMd","12","nzLg","8"],[1,"rank"],[1,"ranking-title"],[1,"rank-list"],[1,"number"],[1,"title"],[1,"value"],[1,"sales-extra-wrap"],[1,"sales-extra"],[3,"current-date"],[3,"ngModelChange","ngModel"],[3,"click"],["nz-dropdown","","nz-icon","","nzType","ellipsis",1,"icon-group",3,"nzDropdownMenu"],["nz-menu",""],["nz-menu-item",""],["nz-tooltip","","nz-icon","","nzType","info-circle",1,"ml-sm",3,"nzTooltipTitle"],[3,"flag"],["nz-radio-button","",3,"nzValue"],["nz-dropdown","","nzPlacement","bottomLeft","nz-icon","","nzType","ellipsis",1,"ml-md",3,"nzDropdownMenu"],[3,"nzSelectedIndexChange","nzSelectedIndex"],[1,"flex-center-between","px-md"],["gap","2",1,"mr-md",3,"title","subTitle","total","theme"],[2,"padding-top","36px","width","48px",3,"animate","color","inner","tooltip","padding","percent","height"],[1,"px-lg"],[3,"data","titleMap"]],template:function(e,n){if(e&1&&(r(0,"div",15)(1,"div",16)(2,"g2-card",17),y(3,"i18n"),_(4,jl,2,3,"ng-template",null,0,L),r(6,"trend",18),p(7),y(8,"i18n"),r(9,"span",19),p(10,"12%"),l()(),r(11,"trend",20),p(12),y(13,"i18n"),r(14,"span",19),p(15,"11%"),l()(),_(16,Hl,5,3,"ng-template",null,1,L),l()(),r(18,"div",16)(19,"g2-card",21),y(20,"i18n"),_(21,Ql,2,3,"ng-template",null,2,L),u(23,ql,1,1,"g2-mini-area",22),_(24,Ul,5,3,"ng-template",null,3,L),l()(),r(26,"div",16)(27,"g2-card",23),y(28,"i18n"),_(29,Zl,2,3,"ng-template",null,4,L),u(31,Xl,1,1,"g2-mini-bar",24),_(32,Kl,5,3,"ng-template",null,5,L),l()(),r(34,"div",16)(35,"g2-card",25),y(36,"i18n"),_(37,Yl,2,3,"ng-template",null,6,L),d(39,"g2-mini-progress",26),_(40,Jl,11,6,"ng-template",null,7,L),l()()(),r(42,"nz-card",27),u(43,as,5,1,"nz-tabs",28),l(),r(44,"div",29)(45,"div",30)(46,"nz-card",31),y(47,"i18n"),_(48,rs,8,1,"ng-template",null,8,L),r(50,"div",29)(51,"div",32)(52,"number-info",33),_(53,ls,4,6,"ng-template",null,9,L),l(),u(55,ss,1,2,"g2-mini-area",34),l(),r(56,"div",32),d(57,"number-info",35),y(58,"i18n"),u(59,ps,1,2,"g2-mini-area",34),l()(),r(60,"st",36),_(61,cs,3,2,"ng-template",37),l()()(),r(62,"div",30)(63,"nz-card",38),y(64,"i18n"),_(65,ms,18,14,"ng-template",null,10,L),r(67,"h4",39),p(68),y(69,"i18n"),l(),u(70,ds,2,9,"g2-pie",40),l()()(),r(71,"nz-card",41),u(72,hs,3,1,"nz-tabs",42),l()),e&2){let a=B(5),c=B(17),g=B(22),h=B(25),N=B(30),O=B(33),b=B(38),w=B(41),H=B(49),ne=B(54),F=B(66);s("nzGutter",24),i(2),s("title",E(3,44,"app.analysis.total-sales"))("action",a)("footer",c),i(5),S(" ",E(8,46,"app.analysis.week")," "),i(5),S(" ",E(13,48,"app.analysis.day")," "),i(7),s("title",E(20,50,"app.analysis.visits"))("action",g)("footer",h),i(4),f(n.data.visitData?23:-1),i(4),s("title",E(28,52,"app.analysis.payments"))("action",N)("footer",O),i(4),f(n.data.visitData?31:-1),i(4),s("title",E(36,54,"app.analysis.operational-effect"))("action",b)("footer",w),i(7),s("nzLoading",n.loading)("nzBordered",!1),i(),f(n.data.salesData?43:-1),i(),s("nzGutter",24),i(2),s("nzLoading",n.loading)("nzBordered",!1)("nzTitle",E(47,56,"app.analysis.online-top-search"))("nzExtra",H),i(4),s("nzGutter",64),i(2),s("subTitle",ne),i(3),f(n.data.visitData2?55:-1),i(2),s("subTitle",E(58,58,"app.analysis.per-capita-search")),i(2),f(n.data.visitData2?59:-1),i(),s("data",n.data.searchData)("columns",n.searchColumn)("page",K(64,Rl)),i(3),s("nzLoading",n.loading)("nzBordered",!1)("nzTitle",E(64,60,"app.analysis.the-proportion-of-sales"))("nzBodyStyle",K(65,Gl))("nzExtra",F),i(5),v(E(69,62,"app.analysis.sales")),i(2),f(n.salesPieData?70:-1),i(),s("nzLoading",n.loading)("nzBordered",!1)("nzBodyStyle",K(66,Wl)),i(),f(n.data.offlineData?72:-1)}},dependencies:[We,Kt,Yn,we,Mt,St,Ga,Ra,kt,wt,Nt,de,Ne,xt,ni,ti,ii,oi,Ze,Be,Pe,$e,je,zt,Je,Qe,oe,se,_t,Ft,ft,Ue,gt,Dt,Ka,Xa,Za,Fe,bt,yt,Ia,Aa,vt,ke,Et,Ye,Tt,Ct,Sa,ba,Xe,Ke,qe,fe,ue,ve,Pt,He,xe,vi,Dn,xi,Mn,zi,Ci,vr,xr,fi,ui,_i,Tn,hr,gr,ur,Ui,hi,gi,qn,Yo],styles:['[_nghost-%COMP%]     .icon-group i{cursor:pointer;margin-left:16px;color:#00000073;transition:color .32s}[_nghost-%COMP%]     .icon-group i:hover{color:#000000d9}[_nghost-%COMP%]     .rank-list{margin:25px 0 0;padding:0;list-style:none}[_nghost-%COMP%]     .rank-list li{display:flex;align-items:center;margin-top:16px}[_nghost-%COMP%]     .rank-list li:before{display:table;content:""}[_nghost-%COMP%]     .rank-list li:after{display:table;clear:both;content:""}[_nghost-%COMP%]     .rank-list li span{font-size:14px;line-height:22px}[_nghost-%COMP%]     .rank-list li .number{display:inline-block;width:20px;height:20px;margin-top:1.5px;margin-right:16px;border-radius:20px;font-size:12px;font-weight:600;line-height:20px;text-align:center;background-color:#f5f5f5}[_nghost-%COMP%]     .rank-list li .number.active{border-radius:20px;color:#fff;background-color:#314659}[_nghost-%COMP%]     .rank-list li .title{overflow:hidden;flex:1;margin-right:8px;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]     .sales-extra{display:inline-block;margin-right:24px}[_nghost-%COMP%]     .sales-extra span{cursor:pointer;margin-left:24px}[_nghost-%COMP%]     .sales-extra span:hover{color:#1890ff}[_nghost-%COMP%]     .sales-extra span.current-date{color:#1890ff}[_nghost-%COMP%]     .sales-card .bar{padding:0 0 32px 32px}[_nghost-%COMP%]     .sales-card .rank{padding:0 32px 32px 72px}[_nghost-%COMP%]     .sales-card .ant-tabs-bar{padding-left:16px}[_nghost-%COMP%]     .sales-card .ant-tabs-bar .ant-tabs-nav .ant-tabs-tab{padding-top:16px;padding-bottom:14px;line-height:24px}[_nghost-%COMP%]     .sales-card .ant-tabs-tab{margin-left:24px}[_nghost-%COMP%]     .sales-card .ant-tabs-extra-content{padding-right:24px;line-height:55px}[_nghost-%COMP%]     .sales-card .ant-card-head{position:relative}[_nghost-%COMP%]     .sales-card .ant-card-head-title{align-items:normal}[_nghost-%COMP%]     .offline-card .ant-tabs-ink-bar{bottom:auto}[_nghost-%COMP%]     .offline-card .ant-tabs-bar{border-bottom:none}[_nghost-%COMP%]     .offline-card .ant-tabs-nav-container-scrolling{padding-right:40px;padding-left:40px}[_nghost-%COMP%]     .offline-card .ant-tabs-tab-prev-icon:before{position:relative;left:6px}[_nghost-%COMP%]     .offline-card .ant-tabs-tab-next-icon:before{position:relative;right:6px}[_nghost-%COMP%]     .offline-card .ant-tabs-tab-active h4{color:#1890ff}[_nghost-%COMP%]     .trend-text{margin-left:8px;color:#000000d9}[_nghost-%COMP%]     .ant-table-pagination{margin-bottom:0}[_nghost-%COMP%]     .g2-pie__legend-block, [_nghost-%COMP%]     .g2-pie__chart{margin:0}@media screen and (max-width: 992px){[_nghost-%COMP%]     .sales-extra{display:none}[_nghost-%COMP%]     .rank-list li span:first-child{margin-right:8px}}@media screen and (max-width: 768px){[_nghost-%COMP%]     .rank-title{margin-top:16px}[_nghost-%COMP%]     .sales-card .bar{padding:16px}}@media screen and (max-width: 576px){[_nghost-%COMP%]     .sales-extra-wrap{display:none}[_nghost-%COMP%]     .sales-card .ant-tabs-content{padding-top:30px}}'],changeDetection:0});var yi=tn;var _s=t=>({$implicit:t});function Cs(t,o){t&1&&Rn(0)}function zs(t,o){if(t&1&&_(0,Cs,1,0,"ng-container",1),t&2){let e=m();s("ngTemplateOutlet",e.render)("ngTemplateOutletContext",Ce(2,_s,e.i))}}function xs(t,o){if(t&1&&d(0,"span",0),t&2){let e=m();s("innerHTML",e.i.text,De)}}var ge=function(t){return t[t.ing=0]="ing",t[t.pause=1]="pause",t[t.stop=2]="stop",t[t.done=3]="done",t}(ge||{}),br=(()=>{class t{ngZone=C(It);fns=[];commands=[];nextTime=0;ing=!1;start(){this.ing!==!0&&(this.ing=!0,this.nextTime=+new Date,this.ngZone.runOutsideAngular(()=>{this.process()}))}process(){for(;this.commands.length;)this.commands.shift()();let e=+new Date-this.nextTime,n=1+Math.floor(e/100);e=100-e%100,this.nextTime+=100*n;for(let a=0,c=this.fns.length;a<c;a+=2){let g=this.fns[a+1];if(g===0)this.fns[a](n);else{g+=2*n-1;let h=Math.floor(g/20);h>0&&this.fns[a](h),this.fns[a+1]=g%20+1}}this.ing&&setTimeout(()=>this.process(),e)}add(e,n){return this.commands.push(()=>{this.fns.push(e),this.fns.push(n===1e3?1:0),this.ing=!0}),this}remove(e){return this.commands.push(()=>{let n=this.fns.indexOf(e);n!==-1&&this.fns.splice(n,2),this.ing=this.fns.length>0}),this}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$t({token:t,factory:t.\u0275fac})}return t})(),vs=new An("COUNTDOWN_CONFIG");var Sr=(()=>{class t{locale=C(Wn);timer=C(br);cdr=C(Y);ngZone=C(It);defCog=C(vs,{optional:!0});frequency=1e3;_notify={};status=ge.ing;isDestroy=!1;_config;i={};left=0;set config(e){e.notify!=null&&!Array.isArray(e.notify)&&e.notify>0&&(e.notify=[e.notify]),this._config=e}get config(){return this._config}render;event=new J;begin(){this.status=ge.ing,this.callEvent("start")}restart(){this.status!==ge.stop&&this.destroy(),this.init(),this.callEvent("restart")}stop(){this.status!==ge.stop&&(this.status=ge.stop,this.destroy(),this.callEvent("stop"))}pause(){this.status===ge.stop||this.status===ge.pause||(this.status=ge.pause,this.callEvent("pause"))}resume(){this.status===ge.stop||this.status!==ge.pause||(this.status=ge.ing,this.callEvent("resume"))}callEvent(e){this.event.emit({action:e,left:this.left,status:this.status,text:this.i.text})}init(){let e=this.config=Se(Se({demand:!1,leftTime:0,format:"HH:mm:ss",timezone:"+0000",formatDate:({date:c,formatStr:g,timezone:h})=>Ko(new Date(c),g,this.locale,h||"+0000")},this.defCog),this.config),n=this.frequency=~e.format.indexOf("S")?100:1e3;this.status=e.demand?ge.pause:ge.ing,this.getLeft();let a=this.reflow;this.reflow=(c=0,g=!1)=>a.apply(this,[c,g]),Array.isArray(e.notify)&&e.notify.forEach(c=>{if(c<1)throw new Error("The notify config must be a positive integer.");c=c*1e3,c=c-c%n,this._notify[c]=!0}),this.timer.add(this.reflow,n).start(),this.reflow(0,!0)}destroy(){return this.timer.remove(this.reflow),this}reflow(e=0,n=!1){if(this.isDestroy)return;let{status:a,config:c,_notify:g}=this;if(!n&&a!==ge.ing)return;let h=this.left=this.left-this.frequency*e;h<1&&(h=0),this.i={value:h,text:c.formatDate({date:h,formatStr:c.format,timezone:c.timezone})},typeof c.prettyText=="function"&&(this.i.text=c.prettyText(this.i.text)),this.cdr.detectChanges(),(c.notify===0||g[h])&&this.ngZone.run(()=>{this.callEvent("notify")}),h===0&&this.ngZone.run(()=>{this.status=ge.done,this.destroy(),this.callEvent("done")})}getLeft(){let{config:e,frequency:n}=this,a=e.leftTime*1e3,c=e.stopTime;!a&&c&&(a=c-new Date().getTime()),this.left=a-a%n}ngOnInit(){this.init(),this.config.demand||this.begin()}ngOnDestroy(){this.isDestroy=!0,this.destroy()}ngOnChanges(e){e.config.firstChange||this.restart()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["countdown"]],hostVars:2,hostBindings:function(n,a){n&2&&$("count-down",!0)},inputs:{config:"config",render:"render"},outputs:{event:"event"},features:[Qo([br]),ce],decls:2,vars:1,consts:[[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,a){n&1&&u(0,zs,1,4,"ng-container")(1,xs,1,1,"span",0),n&2&&f(a.render?0:1)},dependencies:[Ut],styles:[`.count-down{font-variant-numeric:tabular-nums}
`],encapsulation:2,changeDetection:0})}return t})(),Tr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=G({type:t});static \u0275inj=R({})}return t})();var ys=["cd"];function bs(t,o){if(t&1){let e=P();r(0,"countdown",2,0),D("event",function(a){T(e);let c=m();return M(c.handleEvent(a))}),l()}if(t&2){let e=m();s("config",e.config)}}var ho=(()=>{class t{instance;config;set target(e){this.config={format:"HH:mm:ss",stopTime:typeof e=="number"?oa(new Date,e).valueOf():+Qn(e,"t")}}event=new J;handleEvent(e){this.event.emit(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["count-down"]],viewQuery:function(n,a){if(n&1&&mt(ys,5),n&2){let c;it(c=ot())&&(a.instance=c.first)}},inputs:{config:"config",target:"target"},outputs:{event:"event"},exportAs:["countDown"],decls:1,vars:1,consts:[["cd",""],[3,"config"],[3,"event","config"]],template:function(n,a){n&1&&u(0,bs,2,1,"countdown",1),n&2&&f(a.config?0:-1)},dependencies:[Sr],encapsulation:2,changeDetection:0})}return t})(),Ss=[ho],Mr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=G({type:t});static \u0275inj=R({imports:[k,Tr,Ss]})}return t})();function Ms(t,o){t&1&&d(0,"nz-skeleton")}var _o=(()=>{class t extends Oe{title;height;color="#2f9cff";bgColor;format;percent;padding=[10,10,30,10];install(){this.winG2.registerShape("point","pointer",{draw(N,O){let b=O.addGroup({}),w=this.parsePoint({x:0,y:0});return b.addShape("line",{attrs:{x1:w.x,y1:w.y,x2:N.x,y2:N.y,stroke:N.color,lineWidth:2.5,lineCap:"round"}}),b.addShape("circle",{attrs:{x:w.x,y:w.y,r:5.75,stroke:N.color,lineWidth:2,fill:"#fff"}}),b}});let{el:e,height:n,padding:a,format:c,theme:g}=this,h=this._chart=new this.winG2.Chart({container:e.nativeElement,autoFit:!0,height:n,padding:a,theme:g});h.legend(!1),h.animate(!1),h.tooltip(!1),h.coordinate("polar",{startAngle:-9/8*Math.PI,endAngle:1/8*Math.PI,radius:.75}),h.scale("value",{min:0,max:100,nice:!0,tickCount:6}),h.axis("1",!1),h.axis("value",{line:null,label:{offset:-14,formatter:c},tickLine:null,grid:null}),h.point().position("value*1").shape("pointer"),this.ready.next(h),this.changeData(),h.render()}changeData(){let{_chart:e,percent:n,color:a,bgColor:c,title:g}=this;if(!e)return;let h=[{name:g,value:n}],N=h[0].value;e.annotation().clear(!0),e.geometries[0].color(a),e.annotation().arc({top:!1,start:[0,.95],end:[100,.95],style:{stroke:c,lineWidth:12,lineDash:null}}),e.annotation().arc({start:[0,.95],end:[h[0].value,.95],style:{stroke:a,lineWidth:12,lineDash:null}}),e.annotation().text({position:["50%","85%"],content:g,style:{fontSize:12,fill:this.theme==="dark"?"rgba(255, 255, 255, 0.43)":"rgba(0, 0, 0, 0.43)",textAlign:"center"}}),e.annotation().text({position:["50%","90%"],content:`${N} %`,style:{fontSize:20,fill:this.theme==="dark"?"rgba(255, 255, 255, 0.85)":"rgba(0, 0, 0, 0.85)",textAlign:"center"},offsetY:15}),e.changeData(h)}static \u0275fac=(()=>{let e;return function(a){return(e||(e=Me(t)))(a||t)}})();static \u0275cmp=x({type:t,selectors:[["g2-gauge"]],hostVars:2,hostBindings:function(n,a){n&2&&$("g2-gauge",!0)},inputs:{title:"title",height:[2,"height","height",W],color:"color",bgColor:"bgColor",format:"format",percent:[2,"percent","percent",W],padding:"padding"},exportAs:["g2Gauge"],features:[_e],decls:1,vars:1,template:function(n,a){n&1&&u(0,Ms,1,0,"nz-skeleton"),n&2&&f(a.loaded?-1:0)},dependencies:[ye],encapsulation:2,changeDetection:0})}return t})(),Ds=[_o],Dr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=G({type:t});static \u0275inj=R({imports:[k,be,Ds]})}return t})();function Ns(t,o){t&1&&d(0,"nz-skeleton")}var Co=(()=>{class t extends Oe{width=0;height=200;padding=0;data=[];clickItem=new J;initTagCloud(){let e=this.winG2;e.registerShape("point","cloud",{draw(n,a){let c=n.data,g=a.addShape({type:"text",name:"tag-cloud-text",attrs:wo(Se({},n.style),{fontSize:c.size,text:c.text,textAlign:"center",fontFamily:c.font,fill:n.color,textBaseline:"Alphabetic",x:n.x,y:n.y})});return c.rotate&&e.Util.rotate(g,c.rotate*Math.PI/180),g}})}install(){this.initTagCloud();let{el:e,padding:n,theme:a}=this;this.height===0&&(this.height=this.el.nativeElement.clientHeight),this.width===0&&(this.width=this.el.nativeElement.clientWidth);let c=this._chart=new this.winG2.Chart({container:e.nativeElement,autoFit:!1,padding:n,height:this.height,width:this.width,theme:a});c.scale({x:{nice:!1},y:{nice:!1}}),c.legend(!1),c.axis(!1),c.tooltip({showTitle:!1,showMarkers:!1}),c.coordinate().reflect(),c.point().position("x*y").color("text").shape("cloud").state({active:{style:{fillOpacity:.4}}}),c.interaction("element-active"),c.on("tag-cloud-text:click",g=>{this.ngZone.run(()=>this.clickItem.emit({item:g.data?.data,ev:g}))}),this.ready.next(c),this.changeData(),c.render()}changeData(){let{_chart:e,data:n}=this;if(!e||!Array.isArray(n)||n.length<=0)return;let a=new window.DataSet.View().source(n),c=a.range("value"),g=c[0],h=c[1];a.transform({type:"tag-cloud",fields:["name","value"],font:"Verdana",size:[this.width,this.height],padding:0,timeInterval:5e3,rotate(){let N=~~(Math.random()*4)%4;return N===2&&(N=0),N*90},fontSize(N){return(N.value-g)/(h-g)*24+8}}),e.changeData(a.rows)}installResizeEvent(){this.resize$=Gt(window,"resize").pipe(On(()=>!!this._chart),Wt(200)).subscribe(()=>this.changeData())}onInit(){this.installResizeEvent()}static \u0275fac=(()=>{let e;return function(a){return(e||(e=Me(t)))(a||t)}})();static \u0275cmp=x({type:t,selectors:[["g2-tag-cloud"]],inputs:{width:[2,"width","width",W],height:[2,"height","height",W],padding:"padding",data:"data"},outputs:{clickItem:"clickItem"},exportAs:["g2TagCloud"],features:[_e],decls:1,vars:1,template:function(n,a){n&1&&u(0,Ns,1,0,"nz-skeleton"),n&2&&f(a.loaded?-1:0)},dependencies:[ye],encapsulation:2,changeDetection:0})}return t})(),ws=[Co],Er=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=G({type:t});static \u0275inj=R({imports:[k,be,ws]})}return t})();var Fs=["container"],Ps=(t,o)=>({height:t,width:o,overflow:"hidden"}),Bs=t=>({width:t});function Os(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m(2);i(),v(e.title)}}function Is(t,o){if(t&1&&(r(0,"span",3),_(1,Os,2,1,"ng-container",5),l()),t&2){let e=m();i(),s("nzStringTemplateOutlet",e.title)}}var Nr=(()=>{class t{el=C(jt).nativeElement;renderer=C(Ln);ngZone=C(It);cdr=C(Y);platform=C(dt);resize$=null;node;timer;animate=!0;delay=0;title;color="#1890FF";height=160;percent;renderChart(e){if(!this.resize$)return;this.updateRadio();let{percent:n,color:a,node:c,animate:g}=this,h=Math.min(Math.max(n/100,0),100),N=this;cancelAnimationFrame(this.timer);let O=c.nativeElement,b=O.getContext("2d"),w=O.width,H=O.height,ne=w/2,F=2,z=ne-F;b.beginPath(),b.lineWidth=F*2;let V=w-F,j=V/8,Z=F,Bt=0,Te=.2,he=Te,Ot=0,Rt=g?.005:.015,Ae=[],at=ne-F,So=-(Math.PI/2),To=!0;for(let ie=So;ie<So+2*Math.PI;ie+=1/(8*Math.PI))Ae.push([ne+at*Math.cos(ie),ne+at*Math.sin(ie)]);let Pn=Ae.shift();b.strokeStyle=a,b.moveTo(Pn[0],Pn[1]);function jr(){b.beginPath(),b.save();let ie=[];for(let Bn=Z;Bn<=Z+V;Bn+=20/V){let Hr=Bt+(Z+Bn)/j,Qr=Math.sin(Hr)*he,Eo=Bn,No=2*z*(1-Ot)+(ne-z)-j*Qr;b.lineTo(Eo,No),ie.push([Eo,No])}let Do=ie.shift();b.lineTo(Z+V,H),b.lineTo(Z,H),b.lineTo(Do[0],Do[1]);let $i=b.createLinearGradient(0,0,0,H);$i.addColorStop(0,"#ffffff"),$i.addColorStop(1,a),b.fillStyle=$i,b.fill(),b.restore()}function Mo(){if(b.clearRect(0,0,w,H),To&&!e)if(Ae.length)if(g){let ie=Ae.shift();b.lineTo(ie[0],ie[1]),b.stroke()}else{for(let ie of Ae)b.lineTo(ie[0],ie[1]),b.stroke();Ae=[]}else To=!1,b.lineTo(Pn[0],Pn[1]),b.stroke(),Ae=null,b.globalCompositeOperation="destination-over",b.beginPath(),b.lineWidth=F,b.arc(ne,ne,at,0,2*Math.PI,!0),b.beginPath(),b.save(),b.arc(ne,ne,ne-3*F,0,2*Math.PI,!0),b.restore(),b.clip(),b.fillStyle=a;else{if(h>=.85){if(he>Te/4){let ie=Te*.01;he-=ie}}else if(h<=.1){if(he<Te*1.5){let ie=Te*.01;he+=ie}}else{if(he<=Te){let ie=Te*.01;he+=ie}if(he>=Te){let ie=Te*.01;he-=ie}}h-Ot>0&&(Ot+=Rt),h-Ot<0&&(Ot-=Rt),Bt+=.07,jr()}N.timer=requestAnimationFrame(Mo)}Mo()}updateRadio(){let{offsetWidth:e}=this.el.parentNode,n=e<this.height?e/this.height:1;this.renderer.setStyle(this.el,"transform",`scale(${n})`)}render(){this.renderChart(!1)}installResizeEvent(){this.resize$=Gt(window,"resize").pipe(Wt(200)).subscribe(()=>this.updateRadio())}ngOnInit(){this.platform.isBrowser&&(this.installResizeEvent(),this.ngZone.runOutsideAngular(()=>setTimeout(()=>this.render(),this.delay)))}ngOnChanges(){this.ngZone.runOutsideAngular(()=>this.renderChart(!0)),this.cdr.detectChanges()}ngOnDestroy(){this.timer&&cancelAnimationFrame(this.timer),this.resize$&&this.resize$.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["g2-water-wave"]],viewQuery:function(n,a){if(n&1&&mt(Fs,7),n&2){let c;it(c=ot())&&(a.node=c.first)}},hostVars:2,hostBindings:function(n,a){n&2&&$("g2-water-wave",!0)},inputs:{animate:[2,"animate","animate",X],delay:[2,"delay","delay",W],title:"title",color:"color",height:[2,"height","height",W],percent:[2,"percent","percent",W]},exportAs:["g2WaterWave"],features:[ce],decls:7,vars:13,consts:[["container",""],[1,"g2-water-wave__canvas"],[1,"g2-water-wave__desc"],[1,"g2-water-wave__desc-title"],[1,"g2-water-wave__desc-percent"],[4,"nzStringTemplateOutlet"]],template:function(n,a){n&1&&(r(0,"div"),d(1,"canvas",1,0),l(),r(3,"div",2),u(4,Is,2,1,"span",3),r(5,"h4",4),p(6),l()()),n&2&&(me(Gn(8,Ps,a.height+"px",a.height+"px")),i(),At("width",a.height*2)("height",a.height*2),i(2),me(Ce(11,Bs,a.height+"px")),i(),f(a.title?4:-1),i(2),S("",a.percent,"%"))},dependencies:[ee],encapsulation:2,changeDetection:0})}return t})();var wr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=G({type:t});static \u0275inj=R({imports:[k,te]})}return t})();var Vs=()=>({"text-align":"center"});function Ls(t,o){if(t&1&&d(0,"count-down",28),t&2){let e=m();s("config",e.cd)}}function Rs(t,o){if(t&1&&(r(0,"div",12),d(1,"number-info",29)(2,"g2-mini-area",30),r(3,"div",31)(4,"p"),p(5),l(),r(6,"p"),p(7),l()(),r(8,"div",32)(9,"span"),p(10,"00:00"),l(),r(11,"span"),p(12),l(),r(13,"span"),p(14),l()()()),t&2){let e=m();i(2),s("animate",!1)("borderWidth",2)("height",84)("padding",0)("data",e.activeData),i(3),S("",e.activeStat.max," \u4EBF\u5143"),i(2),S("",e.activeStat.min," \u4EBF\u5143"),i(5),v(e.activeStat.t1),i(2),v(e.activeStat.t2)}}function Gs(t,o){if(t&1&&(d(0,"g2-gauge",14),y(1,"i18n")),t&2){let e=m();s("title",E(1,4,"app.monitor.ratio"))("height",180)("percent",e.percent)("format",e.couponFormat)}}var ln=class ln{constructor(){this.http=C(ht);this.cdr=C(Y);this.data={};this.tags=[];this.loading=!0;this.q={start:null,end:null};this.percent=null;this.cd={format:"HH:mm:ss.S",leftTime:1e4};this.activeStat={max:0,min:0,t1:"",t2:""}}ngOnInit(){In(this.http.get("/chart"),this.http.get("/chart/tags")).subscribe(([o,e])=>{this.data=o,e.list[Math.floor(Math.random()*e.list.length)+1].value=1e3,this.tags=e.list,this.loading=!1,this.cdr.detectChanges()}),this.refData(),this.activeTime$=setInterval(()=>this.refData(),1e3*2)}refData(){let o=[];for(let e=0;e<24;e+=1)o.push({x:`${e.toString().padStart(2,"0")}:00`,y:e*50+Math.floor(Math.random()*200)});this.activeData=o,this.activeStat.max=[...o].sort()[o.length-1].y+200,this.activeStat.min=[...o].sort()[Math.floor(o.length/2)].y,this.activeStat.t1=o[Math.floor(o.length/2)].x,this.activeStat.t2=o[o.length-1].x,this.percent=Math.floor(Math.random()*100),this.cdr.detectChanges()}couponFormat(o){switch(parseInt(o,10)){case 20:return"\u5DEE";case 40:return"\u4E2D";case 60:return"\u826F";case 80:return"\u4F18";default:return""}}ngOnDestroy(){this.activeTime$&&clearInterval(this.activeTime$)}};ln.\u0275fac=function(e){return new(e||ln)},ln.\u0275cmp=x({type:ln,selectors:[["app-dashboard-monitor"]],decls:53,vars:80,consts:[["lastTotalTime",""],["nz-row","",1,"pt-lg",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","18"],[1,"mb-lg",3,"nzTitle","nzBordered"],["nz-row",""],["nz-col","","nzXs","24","nzSm","12","nzMd","6"],["suffix","\u5143",3,"subTitle","total"],[3,"subTitle","total"],["total","234","suffix","\u5143",3,"subTitle"],[1,"map-chart"],["nz-tooltip","","nzTooltipPlacement","top","src","https://gw.alipayobjects.com/zos/rmsportal/HBWnDEUXCnGnGrRfrpKa.png","alt","map",3,"nzTooltipTitle"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","6"],[1,"active-chart"],[1,"mb-lg",3,"nzTitle","nzBordered","nzBodyStyle"],[3,"title","height","percent","format"],["nz-row","",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","12",1,"mb-lg"],[1,"pie-card",3,"nzTitle","nzBordered"],["nz-row","",2,"padding","16px 0",3,"nzGutter"],["nz-col","",3,"nzSpan"],["total","28%",3,"animate","percent","subTitle","height","lineWidth"],["color","#5DDECF","total","22%",3,"animate","percent","subTitle","height","lineWidth"],["color","#2FC25B","total","32%",3,"animate","percent","subTitle","height","lineWidth"],["nz-col","","nzXs","24","nzSm","24","nzLg","6",1,"mb-lg"],[3,"nzTitle","nzBordered"],[3,"data","height"],[1,"text-center"],[3,"title","percent","height"],[3,"config"],["subTitle","\u76EE\u6807\u8BC4\u4F30","total","\u6709\u671B\u8FBE\u5230\u9884\u671F"],["line","",3,"animate","borderWidth","height","padding","data"],[1,"active-grid"],[1,"active-legend"]],template:function(e,n){if(e&1&&(r(0,"div",1)(1,"div",2)(2,"nz-card",3),y(3,"i18n"),r(4,"div",4)(5,"div",5),d(6,"number-info",6),y(7,"i18n"),l(),r(8,"div",5),d(9,"number-info",7),y(10,"i18n"),l(),r(11,"div",5)(12,"number-info",7),y(13,"i18n"),_(14,Ls,1,1,"ng-template",null,0,L),l()(),r(16,"div",5),d(17,"number-info",8),y(18,"i18n"),l()(),r(19,"div",9),d(20,"img",10),y(21,"i18n"),l()()(),r(22,"div",11)(23,"nz-card",3),y(24,"i18n"),u(25,Rs,15,9,"div",12),l(),r(26,"nz-card",13),y(27,"i18n"),u(28,Gs,2,6,"g2-gauge",14),l()()(),r(29,"div",15)(30,"div",16)(31,"nz-card",17),y(32,"i18n"),r(33,"div",18)(34,"div",19),d(35,"g2-pie",20),y(36,"i18n"),l(),r(37,"div",19),d(38,"g2-pie",21),y(39,"i18n"),l(),r(40,"div",19),d(41,"g2-pie",22),y(42,"i18n"),l()()()(),r(43,"div",23)(44,"nz-card",24),y(45,"i18n"),d(46,"g2-tag-cloud",25),l()(),r(47,"div",23)(48,"nz-card",24),y(49,"i18n"),r(50,"div",26),d(51,"g2-water-wave",27),y(52,"i18n"),l()()()()),e&2){let a=B(15);s("nzGutter",24),i(2),s("nzTitle",E(3,49,"app.monitor.trading-activity"))("nzBordered",!1),i(4),s("subTitle",E(7,51,"app.monitor.total-transactions"))("total","124,543,233"),i(3),s("subTitle",E(10,53,"app.monitor.sales-target"))("total","92%"),i(3),s("subTitle",E(13,55,"app.monitor.remaining-time"))("total",a),i(5),s("subTitle",E(18,57,"app.monitor.total-transactions-per-second")),i(3),s("nzTooltipTitle",E(21,59,"app.monitor.waiting-for-implementation")),i(3),s("nzTitle",E(24,61,"app.monitor.activity-forecast"))("nzBordered",!1),i(2),f(n.activeData?25:-1),i(),s("nzTitle",E(27,63,"app.monitor.efficiency"))("nzBordered",!1)("nzBodyStyle",K(79,Vs)),i(2),f(n.percent?28:-1),i(),s("nzGutter",24),i(2),s("nzTitle",E(32,65,"app.monitor.proportion-per-category"))("nzBordered",!1),i(2),s("nzGutter",4),i(),s("nzSpan",8),i(),s("animate",!1)("percent",28)("subTitle",E(36,67,"app.monitor.fast-food"))("height",128)("lineWidth",2),i(2),s("nzSpan",8),i(),s("animate",!1)("percent",22)("subTitle",E(39,69,"app.monitor.western-food"))("height",128)("lineWidth",2),i(2),s("nzSpan",8),i(),s("animate",!1)("percent",32)("subTitle",E(42,71,"app.monitor.hot-pot"))("height",128)("lineWidth",2),i(3),s("nzTitle",E(45,73,"app.monitor.popular-searches"))("nzBordered",!1),i(2),s("data",n.tags)("height",165),i(2),s("nzTitle",E(49,75,"app.monitor.resource-surplus"))("nzBordered",!1),i(3),s("title",E(52,77,"app.monitor.fund-surplus"))("percent",34)("height",165)}},dependencies:[We,we,Mt,St,kt,wt,Nt,de,xt,Ze,Be,Pe,$e,je,zt,Je,Qe,oe,_t,Ft,ft,Ue,gt,Dt,Fe,bt,yt,vt,ke,Et,Ye,Tt,Ct,Xe,Ke,qe,fe,ue,ve,Pt,He,xe,wr,Nr,Er,Co,xi,Mn,Dr,_o,fi,ui,zi,Ci,Mr,ho,qn],styles:["[_nghost-%COMP%]     .map-chart{height:457px;padding-top:24px;text-align:center}[_nghost-%COMP%]     .map-chart img{display:inline-block;max-width:100%;max-height:437px}[_nghost-%COMP%]     .pie-card .pie-stat{font-size:24px!important}[_nghost-%COMP%]     .active-chart{position:relative}[_nghost-%COMP%]     .active-chart g2-mini-area{margin-top:32px}[_nghost-%COMP%]     .active-chart .active-grid p{position:absolute;top:80px;width:100%;padding-bottom:4px;border-bottom:1px dashed #e9e9e9}[_nghost-%COMP%]     .active-chart .active-grid p:last-child{top:115px}[_nghost-%COMP%]     .active-chart .active-legend{position:relative;height:20px;margin-top:8px;font-size:0;line-height:20px}[_nghost-%COMP%]     .active-chart .active-legend span{display:inline-block;width:33.33%;font-size:12px;text-align:center}[_nghost-%COMP%]     .active-chart .active-legend span:first-child{text-align:left}[_nghost-%COMP%]     .active-chart .active-legend span:last-child{text-align:right}@media screen and (max-width: 992px){[_nghost-%COMP%]     .map-chart{height:auto}}"],changeDetection:0});var Pi=ln;var Ws=["popover"],$s=(t,o)=>({"max-width.px":t,direction:o});function js(t,o){if(t&1){let e=P();r(0,"div",3),D("click",function(){T(e);let a=m();return M(a.handleMask())}),l()}}function Hs(t,o){if(t&1&&(I(0),d(1,"div",13),A()),t&2){let e=m(3);i(),s("innerHTML",e.item.content,De)}}function Qs(t,o){if(t&1&&p(0),t&2){let e=m(3);Ho(" ",e.active+1,"/",e.max," ")}}function qs(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m(4);i(),v(e.item.skip)}}function Us(t,o){if(t&1){let e=P();r(0,"a",14),D("click",function(){T(e);let a=m(3);return M(a.to("skip"))}),_(1,qs,2,1,"ng-container",5),l()}if(t&2){let e=m(3);i(),s("nzStringTemplateOutlet",e.item.skip)}}function Zs(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m(4);i(),v(e.item.prev)}}function Xs(t,o){if(t&1){let e=P();r(0,"a",15),D("click",function(){T(e);let a=m(3);return M(a.to("prev"))}),_(1,Zs,2,1,"ng-container",5),l()}if(t&2){let e=m(3);i(),s("nzStringTemplateOutlet",e.item.prev)}}function Ks(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m(4);i(),v(e.item.next)}}function Ys(t,o){if(t&1){let e=P();r(0,"a",16),D("click",function(){T(e);let a=m(3);return M(a.to("next"))}),_(1,Ks,2,1,"ng-container",5),l()}if(t&2){let e=m(3);i(),s("nzStringTemplateOutlet",e.item.next)}}function Js(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m(4);i(),v(e.item.done)}}function ep(t,o){if(t&1){let e=P();r(0,"a",17),D("click",function(){T(e);let a=m(3);return M(a.to("done"))}),_(1,Js,2,1,"ng-container",5),l()}if(t&2){let e=m(3);i(),s("nzStringTemplateOutlet",e.item.done)}}function tp(t,o){if(t&1&&(_(0,Hs,2,1,"ng-container",5),r(1,"div",6)(2,"span",7),u(3,Qs,1,2),l(),r(4,"div",8),u(5,Us,2,1,"a",9),u(6,Xs,2,1,"a",10),u(7,Ys,2,1,"a",11),u(8,ep,2,1,"a",12),l()()),t&2){let e=m(2);s("nzStringTemplateOutlet",e.item.content),i(3),f(e.config.showTotal?3:-1),i(2),f(!e.last&&e.item.skip!==null&&e.item.skip!==void 0?5:-1),i(),f(!e.first&&e.item.prev!==null?6:-1),i(),f(!e.last&&e.item.next!==null&&e.item.next!==void 0?7:-1),i(),f(e.last&&e.item.done!==null&&e.item.done!==void 0?8:-1)}}function np(t,o){if(t&1&&(d(0,"div",4,0),_(2,tp,9,6,"ng-template",null,1,L)),t&2){let e=B(3),n=m();$("onboarding__light-hide",n.running),s("nzPopoverTitle",n.item.title)("nzPopoverContent",e)("nzPopoverVisible",!n.running)("nzPopoverTrigger",null)("nzPopoverPlacement",n.item.position)("nzPopoverOverlayClassName",n.item.className)("nzPopoverOverlayStyle",Gn(11,$s,n.item.width,n.dir))("nzNoAnimation",!0),At("style",n.item.lightStyle,Ao)}}var kr=(()=>{class t{el=C(jt).nativeElement;platform=C(dt);cdr=C(Y);doc=C(yn);time;prevSelectorEl;config;item;active=0;max=0;op=new J;running=!1;dir="ltr";popover;get first(){return this.active===0}get last(){return this.active===this.max-1}_getDoc(){return this.doc}_getWin(){return this._getDoc().defaultView||window}getLightData(){let e=this._getDoc(),n=this._getWin(),a=e.querySelector(this.item.selectors);if(!a)return null;let c=n.scrollY||e.documentElement.scrollTop||e.body.scrollTop,g=n.scrollX||e.documentElement.scrollLeft||e.body.scrollLeft,h=a.getBoundingClientRect(),N=h.top+c,O=h.left+g,b=8,w=N>b&&O>b,H=w?b:0,ne=w?b*2:0;return{top:N-H,left:O-H,width:h.width+ne,height:h.height+ne,el:a,clientWidth:e.body.clientWidth,clientHeight:e.body.clientHeight}}ngAfterViewInit(){this.popover.component.onClickOutside=()=>{}}scroll(e){this.prevSelectorEl=e.el;let n=e.top-(e.clientHeight-e.height)/2;this._getWin().scrollTo({top:n}),this.updatePrevElStatus(!0)}updateRunning(e){this.running=e,this.cdr.detectChanges(),e||this.updatePosition()}updatePosition(){if(!this.platform.isBrowser)return;let e=this.getLightData();if(e==null)return;let n=this.el.querySelector(".onboarding__light").style;n.top=`${e.top}px`,n.left=`${e.left}px`,n.width=`${e.width}px`,n.height=`${e.height}px`,this.updatePrevElStatus(!1),this.scroll(e)}updatePrevElStatus(e){this.prevSelectorEl&&this.prevSelectorEl.classList[e?"add":"remove"]("onboarding__light-el")}to(e){this.op.emit(e)}handleMask(){this.config.maskClosable===!0&&(this.popover.component.hide(),this.to("done"))}ngOnDestroy(){clearTimeout(this.time),this.updatePrevElStatus(!1)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["onboarding"]],viewQuery:function(n,a){if(n&1&&mt(Ws,5),n&2){let c;it(c=ot())&&(a.popover=c.first)}},hostVars:5,hostBindings:function(n,a){n&2&&(At("data-onboarding-active",a.active),$("onboarding",!0)("onboarding-rtl",a.dir==="rtl"))},decls:2,vars:2,consts:[["popover","nzPopover"],["content",""],[1,"onboarding__mask"],[1,"onboarding__mask",3,"click"],["nz-popover","",1,"onboarding__light",3,"nzPopoverTitle","nzPopoverContent","nzPopoverVisible","nzPopoverTrigger","nzPopoverPlacement","nzPopoverOverlayClassName","nzPopoverOverlayStyle","nzNoAnimation"],[4,"nzStringTemplateOutlet"],[1,"flex-center-between","onboarding__footer"],[1,"onboarding__total"],[1,"onboarding__btns"],["nz-button","","nzType","link","nzSize","small","data-btnType","skip"],["nz-button","","nzSize","small","data-btnType","prev"],["nz-button","","nzType","primary","nzSize","small","data-btnType","next"],["nz-button","","nzType","primary","nzSize","small","data-btnType","done"],[3,"innerHTML"],["nz-button","","nzType","link","nzSize","small","data-btnType","skip",3,"click"],["nz-button","","nzSize","small","data-btnType","prev",3,"click"],["nz-button","","nzType","primary","nzSize","small","data-btnType","next",3,"click"],["nz-button","","nzType","primary","nzSize","small","data-btnType","done",3,"click"]],template:function(n,a){n&1&&(u(0,js,1,0,"div",2),u(1,np,4,14)),n&2&&(f(!a.running&&a.config.mask?0:-1),i(),f(a.item?1:-1))},dependencies:[or,ee,Ge,ra],encapsulation:2,changeDetection:0})}return t})(),ip=new An("ONBOARDING_STORE_TOKEN",{providedIn:"root",factory:op});function op(){return new zo}var zo=class{get(o){return localStorage.getItem(o)}set(o,e){localStorage.setItem(o,`${e}`)}},Fr=(()=>{class t{appRef=C(Wo);router=C(jn);doc=C(yn);configSrv=C(ea);keyStoreSrv=C(ip);directionality=C(Zt);compRef;op$;config;active=0;running$=null;_running=!1;type=null;locale=C(Un).valueSignal("onboarding");_getDoc(){return this.doc}get running(){return this._running}attach(){let e=Uo(kr,{environmentInjector:this.appRef.injector});this.compRef=e,this.appRef.attachView(e.hostView);let n=e.hostView.rootNodes[0],a=this._getDoc(),c=a.querySelector(".cdk-overlay-container");c?a.body.insertBefore(n,c):a.body.appendChild(n),this.op$=this.compRef.instance.op.subscribe(g=>{switch(g){case"next":this.next();break;case"prev":this.prev();break;default:this.done();break}})}cancelRunning(){return this.running$&&(this.running$.unsubscribe(),this.running$=null),this}updateRunning(e){return this._running=e,this.compRef.instance.updateRunning(e),this}destroy(){let e=this.config?.key;e!=null&&this.keyStoreSrv.set(e,this.config?.keyVersion),this.cancelRunning(),this.compRef&&(this.appRef.detachView(this.compRef.hostView),this.compRef.destroy(),this.op$.unsubscribe())}showItem(e=!1){let n=this.config.items,a=Se(Se({position:"bottomLeft",before:tt(!0),after:tt(!0)},this.locale()),n[this.active]),c=this.configSrv.get("onboarding").direction||this.directionality.value;Object.assign(this.compRef.instance,{item:a,config:this.config,active:this.active,max:n.length,dir:c});let g=[Ve(()=>a.url?this.router.navigateByUrl(a.url):tt(!0)),Ve(()=>{let h=this.type==="prev"?a.after:a.before;return typeof h=="number"?tt(!0).pipe(Qi(h)):h})];e||g.push(Qi(1)),this.updateRunning(!0),this.running$=tt(!0).pipe(ko.apply(this,g)).subscribe({next:()=>this.cancelRunning().updateRunning(!1),error:()=>this.done()})}start(e){let n=Se({keyVersion:"",items:[],mask:!0,maskClosable:!0,showTotal:!1},e),a=n?.key;a!=null&&this.keyStoreSrv.get(a)===n.keyVersion||this.running||(this.destroy(),this.config=n,this.active=0,this.type=null,this.attach(),this.showItem(!0))}next(){if(this._running||this.active+1>=this.config.items.length){this.done();return}this.type="next",++this.active,this.showItem()}prev(){this._running||this.active-1<0||(this.type="prev",--this.active,this.showItem())}done(){this.type="done",this.destroy()}ngOnDestroy(){this.destroy()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ap=[kr],Pr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=G({type:t});static \u0275inj=R({imports:[k,Zn,Je,te,de,la,ap]})}return t})();var rp=["*"];function lp(t,o){if(t&1&&(I(0),d(1,"nz-icon",4),A()),t&2){let e=m();i(),s("nzType",e.icon)}}var Br=(()=>{class t{cdr=C(Y);el=C(jt).nativeElement;render=C(Ln);ctrlStyle={};icon="question-circle";top=120;width=200;bgColor;borderColor;expand=!1;expandChange=new J;show=!1;initFlag=!1;_click(){this.show=!this.show,this.expandChange.emit(this.show),this.setStyle()}setStyle(){this.ctrlStyle={"background-color":this.bgColor,"border-color":this.borderColor};let e=[`top:${this.top}px`,`width:${this.width}px`,`margin-right:-${this.show?0:this.width}px`];this.bgColor&&e.push(`background-color:${this.bgColor}`),this.borderColor&&e.push(`border-color:${this.borderColor}`),this.render.setAttribute(this.el,"style",e.join(";")),this.cdr.detectChanges()}ngOnInit(){this.initFlag=!0,this.setStyle()}ngOnChanges(){this.show=this.expand,this.initFlag&&this.setStyle()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["quick-menu"]],hostVars:2,hostBindings:function(n,a){n&1&&D("click",function(){return a._click()}),n&2&&$("quick-menu",!0)},inputs:{icon:"icon",top:[2,"top","top",W],width:[2,"width","width",W],bgColor:"bgColor",borderColor:"borderColor",expand:[2,"expand","expand",X]},outputs:{expandChange:"expandChange"},exportAs:["quickMenu"],features:[ce],ngContentSelectors:rp,decls:5,vars:3,consts:[[1,"quick-menu__inner"],[1,"quick-menu__ctrl"],[1,"quick-menu__ctrl-icon"],[4,"nzStringTemplateOutlet"],[3,"nzType"]],template:function(n,a){n&1&&(pt(),r(0,"div",0)(1,"div",1)(2,"div",2),_(3,lp,2,1,"ng-container",3),l()(),ct(4),l()),n&2&&(i(),me(a.ctrlStyle),i(2),s("nzStringTemplateOutlet",a.icon))},dependencies:[se,ee],encapsulation:2,changeDetection:0})}return t})();var Or=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=G({type:t});static \u0275inj=R({imports:[k,oe,te]})}return t})();var Oi=()=>[5,30],cp=()=>({y1:"\u5BA2\u6D41\u91CF",y2:"\u652F\u4ED8\u7B14\u6570"});function mp(t,o){if(t&1){let e=P();r(0,"g2-mini-bar",36),D("ready",function(a){T(e);let c=m();return M(c.fixDark(a))}),l()}if(t&2){let e=m();s("padding",K(2,Oi))("data",e.webSite)}}function dp(t,o){if(t&1){let e=P();r(0,"g2-mini-bar",36),D("ready",function(a){T(e);let c=m();return M(c.fixDark(a))}),l()}if(t&2){let e=m();s("padding",K(2,Oi))("data",e.webSite)}}function up(t,o){if(t&1){let e=P();r(0,"g2-mini-bar",36),D("ready",function(a){T(e);let c=m();return M(c.fixDark(a))}),l()}if(t&2){let e=m();s("padding",K(2,Oi))("data",e.webSite)}}function fp(t,o){if(t&1){let e=P();r(0,"g2-mini-bar",36),D("ready",function(a){T(e);let c=m();return M(c.fixDark(a))}),l()}if(t&2){let e=m();s("padding",K(2,Oi))("data",e.webSite)}}function gp(t,o){t&1&&(p(0," Sales Statistics "),r(1,"small",37),p(2,"Business Expectations & Retail Sales Statistics"),l())}function hp(t,o){if(t&1&&d(0,"g2-bar",25),t&2){let e=m();s("data",e.salesData)}}function _p(t,o){t&1&&(p(0," Growth Rate "),r(1,"small",37),p(2,"Business Expectations & Retail Sales Statistics"),l())}function Cp(t,o){if(t&1&&d(0,"g2-timeline",27),t&2){let e=m();s("data",e.offlineChartData)("height",289)("titleMap",K(3,cp))}}function zp(t,o){t&1&&d(0,"img",38)}function xp(t,o){t&1&&(p(0," Recent Posts "),r(1,"small",37),p(2,"Venenatis portauam Inceptos ameteiam"),l())}function vp(t,o){if(t&1&&(r(0,"div",34)(1,"div",39),d(2,"nz-avatar",40),l(),r(3,"div",41)(4,"strong"),p(5),l(),r(6,"p",42),p(7),l()()()),t&2){let e=o.$implicit;s("nzJustify","center")("nzAlign","middle"),i(),s("nzSpan",4),i(),s("nzSrc","./assets/tmp/img/"+e.avatar+".png"),i(),s("nzSpan",20),i(2),v(e.name),i(2),v(e.content)}}function yp(t,o){if(t&1){let e=P();r(0,"li",47),D("click",function(){T(e);let a=m().$implicit;return M(a.completed=!1)}),p(1,"Active"),l()}}function bp(t,o){if(t&1){let e=P();r(0,"li",47),D("click",function(){T(e);let a=m().$implicit;return M(a.completed=!0)}),p(1,"Completed"),l()}}function Sp(t,o){if(t&1){let e=P();r(0,"div",34)(1,"div",39),d(2,"nz-avatar",40),l(),r(3,"div",41)(4,"strong"),p(5),l(),r(6,"p",42),p(7),l()(),r(8,"div",43),d(9,"i",44),r(10,"nz-dropdown-menu",null,4)(12,"ul",45),u(13,yp,2,0,"li",46)(14,bp,2,0,"li",46),r(15,"li",47),D("click",function(){let a=T(e).$implicit,c=m();return M(c.todoData.splice(c.todoData.indexOf(a),1))}),p(16,"Delted"),l()()()()()}if(t&2){let e=o.$implicit,n=B(11);s("nzJustify","center")("nzAlign","middle"),i(),s("nzSpan",4),i(),s("nzSrc","./assets/tmp/img/"+e.avatar+".png"),i(),s("nzSpan",18),i(2),v(e.name),i(),$("text-deleted",e.completed),i(),v(e.content),i(),s("nzSpan",2),i(),s("nzDropdownMenu",n),i(4),f(e.completed?13:14)}}var sn=class sn{constructor(){this.http=C(ht);this.cdr=C(Y);this.obSrv=C(Fr);this.platform=C(dt);this.doc=C(yn);this.todoData=[{completed:!0,avatar:"1",name:"\u82CF\u5148\u751F",content:"\u8BF7\u544A\u8BC9\u6211\uFF0C\u6211\u5E94\u8BE5\u8BF4\u70B9\u4EC0\u4E48\u597D\uFF1F"},{completed:!1,avatar:"2",name:"\u306F\u306A\u3055\u304D",content:"\u30CF\u30EB\u30AB\u30BD\u30E9\u30C8\u30AD\u30D8\u30C0\u30C4\u30D2\u30AB\u30EA"},{completed:!1,avatar:"3",name:"cipchk",content:"this world was never meant for one as beautiful as you."},{completed:!1,avatar:"4",name:"Kent",content:"my heart is beating with hers"},{completed:!1,avatar:"5",name:"Are you",content:"They always said that I love beautiful girl than my friends"},{completed:!1,avatar:"6",name:"Forever",content:"Walking through green fields \uFF0Csunshine in my eyes."}];Po(1e3).pipe(Vt()).subscribe(()=>this.genOnboarding())}fixDark(o){!this.platform.isBrowser||this.doc.body.getAttribute("data-theme")!=="dark"||o.theme({styleSheet:{backgroundColor:"transparent"}})}ngOnInit(){this.http.get("/chart").subscribe(o=>{this.webSite=o.visitData.slice(0,10),this.salesData=o.salesData,this.offlineChartData=o.offlineChartData,this.cdr.detectChanges()})}genOnboarding(){let o="on-boarding";!this.platform.isBrowser||localStorage.getItem(o)==="1"||this.http.get("./assets/tmp/on-boarding.json").subscribe(e=>{this.obSrv.start(e),localStorage.setItem(o,"1")})}};sn.\u0275fac=function(e){return new(e||sn)},sn.\u0275cmp=x({type:sn,selectors:[["app-dashboard-v1"]],decls:99,vars:17,consts:[["salesTitle",""],["growthTitle",""],["coverTpl",""],["recentTitle",""],["todoMenus","nzDropdownMenu"],[1,"alain-default__content-title"],[3,"nzBordered","nzSplit"],["routerLink","/"],["routerLink","/widgets"],["routerLink","/style/typography"],["routerLink","/style/gridmasonry"],["routerLink","/pro/result/success"],["nz-row","","nzGutter","16"],["nz-col","","nzXs","24","nzSm","12","nzMd","6",1,"mb-md"],["nz-row","","nzType","flex","nzAlign","middle",1,"bg-primary","rounded-md"],["nz-col","","nzSpan","12",1,"p-md","text-white"],[1,"h2","mt0"],[1,"text-nowrap","mb0"],["nz-col","","nzSpan","12"],["height","35","color","#fff","borderWidth","3","tooltipType","mini",3,"padding","data"],["nz-row","","nzType","flex","nzAlign","middle",1,"bg-success","rounded-md"],["nz-row","","nzType","flex","nzAlign","middle",1,"bg-orange","rounded-md"],["nz-row","","nzType","flex","nzAlign","middle",1,"bg-magenta","rounded-md"],["nz-col","","nzXs","24","nzMd","12"],[3,"nzBordered","nzTitle"],["height","275",3,"data"],[3,"nzTitle","nzBordered"],[3,"data","height","titleMap"],[3,"nzBordered","nzCover"],[1,"text-grey"],[1,"list-styled","text-lg","pt-md"],[1,"pt-md","mb0"],["href","//ng.ant.design","target","_blank",1,"text-grey"],[1,"ant-card__body-nopadding",3,"nzTitle","nzBordered"],["nz-row","",1,"py-sm","pr-md","bg-grey-lighter-h","point",3,"nzJustify","nzAlign"],["nzTitle","Todo lists",1,"ant-card__body-nopadding",3,"nzBordered"],["height","35","color","#fff","borderWidth","3","tooltipType","mini",3,"ready","padding","data"],[1,"text-sm","font-weight-normal"],["src","//os.alipayobjects.com/rmsportal/GhjqstwSgxBXrZS.png",1,"img"],["nz-col","",1,"text-center",3,"nzSpan"],[3,"nzSrc"],["nz-col","",3,"nzSpan"],[1,"mb0"],["nz-col","",1,"text-right","pr-md",3,"nzSpan"],["nz-dropdown","","nzPlacement","topRight","nz-icon","","nzType","ellipsis",1,"rotate-90",3,"nzDropdownMenu"],["nz-menu",""],["nz-menu-item",""],["nz-menu-item","",3,"click"]],template:function(e,n){if(e&1&&(r(0,"div",5)(1,"h1"),p(2," Dashboard "),r(3,"small"),p(4,"Welcome !"),l()()(),r(5,"quick-menu")(6,"nz-list",6)(7,"nz-list-item")(8,"a",7),p(9,"Home"),l()(),r(10,"nz-list-item")(11,"a",8),p(12,"Widgets"),l()(),r(13,"nz-list-item")(14,"a",9),p(15,"typography"),l()(),r(16,"nz-list-item")(17,"a",10),p(18,"gridmasonry"),l()(),r(19,"nz-list-item")(20,"a",11),p(21,"success result"),l()()()(),r(22,"div",12)(23,"div",13)(24,"div",14)(25,"div",15)(26,"div",16),p(27,"123,456"),l(),r(28,"p",17),p(29,"Website Traffics"),l()(),r(30,"div",18),u(31,mp,1,3,"g2-mini-bar",19),l()()(),r(32,"div",13)(33,"div",20)(34,"div",15)(35,"div",16),p(36,"234,567K"),l(),r(37,"p",17),p(38,"Website Impressions"),l()(),r(39,"div",18),u(40,dp,1,3,"g2-mini-bar",19),l()()(),r(41,"div",13)(42,"div",21)(43,"div",15)(44,"div",16),p(45,"$458,778"),l(),r(46,"p",17),p(47,"Total Sales"),l()(),r(48,"div",18),u(49,up,1,3,"g2-mini-bar",19),l()()(),r(50,"div",13)(51,"div",22)(52,"div",15)(53,"div",16),p(54,"456"),l(),r(55,"p",17),p(56,"Support Tickets"),l()(),r(57,"div",18),u(58,fp,1,3,"g2-mini-bar",19),l()()()(),r(59,"div",12)(60,"div",23)(61,"nz-card",24),_(62,gp,3,0,"ng-template",null,0,L),u(64,hp,1,1,"g2-bar",25),l()(),r(65,"div",23)(66,"nz-card",26),_(67,_p,3,0,"ng-template",null,1,L),u(69,Cp,1,4,"g2-timeline",27),l()()(),r(70,"div",12)(71,"div",23)(72,"nz-card",28),_(73,zp,1,0,"ng-template",null,2,L),r(75,"h3"),p(76,"ANT DESIGN"),l(),r(77,"p",29),p(78,"A UI Design Language"),l(),r(79,"ol",30)(80,"li"),p(81,"Designed by experienced team, and showcase dozens of inspiring projects."),l(),r(82,"li"),p(83,"Provide solutions for usual problems that may be encountered while developing enterprise-like complex UIs."),l(),r(84,"li"),p(85,"Dozens of flexible and practical reusable components that increase your productivity."),l()(),r(86,"p",31)(87,"a",32),p(88,"View Site..."),l()()()(),r(89,"div",23)(90,"nz-card",33),_(91,xp,3,0,"ng-template",null,3,L),q(93,vp,8,7,"div",34,ae),l()(),r(95,"div",23)(96,"nz-card",35),q(97,Sp,17,12,"div",34,ae),l()()()),e&2){let a=B(63),c=B(68),g=B(74),h=B(92);i(6),s("nzBordered",!1)("nzSplit",!1),i(25),f(n.webSite?31:-1),i(9),f(n.webSite?40:-1),i(9),f(n.webSite?49:-1),i(9),f(n.webSite?58:-1),i(3),s("nzBordered",!1)("nzTitle",a),i(3),f(n.salesData?64:-1),i(2),s("nzTitle",c)("nzBordered",!1),i(3),f(n.offlineChartData?69:-1),i(3),s("nzBordered",!1)("nzCover",g),i(18),s("nzTitle",h)("nzBordered",!1),i(3),U(n.todoData),i(3),s("nzBordered",!1),i(),U(n.todoData)}},dependencies:[We,we,Hn,Mt,St,kt,wt,Nt,de,Ne,xt,ni,ti,ii,oi,Ze,Be,Pe,$e,je,Je,Qe,oe,se,_t,Ft,ft,Ue,gt,Dt,Fe,bt,yt,vt,ke,Et,Ye,Jt,en,Tt,Ct,Xe,Ke,Yt,qe,fe,ue,ve,Pt,He,xe,vi,Dn,_i,Tn,hi,gi,Or,Br,Pr],encapsulation:2,changeDetection:0});var Bi=sn;var Tp=t=>({"background-color":t});function Mp(t,o){t&1&&d(0,"nz-skeleton")}function Dp(t,o){if(t&1&&(I(0),r(1,"h4"),p(2),l(),A()),t&2){let e=m();i(2),v(e.title)}}function Ep(t,o){if(t&1){let e=P();r(0,"div",4),D("click",function(){let a=T(e).$index,c=m(2);return M(c._click(a))}),d(1,"i",5),p(2),r(3,"h6",6),p(4),l()()}if(t&2){let e=o.$implicit,n=m(2);s("nzSpan",24/n.legendData.length),i(),me(Ce(5,Tp,e.checked?e.color:"#aaa")),i(),S(" ",e.name," "),i(2),v(e.value)}}function Np(t,o){if(t&1&&(r(0,"div",2),q(1,Ep,5,7,"div",3,ae),l()),t&2){let e=m();i(),U(e.legendData)}}var xo=(()=>{class t extends Oe{legendData=[];title;height=0;padding=[44,30,16,30];hasLegend=!0;tickCount=4;data=[];colors=["#1890FF","#FACC14","#2FC25B","#8543E0","#F04864","#13C2C2","#fa8c16","#a0d911"];clickItem=new J;getHeight(){return this.height-(this.hasLegend?80:22)}install(){let{node:e,padding:n,theme:a,tickCount:c}=this,g=this._chart=new this.winG2.Chart({container:e.nativeElement,autoFit:!0,height:this.getHeight(),padding:n,theme:a});g.coordinate("polar"),g.legend(!1),g.axis("label",{line:null,label:{offset:8},grid:{line:{style:{stroke:"#e9e9e9",lineWidth:1,lineDash:[0,0]}}}}),g.axis("value",{grid:{line:{type:"polygon",style:{stroke:"#e9e9e9",lineWidth:1,lineDash:[0,0]}}}}),g.scale({value:{min:0,tickCount:c}}),g.filter("name",h=>{let N=this.legendData.find(O=>O.name===h);return N?N.checked!==!1:!0}),g.line().position("label*value").color("name",this.colors),g.point().position("label*value").shape("circle").size(3),g.on("point:click",h=>{this.ngZone.run(()=>this.clickItem.emit({item:h.data?.data,ev:h}))}),this.ready.next(g),this.changeData(),g.render()}changeData(){let{_chart:e,data:n}=this;!e||!Array.isArray(n)||n.length<=0||(e.changeData(n),this.ngZone.run(()=>this.genLegend()))}genLegend(){let{hasLegend:e,cdr:n,_chart:a}=this;e&&(this.legendData=a.geometries[0].dataArray.map(c=>({name:c[0]._origin.name,color:c[0].color,checked:!0,value:c.reduce((N,O)=>N+O._origin.value,0)})),n.detectChanges())}_click(e){let{legendData:n,_chart:a}=this;n[e].checked=!n[e].checked,a.render(!0)}onChanges(){this.legendData.forEach(e=>e.checked=!0)}static \u0275fac=(()=>{let e;return function(a){return(e||(e=Me(t)))(a||t)}})();static \u0275cmp=x({type:t,selectors:[["g2-radar"]],hostVars:4,hostBindings:function(n,a){n&2&&(Re("height",a.height,"px"),$("g2-radar",!0))},inputs:{title:"title",height:[2,"height","height",W],padding:"padding",hasLegend:[2,"hasLegend","hasLegend",X],tickCount:[2,"tickCount","tickCount",W],data:"data",colors:"colors"},outputs:{clickItem:"clickItem"},exportAs:["g2Radar"],features:[_e],decls:5,vars:3,consts:[["container",""],[4,"nzStringTemplateOutlet"],["nz-row","",1,"g2-radar__legend"],["nz-col","",1,"g2-radar__legend-item",3,"nzSpan"],["nz-col","",1,"g2-radar__legend-item",3,"click","nzSpan"],[1,"g2-radar__legend-dot"],[1,"g2-radar__legend-title"]],template:function(n,a){n&1&&(u(0,Mp,1,0,"nz-skeleton"),_(1,Dp,3,1,"ng-container",1),d(2,"div",null,0),u(4,Np,3,0,"div",2)),n&2&&(f(a.loaded?-1:0),i(),s("nzStringTemplateOutlet",a.title),i(3),f(a.hasLegend?4:-1))},dependencies:[ye,ee,Pe,Be],encapsulation:2,changeDetection:0})}return t})(),wp=[xo],Ir=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=G({type:t});static \u0275inj=R({imports:[k,Ze,te,be,wp]})}return t})();var Fp=()=>({"padding-top.px":12,"padding-bottom.px":12}),Ar=()=>["/"];function Pp(t,o){t&1&&(r(0,"nz-breadcrumb")(1,"nz-breadcrumb-item")(2,"a",24),p(3,"\u9996\u9875"),l()(),r(4,"nz-breadcrumb-item")(5,"a",24),p(6,"Dashboard"),l()(),r(7,"nz-breadcrumb-item"),p(8,"\u5DE5\u4F5C\u53F0"),l()()),t&2&&(i(2),s("routerLink",K(2,Ar)),i(3),s("routerLink",K(3,Ar)))}function Bp(t,o){t&1&&(r(0,"div",25)(1,"div",26),d(2,"nz-avatar",27),l(),r(3,"div",28)(4,"div",29),p(5,"\u65E9\u5B89\uFF0C\u5C71\u6CBB\uFF0C\u6211\u8981\u5403\u8089\uFF01"),l(),r(6,"div"),p(7,"\u5047\u7816\u5BB6 | \u5730\u7403\uFF0D\u4F1F\u5927\u822A\u9053\uFF0D\u9EC4\u91D1\u6885\u4E3D\u53F7\uFF0D\u53A8\u623F\uFF0D\u5C0F\u5F3A\u90E8\u95E8"),l()()())}function Op(t,o){t&1&&(r(0,"div",30)(1,"div")(2,"p"),p(3,"\u9879\u76EE\u6570"),l(),r(4,"p"),p(5,"56"),l()(),r(6,"div")(7,"p"),p(8,"\u56E2\u961F\u5185\u6392\u540D"),l(),r(9,"p"),p(10," 8 "),r(11,"span"),p(12," / 24"),l()()(),r(13,"div")(14,"p"),p(15,"\u9879\u76EE\u8BBF\u95EE"),l(),r(16,"p"),p(17,"2,223"),l()()())}function Ip(t,o){if(t&1){let e=P();r(0,"a",31),D("click",function(){T(e);let a=m();return M(a.msg.success("to"))}),p(1,"\u5168\u90E8\u9879\u76EE"),l()}}function Ap(t,o){if(t&1){let e=P();r(0,"div",36),d(1,"nz-avatar",37),r(2,"a",31),D("click",function(){T(e);let a=m().$implicit,c=m();return M(c.msg.info("to"+a.href))}),p(3),l()()}if(t&2){let e=m().$implicit;i(),s("nzSrc",e.logo)("nzSize","small"),i(2),v(e.title)}}function Vp(t,o){if(t&1&&(r(0,"span",35),p(1),y(2,"_date"),l()),t&2){let e=m().$implicit;s("title",qi(e.updatedAt)),i(),S(" ",Ee(2,3,e.updatedAt,"fn")," ")}}function Lp(t,o){if(t&1){let e=P();r(0,"div",11)(1,"nz-card",32)(2,"nz-card-meta",33),_(3,Ap,4,3,"ng-template",null,4,L),l(),r(5,"div",34)(6,"a",31),D("click",function(){let a=T(e).$implicit,c=m();return M(c.msg.info("show user: "+a.member))}),p(7),l(),u(8,Vp,3,6,"span",35),l()()()}if(t&2){let e=o.$implicit,n=B(4);i(),s("nzBordered",!1),i(),s("nzTitle",n)("nzDescription",e.description),i(5),v(e.member),i(),f(e.updatedAt?8:-1)}}function Rp(t,o){if(t&1){let e=P();r(0,"a",39),D("click",function(){T(e);let a=m().$implicit,c=m();return M(c.msg.success(a.user.name))}),p(1),l(),p(2," \xA0 "),d(3,"span",40)}if(t&2){let e=m().$implicit;i(),v(e.user.name),i(2),s("innerHTML",e.template,De)}}function Gp(t,o){if(t&1&&(r(0,"span",35),p(1),y(2,"_date"),l()),t&2){let e=m().$implicit;s("title",qi(e.updatedAt)),i(),v(Ee(2,3,e.updatedAt,"fn"))}}function Wp(t,o){if(t&1&&(r(0,"nz-list-item")(1,"nz-list-item-meta",38),_(2,Rp,4,2,"ng-template",null,5,L)(4,Gp,3,6,"ng-template",null,6,L),l()()),t&2){let e=o.$implicit,n=B(3),a=B(5);i(),s("nzAvatar",e.user.avatar)("nzTitle",n)("nzDescription",a)}}function $p(t,o){if(t&1){let e=P();r(0,"a",31),D("click",function(){let a=T(e).$implicit,c=m();return M(c.msg.success(a.title))}),p(1),l()}if(t&2){let e=o.$implicit;i(),v(e.title)}}function jp(t,o){if(t&1&&d(0,"g2-radar",20),t&2){let e=m();s("data",e.radarData)("height",343)("hasLegend",!0)}}function Hp(t,o){if(t&1){let e=P();r(0,"div",23)(1,"a",31),D("click",function(){let a=T(e).$implicit,c=m();return M(c.msg.success(a.title))}),d(2,"nz-avatar",37),r(3,"span",41),p(4),l()()()}if(t&2){let e=o.$implicit;s("nzSpan",12),i(2),s("nzSrc",e.logo)("nzSize","small"),i(2),v(e.title)}}var pn=class pn{constructor(){this.http=C(ht);this.msg=C(Xn);this.cdr=C(Y);this.notice=[];this.activities=[];this.loading=!0;this.links=[{title:"\u64CD\u4F5C\u4E00",href:""},{title:"\u64CD\u4F5C\u4E8C",href:""},{title:"\u64CD\u4F5C\u4E09",href:""},{title:"\u64CD\u4F5C\u56DB",href:""},{title:"\u64CD\u4F5C\u4E94",href:""},{title:"\u64CD\u4F5C\u516D",href:""}];this.members=[{id:"members-1",title:"\u79D1\u5B66\u642C\u7816\u7EC4",logo:"https://gw.alipayobjects.com/zos/rmsportal/WdGqmHpayyMjiEhcKoVE.png",link:""},{id:"members-2",title:"\u7A0B\u5E8F\u5458\u65E5\u5E38",logo:"https://gw.alipayobjects.com/zos/rmsportal/zOsKZmFRdUtvpqCImOVY.png",link:""},{id:"members-3",title:"\u8BBE\u8BA1\u5929\u56E2",logo:"https://gw.alipayobjects.com/zos/rmsportal/dURIMkkrRFpPgTuzkwnB.png",link:""},{id:"members-4",title:"\u4E2D\u4E8C\u5C11\u5973\u56E2",logo:"https://gw.alipayobjects.com/zos/rmsportal/sfjbOqnsXXJgNCjCzDBL.png",link:""},{id:"members-5",title:"\u9A97\u4F60\u5B66\u8BA1\u7B97\u673A",logo:"https://gw.alipayobjects.com/zos/rmsportal/siCrBXXhmvTQGWPNLBow.png",link:""}]}ngOnInit(){In(this.http.get("/chart"),this.http.get("/api/notice"),this.http.get("/api/activities")).subscribe(([o,e,n])=>{this.radarData=o.radarData,this.notice=e,this.activities=n.map(a=>(a.template=a.template.split(/@\{([^{}]*)\}/gi).map(c=>a[c]?`<a>${a[c].name}</a>`:c),a)),this.loading=!1,this.cdr.detectChanges()})}};pn.\u0275fac=function(e){return new(e||pn)},pn.\u0275cmp=x({type:pn,selectors:[["app-dashboard-workplace"]],decls:34,vars:19,consts:[["breadcrumb",""],["content",""],["extra",""],["ingExtra",""],["noticeTitle",""],["activeTitle",""],["activeDescription",""],[3,"breadcrumb","content","extra"],["nz-row","",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzMd","16"],["nzTitle","\u8FDB\u884C\u4E2D\u7684\u9879\u76EE",1,"ant-card__body-nopadding","mb-lg","project-list",3,"nzExtra","nzBordered","nzLoading"],["nz-card-grid","",1,"project-grid"],["nzTitle","\u52A8\u6001",1,"ant-card__body-nopadding","mb-lg","active-card",3,"nzBordered","nzLoading"],["nzSize","large",1,"activities"],["nz-col","","nzXs","24","nzSm","24","nzMd","8"],["nzTitle","\u5FEB\u901F\u5F00\u59CB / \u4FBF\u6377\u5BFC\u822A",1,"ant-card__body-nopadding","mb-lg",3,"nzBordered"],[1,"links"],["nz-button","",3,"click","nzType","nzSize"],["nz-icon","","nzType","plus"],["nzTitle","XX \u6307\u6570",1,"mb-lg",3,"nzBordered","nzLoading"],[3,"data","height","hasLegend"],["nzTitle","\u56E2\u961F",1,"mb-lg",3,"nzBordered","nzBodyStyle"],[1,"members"],["nz-col","",3,"nzSpan"],[3,"routerLink"],[1,"content"],[1,"avatar"],["nzSrc","https://gw.alipayobjects.com/zos/rmsportal/lctvVCLfRpYCkYxAsiVQ.png"],[1,"desc"],[1,"desc-title"],[1,"page-extra"],[3,"click"],[1,"ant-card__body-nopadding","mb0",3,"nzBordered"],[3,"nzTitle","nzDescription"],[1,"project-item"],[1,"datetime",3,"title"],[1,"card-title"],[3,"nzSrc","nzSize"],[3,"nzAvatar","nzTitle","nzDescription"],[1,"username",3,"click"],[1,"event",3,"innerHTML"],[1,"member"]],template:function(e,n){if(e&1){let a=P();r(0,"page-header",7),_(1,Pp,9,4,"ng-template",null,0,L)(3,Bp,8,0,"ng-template",null,1,L)(5,Op,18,0,"ng-template",null,2,L),l(),r(7,"div",8)(8,"div",9)(9,"nz-card",10),_(10,Ip,2,0,"ng-template",null,3,L),q(12,Lp,9,5,"div",11,ae),l(),r(14,"nz-card",12)(15,"nz-list",13),q(16,Wp,6,3,"nz-list-item",null,ae),l()()(),r(18,"div",14)(19,"nz-card",15)(20,"div",16),q(21,$p,2,1,"a",null,ae),r(23,"button",17),D("click",function(){return T(a),M(n.links.push({title:"new titel",href:"href"}))}),d(24,"i",18),r(25,"span"),p(26,"\u6DFB\u52A0"),l()()()(),r(27,"nz-card",19),u(28,jp,1,3,"g2-radar",20),l(),r(29,"nz-card",21)(30,"div",22)(31,"div",8),q(32,Hp,5,4,"div",23,ae),l()()()()()}if(e&2){let a=B(2),c=B(4),g=B(6),h=B(11);s("breadcrumb",a)("content",c)("extra",g),i(7),s("nzGutter",24),i(2),s("nzExtra",h)("nzBordered",!1)("nzLoading",n.loading),i(3),U(n.notice),i(2),s("nzBordered",!1)("nzLoading",n.loading),i(2),U(n.activities),i(3),s("nzBordered",!1),i(2),U(n.links),i(2),s("nzType","dashed")("nzSize","small"),i(4),s("nzBordered",!1)("nzLoading",n.loading),i(),f(n.radarData?28:-1),i(),s("nzBordered",!1)("nzBodyStyle",K(18,Fp)),i(2),s("nzGutter",48),i(),U(n.members)}},dependencies:[We,we,Hn,Mt,St,kt,wt,Nt,er,de,Ge,Ne,ut,xt,Ze,Be,Pe,$e,je,Je,Qe,oe,se,_t,Ft,ft,Ue,gt,Dt,Fe,bt,yt,vt,ke,Et,Ja,Ya,Ye,Jt,en,si,Tt,Ct,Xe,Ke,Yt,qe,fe,ue,Qa,qa,ve,Pt,He,xe,Ir,xo,ma],styles:['[_nghost-%COMP%]     .content{display:flex}[_nghost-%COMP%]     .content .avatar{flex:0 1 72px;margin-bottom:8px}[_nghost-%COMP%]     .content .avatar .ant-avatar{display:block;width:72px;height:72px;border-radius:72px}[_nghost-%COMP%]     .content .desc{position:relative;top:4px;flex:1 1 auto;margin-left:24px;line-height:22px;color:#00000073}[_nghost-%COMP%]     .content .desc .desc-title{margin-bottom:12px;font-size:20px;font-weight:500;line-height:28px;color:#000000d9}[_nghost-%COMP%]     .page-extra{float:right;white-space:nowrap}[_nghost-%COMP%]     .page-extra:before{display:table;content:""}[_nghost-%COMP%]     .page-extra:after{display:table;clear:both;content:""}[_nghost-%COMP%]     .page-extra>div{position:relative;display:inline-block;padding:0 32px}[_nghost-%COMP%]     .page-extra>div:after{content:"";position:absolute;top:8px;right:0;width:1px;height:40px;background-color:#f0f0f0}[_nghost-%COMP%]     .page-extra>div>p:first-child{margin-bottom:4px;font-size:14px;line-height:22px;color:#00000073}[_nghost-%COMP%]     .page-extra>div>p{margin:0;font-size:30px;line-height:38px;color:#000000d9}[_nghost-%COMP%]     .page-extra>div>p>span{font-size:20px;color:#00000073}[_nghost-%COMP%]     .page-extra>div:last-child{padding-right:0}[_nghost-%COMP%]     .page-extra>div:last-child:after{display:none}[_nghost-%COMP%]     .project-list .ant-card-meta-description{overflow:hidden;height:44px;line-height:22px;color:#00000073}[_nghost-%COMP%]     .project-list .card-title{font-size:0}[_nghost-%COMP%]     .project-list .card-title a{display:inline-block;height:24px;margin-left:12px;font-size:14px;line-height:24px;color:#000000d9;vertical-align:top}[_nghost-%COMP%]     .project-list .card-title a:hover{color:#1890ff}[_nghost-%COMP%]     .project-list .project-grid{width:33.33%}[_nghost-%COMP%]     .project-list .project-item{display:flex;height:20px;margin-top:8px;font-size:12px;line-height:20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;word-break:break-all}[_nghost-%COMP%]     .project-list .project-item a{display:inline-block;flex:1 1 0;color:#00000073;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;word-break:break-all}[_nghost-%COMP%]     .project-list .project-item a:hover{color:#1890ff}[_nghost-%COMP%]     .project-list .project-item .datetime{float:right;flex:0 0 auto;color:#00000040}[_nghost-%COMP%]     .activities{padding:0 24px 8px}[_nghost-%COMP%]     .activities .username{color:#000000d9}[_nghost-%COMP%]     .activities .event{font-weight:400}[_nghost-%COMP%]     .members a{display:block;height:24px;margin:12px 0;line-height:24px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;word-break:break-all}[_nghost-%COMP%]     .members a .member{display:inline-block;max-width:100px;margin-left:12px;font-size:14px;line-height:24px;color:#000000d9;vertical-align:top;transition:all .3s;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;word-break:break-all}[_nghost-%COMP%]     .members a:hover span{color:#1890ff}[_nghost-%COMP%]     .datetime{color:#00000040}[_nghost-%COMP%]     .links{padding:20px 0 8px 24px;font-size:0}[_nghost-%COMP%]     .links>a{display:inline-block;width:25%;margin-bottom:13px;font-size:14px;color:#000000d9}[_nghost-%COMP%]     .links>a:hover{color:#1890ff}@media screen and (max-width: 1200px) and (min-width: 992px){[_nghost-%COMP%]     .active-card{margin-bottom:24px}[_nghost-%COMP%]     .members{margin-bottom:0}[_nghost-%COMP%]     .page-extra{margin-left:-44px}[_nghost-%COMP%]     .page-extra>div{padding:0 16px}}@media screen and (max-width: 992px){[_nghost-%COMP%]     .active-card{margin-bottom:24px}[_nghost-%COMP%]     .members{margin-bottom:0}[_nghost-%COMP%]     .page-extra{float:none;margin-right:0}[_nghost-%COMP%]     .page-extra>div{padding:0 16px;text-align:left}[_nghost-%COMP%]     .page-extra>div:after{display:none}}@media screen and (max-width: 768px){[_nghost-%COMP%]     .page-extra{margin-left:-16px}[_nghost-%COMP%]     .project-list .project-grid{width:50%}}@media screen and (max-width: 576px){[_nghost-%COMP%]     .content{display:block}[_nghost-%COMP%]     .content .desc{margin-left:0}[_nghost-%COMP%]     .page-extra>div{float:none}}@media screen and (max-width: 480px){[_nghost-%COMP%]     .project-list .project-grid{width:100%}}'],changeDetection:0});var Ii=pn;var cn=class cn{constructor(){}};cn.\u0275fac=function(e){return new(e||cn)},cn.\u0275cmp=x({type:cn,selectors:[["app-budget-list"]],decls:6,vars:0,consts:[[1,"budget-list-container"],[1,"budget-list-content"]],template:function(e,n){e&1&&(re(0,"div",0)(1,"h2"),p(2,"\u9810\u7B97\u7BA1\u7406"),le(),re(3,"div",1)(4,"p"),p(5,"\u9810\u7B97\u5217\u8868\u9801\u9762 - DDD\u67B6\u69CB"),le()()())},dependencies:[k],styles:[".budget-list-container[_ngcontent-%COMP%]{padding:24px}.budget-list-content[_ngcontent-%COMP%]{margin-top:16px}"]});var mn=cn;var dn=class dn{constructor(){}};dn.\u0275fac=function(e){return new(e||dn)},dn.\u0275cmp=x({type:dn,selectors:[["app-budget-detail"]],decls:6,vars:0,consts:[[1,"budget-detail-container"],[1,"budget-detail-content"]],template:function(e,n){e&1&&(re(0,"div",0)(1,"h2"),p(2,"\u9810\u7B97\u8A73\u60C5"),le(),re(3,"div",1)(4,"p"),p(5,"\u9810\u7B97\u8A73\u60C5\u9801\u9762 - DDD\u67B6\u69CB"),le()()())},dependencies:[k],styles:[".budget-detail-container[_ngcontent-%COMP%]{padding:24px}.budget-detail-content[_ngcontent-%COMP%]{margin-top:16px}"]});var Ai=dn;var un=class un{constructor(){}};un.\u0275fac=function(e){return new(e||un)},un.\u0275cmp=x({type:un,selectors:[["app-budget-edit"]],decls:6,vars:0,consts:[[1,"budget-edit-container"],[1,"budget-edit-content"]],template:function(e,n){e&1&&(re(0,"div",0)(1,"h2"),p(2,"\u9810\u7B97\u7DE8\u8F2F"),le(),re(3,"div",1)(4,"p"),p(5,"\u9810\u7B97\u7DE8\u8F2F\u9801\u9762 - DDD\u67B6\u69CB"),le()()())},dependencies:[k],styles:[".budget-edit-container[_ngcontent-%COMP%]{padding:24px}.budget-edit-content[_ngcontent-%COMP%]{margin-top:16px}"]});var Vi=un;var Lt=class Lt{constructor(){this.repository=C(ar);this.companiesSignal=Le([]);this.selectedCompanySignal=Le(null);this.loadingSignal=Le(!1);this.errorSignal=Le(null);this.searchQuerySignal=Le("");this.companies=ze(()=>this.companiesSignal());this.selectedCompany=ze(()=>this.selectedCompanySignal());this.loading=ze(()=>this.loadingSignal());this.error=ze(()=>this.errorSignal());this.searchQuery=ze(()=>this.searchQuerySignal());this.hasCompanies=ze(()=>this.companies().length>0);this.activeCompanies=ze(()=>this.companies().filter(o=>o.status==="active"));this.filteredCompanies=ze(()=>{let o=this.searchQuery().toLowerCase().trim();return o?this.companies().filter(e=>e.companyName.toLowerCase().includes(o)||e.businessRegistrationNumber.includes(o)||e.address.toLowerCase().includes(o)):this.companies()});this.totalCount=ze(()=>this.companies().length);this.activeCount=ze(()=>this.activeCompanies().length);this.highRiskCount=ze(()=>this.companies().filter(o=>o.riskLevel==="high").length);this.loadCompanies()}loadCompanies(){this.loading()||(this.setLoading(!0),this.clearError(),this.repository.getAll().pipe(lt(()=>this.setLoading(!1)),rt(o=>(this.handleError("\u8F09\u5165\u516C\u53F8\u5217\u8868\u5931\u6557",o),tt([])))).subscribe(o=>{this.companiesSignal.set(o)}))}createCompany(o){this.setLoading(!0),this.clearError();let e=rr.create(o);return this.repository.create(e).pipe(st(n=>{this.companiesSignal.update(a=>[...a,n]),this.selectCompany(n)}),lt(()=>this.setLoading(!1)),rt(n=>{throw this.handleError("\u5275\u5EFA\u516C\u53F8\u5931\u6557",n),n}))}updateCompany(o,e){return this.setLoading(!0),this.clearError(),this.repository.getById(o).pipe(Ve(n=>{if(!n)throw new Error(`\u516C\u53F8 ID ${o} \u4E0D\u5B58\u5728`);let a=n.update(e);return this.repository.update(a)}),st(n=>{this.companiesSignal.update(a=>a.map(c=>c.id===o?n:c)),this.selectCompany(n)}),lt(()=>this.setLoading(!1)),rt(n=>{throw this.handleError("\u66F4\u65B0\u516C\u53F8\u5931\u6557",n),n}))}deleteCompany(o){this.setLoading(!0),this.clearError(),this.repository.delete(o).pipe(lt(()=>this.setLoading(!1)),rt(e=>(this.handleError("\u522A\u9664\u516C\u53F8\u5931\u6557",e),tt(null)))).subscribe(()=>{this.companiesSignal.update(e=>e.filter(n=>n.id!==o)),this.selectedCompany()?.id===o&&this.clearSelection()})}addContact(o,e){return this.setLoading(!0),this.clearError(),this.repository.getById(o).pipe(Ve(n=>{if(!n)throw new Error(`\u516C\u53F8 ID ${o} \u4E0D\u5B58\u5728`);let a=n.addContact(e);return this.repository.update(a)}),st(n=>{this.companiesSignal.update(a=>a.map(c=>c.id===o?n:c)),this.selectCompany(n)}),lt(()=>this.setLoading(!1)),rt(n=>{throw this.handleError("\u65B0\u589E\u806F\u7D61\u4EBA\u5931\u6557",n),n}))}updateContact(o,e,n){return this.setLoading(!0),this.clearError(),this.repository.getById(o).pipe(Ve(a=>{if(!a)throw new Error(`\u516C\u53F8 ID ${o} \u4E0D\u5B58\u5728`);let c=a.updateContact(e,n);return this.repository.update(c)}),st(a=>{this.companiesSignal.update(c=>c.map(g=>g.id===o?a:g)),this.selectCompany(a)}),lt(()=>this.setLoading(!1)),rt(a=>{throw this.handleError("\u66F4\u65B0\u806F\u7D61\u4EBA\u5931\u6557",a),a}))}removeContact(o,e){return this.setLoading(!0),this.clearError(),this.repository.getById(o).pipe(Ve(n=>{if(!n)throw new Error(`\u516C\u53F8 ID ${o} \u4E0D\u5B58\u5728`);let a=n.removeContact(e);return this.repository.update(a)}),st(n=>{this.companiesSignal.update(a=>a.map(c=>c.id===o?n:c)),this.selectCompany(n)}),lt(()=>this.setLoading(!1)),rt(n=>{throw this.handleError("\u522A\u9664\u806F\u7D61\u4EBA\u5931\u6557",n),n}))}searchCompanies(o){this.searchQuerySignal.set(o)}setSearchQuery(o){this.searchQuerySignal.set(o)}filterByStatus(o){return this.companies().filter(e=>e.status===o)}filterByRiskLevel(o){return this.companies().filter(e=>e.riskLevel===o)}selectCompany(o){this.selectedCompanySignal.set(o)}clearSelection(){this.selectedCompanySignal.set(null)}clearError(){this.errorSignal.set(null)}refresh(){this.loadCompanies()}setLoading(o){this.loadingSignal.set(o)}handleError(o,e){console.error(o,e),this.errorSignal.set(o)}};Lt.\u0275fac=function(e){return new(e||Lt)},Lt.\u0275prov=$t({token:Lt,factory:Lt.\u0275fac,providedIn:"root"});var Li=Lt;var Vr=(()=>{class t{transform(e,n="HH:mm:ss"){let a=Number(e||0);return aa.reduce((c,[g,h])=>{if(c.indexOf(g)!==-1){let N=Math.floor(a/h);return a-=N*h,c.replace(new RegExp(`${g}+`,"g"),O=>na(N.toString(),O.length,"0"))}return c},n)}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=Ro({name:"nzTimeRange",type:t,pure:!0})}return t})(),Lr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=G({type:t});static \u0275inj=R({})}return t})();var Up=t=>({$implicit:t});function Zp(t,o){if(t&1&&Rn(0,1),t&2){let e=m();s("ngTemplateOutlet",e.nzValueTemplate)("ngTemplateOutletContext",Ce(2,Up,e.nzValue))}}function Xp(t,o){if(t&1&&(r(0,"span",2),p(1),l()),t&2){let e=m(2);i(),v(e.displayInt)}}function Kp(t,o){if(t&1&&(r(0,"span",3),p(1),l()),t&2){let e=m(2);i(),v(e.displayDecimal)}}function Yp(t,o){if(t&1&&(u(0,Xp,2,1,"span",2),u(1,Kp,2,1,"span",3)),t&2){let e=m();f(e.displayInt?0:-1),i(),f(e.displayDecimal?1:-1)}}function Jp(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m();i(),v(e.nzTitle)}}function ec(t,o){t&1&&d(0,"nz-skeleton",2),t&2&&s("nzParagraph",!1)}function tc(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m(3);i(),v(e.nzPrefix)}}function nc(t,o){if(t&1&&(r(0,"span",5),_(1,tc,2,1,"ng-container",1),l()),t&2){let e=m(2);i(),s("nzStringTemplateOutlet",e.nzPrefix)}}function ic(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m(3);i(),v(e.nzSuffix)}}function oc(t,o){if(t&1&&(r(0,"span",7),_(1,ic,2,1,"ng-container",1),l()),t&2){let e=m(2);i(),s("nzStringTemplateOutlet",e.nzSuffix)}}function ac(t,o){if(t&1&&(r(0,"div",4),u(1,nc,2,1,"span",5),d(2,"nz-statistic-number",6),u(3,oc,2,1,"span",7),l()),t&2){let e=m();me(e.nzValueStyle),i(),f(e.nzPrefix?1:-1),i(),s("nzValue",e.nzValue)("nzValueTemplate",e.nzValueTemplate),i(),f(e.nzSuffix?3:-1)}}function rc(t,o){if(t&1&&(p(0),y(1,"nzTimeRange")),t&2){let e=m();v(Ee(1,1,e.diff,e.nzFormat))}}var lc=(()=>{class t{nzValue;nzValueTemplate;displayInt="";displayDecimal="";locale_id=C(Wn);ngOnChanges(){this.formatNumber()}formatNumber(){let e=typeof this.nzValue=="number"?".":Xo(this.locale_id,Zo.Decimal),n=String(this.nzValue),[a,c]=n.split(e);this.displayInt=a,this.displayDecimal=c?`${e}${c}`:""}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["nz-statistic-number"]],inputs:{nzValue:"nzValue",nzValueTemplate:"nzValueTemplate"},exportAs:["nzStatisticNumber"],features:[ce],decls:3,vars:1,consts:[[1,"ant-statistic-content-value"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-statistic-content-value-int"],[1,"ant-statistic-content-value-decimal"]],template:function(n,a){n&1&&(r(0,"span",0),u(1,Zp,1,4,"ng-container",1)(2,Yp,2,2),l()),n&2&&(i(),f(a.nzValueTemplate?1:2))},dependencies:[Ut],encapsulation:2,changeDetection:0})}return t})(),Fn=(()=>{class t{nzPrefix;nzSuffix;nzTitle;nzValue;nzValueStyle={};nzValueTemplate;nzLoading=!1;dir="ltr";cdr=C(Y);destroyRef=C(Vn);directionality=C(Zt);ngOnInit(){this.directionality.change?.pipe(Vt(this.destroyRef)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["nz-statistic"]],hostAttrs:[1,"ant-statistic"],hostVars:2,hostBindings:function(n,a){n&2&&$("ant-statistic-rtl",a.dir==="rtl")},inputs:{nzPrefix:"nzPrefix",nzSuffix:"nzSuffix",nzTitle:"nzTitle",nzValue:"nzValue",nzValueStyle:"nzValueStyle",nzValueTemplate:"nzValueTemplate",nzLoading:[2,"nzLoading","nzLoading",X]},exportAs:["nzStatistic"],decls:4,vars:2,consts:[[1,"ant-statistic-title"],[4,"nzStringTemplateOutlet"],[1,"ant-statistic-skeleton",3,"nzParagraph"],[1,"ant-statistic-content",3,"style"],[1,"ant-statistic-content"],[1,"ant-statistic-content-prefix"],[3,"nzValue","nzValueTemplate"],[1,"ant-statistic-content-suffix"]],template:function(n,a){n&1&&(r(0,"div",0),_(1,Jp,2,1,"ng-container",1),l(),u(2,ec,1,1,"nz-skeleton",2)(3,ac,4,6,"div",3)),n&2&&(i(),s("nzStringTemplateOutlet",a.nzTitle),i(),f(a.nzLoading?2:3))},dependencies:[be,ye,lc,te,ee],encapsulation:2,changeDetection:0})}return t})(),sc=1e3/30,pc=(()=>{class t extends Fn{ngZone=C(It);platform=C(dt);nzFormat="HH:mm:ss";nzCountdownFinish=new J;diff;target=0;intervalId=null;constructor(){super(),this.destroyRef.onDestroy(()=>{this.stopTimer()})}ngOnChanges(e){let{nzValue:n}=e;n&&(this.target=Number(n.currentValue),n.isFirstChange()||this.syncTimer())}ngOnInit(){super.ngOnInit(),this.syncTimer()}syncTimer(){this.target>=Date.now()?this.startTimer():this.stopTimer()}startTimer(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.stopTimer(),this.intervalId=setInterval(()=>{this.updateValue(),this.cdr.detectChanges()},sc)})}stopTimer(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}updateValue(){this.diff=Math.max(this.target-Date.now(),0),this.diff===0&&(this.stopTimer(),this.nzCountdownFinish.observers.length&&this.ngZone.run(()=>this.nzCountdownFinish.emit()))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["nz-countdown"]],inputs:{nzFormat:"nzFormat"},outputs:{nzCountdownFinish:"nzCountdownFinish"},exportAs:["nzCountdown"],features:[_e,ce],decls:3,vars:6,consts:[["countDownTpl",""],[3,"nzValue","nzValueStyle","nzValueTemplate","nzTitle","nzPrefix","nzSuffix"]],template:function(n,a){if(n&1&&(d(0,"nz-statistic",1),_(1,rc,2,4,"ng-template",null,0,L)),n&2){let c=B(2);s("nzValue",a.diff)("nzValueStyle",a.nzValueStyle)("nzValueTemplate",a.nzValueTemplate||c)("nzTitle",a.nzTitle)("nzPrefix",a.nzPrefix)("nzSuffix",a.nzSuffix)}},dependencies:[Fn,Lr,Vr],encapsulation:2,changeDetection:0})}return t})(),Rr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=G({type:t});static \u0275inj=R({imports:[Fn,pc]})}return t})();var uc=()=>({color:"#1890ff"}),fc=()=>({color:"#52c41a"}),gc=()=>({color:"#ff4d4f"}),hc=()=>({color:"#722ed1"}),_c=(t,o)=>o.id;function Cc(t,o){t&1&&d(0,"span",19)}function zc(t,o){t&1&&(r(0,"div",16),d(1,"nz-empty",17),l()),t&2&&(i(),s("nzNotFoundContent","\u8F09\u5165\u4E2D..."))}function xc(t,o){t&1&&d(0,"nz-empty",17),t&2&&s("nzNotFoundContent","\u66AB\u7121\u516C\u53F8\u8CC7\u6599")}function vc(t,o){if(t&1){let e=P();r(0,"tr")(1,"td")(2,"a",21),D("click",function(){let a=T(e).$implicit,c=m(2);return M(c.onCompanySelect(a))}),p(3),l()(),r(4,"td"),p(5),l(),r(6,"td")(7,"nz-tag",22),p(8),l()(),r(9,"td")(10,"nz-tag",22),p(11),l()(),r(12,"td"),p(13),l(),r(14,"td"),p(15),y(16,"date"),l(),r(17,"td")(18,"nz-space",23)(19,"button",24),D("click",function(){let a=T(e).$implicit,c=m(2);return M(c.onCompanyEdit(a))}),d(20,"span",25),l(),r(21,"button",26),D("click",function(){let a=T(e).$implicit,c=m(2);return M(c.onCompanyView(a))}),d(22,"span",27),l(),r(23,"nz-popconfirm",28),D("nzOnConfirm",function(){let a=T(e).$implicit,c=m(2);return M(c.onCompanyDelete(a.id))}),r(24,"button",29),d(25,"span",30),l()()()()()}if(t&2){let e=o.$implicit,n=m(2);i(3),S(" ",e.companyName," "),i(2),v(e.businessRegistrationNumber),i(2),s("nzColor",n.CompanyStatusColors[e.status]),i(),S(" ",n.CompanyStatusLabels[e.status]," "),i(2),s("nzColor",n.RiskLevelColors[e.riskLevel]),i(),S(" ",n.RiskLevelLabels[e.riskLevel]," "),i(2),v(e.contacts.length),i(2),v(Ee(16,8,e.updatedAt,"yyyy-MM-dd HH:mm"))}}function yc(t,o){if(t&1){let e=P();r(0,"nz-table",20,1),D("nzCurrentPageIndexChange",function(a){T(e);let c=m();return M(c.onPageChange(a))})("nzPageSizeChange",function(a){T(e);let c=m();return M(c.onPageSizeChange(a))}),r(2,"thead")(3,"tr")(4,"th"),p(5,"\u516C\u53F8\u540D\u7A31"),l(),r(6,"th"),p(7,"\u7D71\u4E00\u7DE8\u865F"),l(),r(8,"th"),p(9,"\u72C0\u614B"),l(),r(10,"th"),p(11,"\u98A8\u96AA\u7B49\u7D1A"),l(),r(12,"th"),p(13,"\u806F\u7D61\u4EBA\u6578"),l(),r(14,"th"),p(15,"\u66F4\u65B0\u6642\u9593"),l(),r(16,"th"),p(17,"\u64CD\u4F5C"),l()()(),r(18,"tbody"),q(19,vc,26,11,"tr",null,_c),l()()}if(t&2){let e=B(1),n=m();s("nzData",n.businessPartnerService.filteredCompanies())("nzPageSize",n.pageSize())("nzTotal",n.businessPartnerService.filteredCompanies().length)("nzShowSizeChanger",!0)("nzShowQuickJumper",!0),i(19),U(e.data)}}var fn=class fn{constructor(){this.router=C(jn);this.businessPartnerService=C(Li);this.searchQuery=Le("");this.pageSize=Le(10);this.currentPage=Le(1);this.totalContacts=ze(()=>this.businessPartnerService.companies().reduce((o,e)=>o+e.contacts.length,0));this.CompanyStatusLabels=pi;this.RiskLevelLabels=ci;this.CompanyStatusColors=mi;this.RiskLevelColors=di}onSearchChange(o){this.searchQuery.set(o),this.businessPartnerService.setSearchQuery(o)}onPageChange(o){let e=typeof o=="number"?o:1;this.currentPage.set(e)}onPageSizeChange(o){let e=typeof o=="number"?o:10;this.pageSize.set(e)}onCreateCompany(){this.router.navigate(["/business-partner/create"])}onCompanySelect(o){this.businessPartnerService.selectCompany(o),this.router.navigate(["/business-partner",o.id])}onCompanyEdit(o){this.businessPartnerService.selectCompany(o),this.router.navigate(["/business-partner",o.id,"edit"])}onCompanyView(o){this.businessPartnerService.selectCompany(o),this.router.navigate(["/business-partner",o.id,"view"])}onCompanyDelete(o){this.businessPartnerService.deleteCompany(o)}};fn.\u0275fac=function(e){return new(e||fn)},fn.\u0275cmp=x({type:fn,selectors:[["app-business-partner-list"]],decls:27,vars:15,consts:[["suffixIconSearch",""],["basicTable",""],[1,"business-partner-list"],[1,"page-header"],[1,"header-actions"],["nz-button","","nzType","primary","nzSize","large",3,"click"],["nz-icon","","nzType","plus"],[1,"stats-row"],[1,"stat-item"],["nzTitle","\u7E3D\u516C\u53F8\u6578",3,"nzValue","nzValueStyle"],["nzTitle","\u555F\u7528\u4E2D",3,"nzValue","nzValueStyle"],["nzTitle","\u9AD8\u98A8\u96AA",3,"nzValue","nzValueStyle"],["nzTitle","\u806F\u7D61\u4EBA\u7E3D\u6578",3,"nzValue","nzValueStyle"],[1,"search-card"],["nzSize","large",3,"nzSuffix"],["nz-input","","placeholder","\u641C\u5C0B\u516C\u53F8\u540D\u7A31\u3001\u7D71\u4E00\u7DE8\u865F\u6216\u5730\u5740...",3,"ngModelChange","ngModel"],[1,"loading-container"],["nzNotFoundImage","simple",3,"nzNotFoundContent"],[3,"nzData","nzPageSize","nzTotal","nzShowSizeChanger","nzShowQuickJumper"],["nz-icon","","nzType","search"],[3,"nzCurrentPageIndexChange","nzPageSizeChange","nzData","nzPageSize","nzTotal","nzShowSizeChanger","nzShowQuickJumper"],[1,"company-name-link",3,"click"],[3,"nzColor"],["nzSize","small"],["nz-button","","nzType","link","nzSize","small","nz-tooltip","","nzTooltipTitle","\u7DE8\u8F2F",3,"click"],["nz-icon","","nzType","edit"],["nz-button","","nzType","link","nzSize","small","nz-tooltip","","nzTooltipTitle","\u67E5\u770B\u8A73\u60C5",3,"click"],["nz-icon","","nzType","eye"],["nzTitle","\u78BA\u5B9A\u8981\u522A\u9664\u6B64\u516C\u53F8\u55CE\uFF1F","nzOkText","\u78BA\u5B9A","nzCancelText","\u53D6\u6D88",3,"nzOnConfirm"],["nz-button","","nzType","link","nzSize","small","nz-tooltip","","nzTooltipTitle","\u522A\u9664"],["nz-icon","","nzType","delete"]],template:function(e,n){if(e&1){let a=P();r(0,"div",2)(1,"nz-card")(2,"div",3)(3,"h2"),p(4,"\u5546\u696D\u5925\u4F34\u7BA1\u7406"),l(),r(5,"div",4)(6,"button",5),D("click",function(){return T(a),M(n.onCreateCompany())}),d(7,"span",6),p(8," \u65B0\u589E\u516C\u53F8 "),l()()(),r(9,"div",7)(10,"div",8),d(11,"nz-statistic",9),l(),r(12,"div",8),d(13,"nz-statistic",10),l(),r(14,"div",8),d(15,"nz-statistic",11),l(),r(16,"div",8),d(17,"nz-statistic",12),l()()(),r(18,"nz-card",13)(19,"nz-input-group",14)(20,"input",15),qt("ngModelChange",function(g){return T(a),Qt(n.searchQuery,g)||(n.searchQuery=g),M(g)}),D("ngModelChange",function(g){return T(a),M(n.onSearchChange(g))}),l()(),_(21,Cc,1,0,"ng-template",null,0,L),l(),r(23,"nz-card"),u(24,zc,2,1,"div",16)(25,xc,1,1,"nz-empty",17)(26,yc,21,5,"nz-table",18),l()()}if(e&2){let a=B(22);i(11),s("nzValue",n.businessPartnerService.totalCount())("nzValueStyle",K(11,uc)),i(2),s("nzValue",n.businessPartnerService.activeCount())("nzValueStyle",K(12,fc)),i(2),s("nzValue",n.businessPartnerService.highRiskCount())("nzValueStyle",K(13,gc)),i(2),s("nzValue",n.totalContacts())("nzValueStyle",K(14,hc)),i(2),s("nzSuffix",a),i(),Ht("ngModel",n.searchQuery),i(4),f(n.businessPartnerService.loading()?24:n.businessPartnerService.hasCompanies()?26:25)}},dependencies:[k,We,Kn,Kt,Yn,we,Ue,Pa,wa,ka,Oa,Fa,Ba,de,Ge,Ne,ut,Fe,li,La,Va,xe,Xt,ke,Jn,ri,ai,He,Ma,Ta,zt,oe,se,fe,ue,Rr,Fn,$n],styles:[".business-partner-list[_ngcontent-%COMP%]{padding:24px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#262626}.stats-row[_ngcontent-%COMP%]{display:flex;gap:24px;margin-top:16px}.stat-item[_ngcontent-%COMP%]{flex:1}.search-card[_ngcontent-%COMP%]{margin:16px 0}.loading-container[_ngcontent-%COMP%]{text-align:center;padding:40px 0}.company-name-link[_ngcontent-%COMP%]{color:#1890ff;cursor:pointer;text-decoration:none}.company-name-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"],changeDetection:0});var Gr=fn;function bc(t,o){t&1&&(r(0,"div",29)(1,"p"),p(2,"\u66AB\u7121\u806F\u7D61\u4EBA\u4FE1\u606F\uFF0C\u8ACB\u9EDE\u64CA\u4E0A\u65B9\u6309\u9215\u65B0\u589E"),l()())}function Sc(t,o){t&1&&d(0,"nz-divider")}function Tc(t,o){if(t&1){let e=P();r(0,"div",33)(1,"div",34)(2,"h4"),p(3),l(),r(4,"button",35),D("click",function(){let a=T(e).$index,c=m(2);return M(c.removeContact(a))}),d(5,"span",36),l()(),r(6,"div",4)(7,"div",5)(8,"nz-form-item")(9,"nz-form-label",6),p(10,"\u59D3\u540D"),l(),r(11,"nz-form-control",37),d(12,"input",38),l()()(),r(13,"div",5)(14,"nz-form-item")(15,"nz-form-label",6),p(16,"\u8077\u7A31"),l(),r(17,"nz-form-control",39),d(18,"input",40),l()()()(),r(19,"div",4)(20,"div",5)(21,"nz-form-item")(22,"nz-form-label",6),p(23,"\u96FB\u5B50\u90F5\u4EF6"),l(),r(24,"nz-form-control",41),d(25,"input",42),l()()(),r(26,"div",5)(27,"nz-form-item")(28,"nz-form-label",6),p(29,"\u96FB\u8A71"),l(),r(30,"nz-form-control",13),d(31,"input",43),l()()()(),r(32,"div",4)(33,"div",5)(34,"nz-form-item")(35,"nz-form-label",15),p(36,"\u4E3B\u8981\u806F\u7D61\u4EBA"),l(),r(37,"nz-form-control",15)(38,"label",44),p(39," \u8A2D\u70BA\u4E3B\u8981\u806F\u7D61\u4EBA "),l()()()()(),u(40,Sc,1,0,"nz-divider"),l()}if(t&2){let e=o.$index,n=m(2);s("formGroupName",e),i(3),S("\u806F\u7D61\u4EBA #",e+1),i(3),s("nzGutter",16),i(),s("nzSpan",12),i(2),s("nzSpan",8),i(2),s("nzSpan",16),i(2),s("nzSpan",12),i(2),s("nzSpan",8),i(2),s("nzSpan",16),i(2),s("nzGutter",16),i(),s("nzSpan",12),i(2),s("nzSpan",8),i(2),s("nzSpan",16),i(2),s("nzSpan",12),i(2),s("nzSpan",8),i(2),s("nzSpan",16),i(2),s("nzGutter",16),i(),s("nzSpan",24),i(2),s("nzSpan",4),i(2),s("nzSpan",20),i(3),f(e<n.contactsArray.length-1?40:-1)}}function Mc(t,o){if(t&1&&q(0,Tc,41,21,"div",33,ae),t&2){let e=m();U(e.contactsArray.controls)}}var gn=class gn{constructor(){this.fb=C(va);this.submitting=!1;this.formSubmit=new J;this.formCancel=new J;this.isEditMode=!1}get contactsArray(){return this.companyForm.get("contacts")}get formTitle(){return this.isEditMode?"\u7DE8\u8F2F\u516C\u53F8\u4FE1\u606F":"\u65B0\u589E\u516C\u53F8"}ngOnInit(){this.isEditMode=!!this.company,this.initForm(),this.company&&this.patchForm()}initForm(){this.companyForm=this.fb.group({companyName:["",[pe.required,pe.minLength(2)]],businessRegistrationNumber:["",[pe.required,pe.pattern(/^\d{8}$/)]],address:["",[pe.required,pe.minLength(5)]],businessPhone:["",[pe.required,pe.pattern(/^[\d\-\+\(\)\s]+$/)]],status:["active",pe.required],riskLevel:["low",pe.required],fax:[""],website:[""],contacts:this.fb.array([])})}patchForm(){if(this.company){for(this.companyForm.patchValue({companyName:this.company.companyName,businessRegistrationNumber:this.company.businessRegistrationNumber,address:this.company.address,businessPhone:this.company.businessPhone,status:this.company.status,riskLevel:this.company.riskLevel,fax:this.company.fax,website:this.company.website});this.contactsArray.length!==0;)this.contactsArray.removeAt(0);this.company.contacts.forEach(o=>{this.addContact(o)})}}addContact(o){let e=this.fb.group({name:[o?.name||"",[pe.required,pe.minLength(2)]],title:[o?.title||"",[pe.required]],email:[o?.email||"",[pe.required,pe.email]],phone:[o?.phone||"",[pe.required]],isPrimary:[o?.isPrimary||!1]});this.contactsArray.push(e)}removeContact(o){this.contactsArray.removeAt(o)}onSubmit(){if(this.companyForm.valid){let o=this.companyForm.value;o.contacts&&o.contacts.length>0&&o.contacts.filter(n=>n.isPrimary).length>1&&o.contacts.forEach((n,a)=>{a>0&&(n.isPrimary=!1)}),this.formSubmit.emit(o)}else this.markFormGroupTouched()}onCancel(){this.formCancel.emit()}markFormGroupTouched(){Object.keys(this.companyForm.controls).forEach(o=>{let e=this.companyForm.get(o);e instanceof ha?this.markFormGroupTouched():e?.markAsTouched()})}};gn.\u0275fac=function(e){return new(e||gn)},gn.\u0275cmp=x({type:gn,selectors:[["app-company-form"]],inputs:{company:"company",submitting:"submitting"},outputs:{formSubmit:"formSubmit",formCancel:"formCancel"},decls:80,vars:33,consts:[[1,"company-form-card",3,"nzTitle"],["nz-form","",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-title"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzRequired","",3,"nzSpan"],["nzErrorTip","\u8ACB\u8F38\u5165\u516C\u53F8\u540D\u7A31",3,"nzSpan"],["nz-input","","formControlName","companyName","placeholder","\u8ACB\u8F38\u5165\u516C\u53F8\u540D\u7A31"],["nzErrorTip","\u8ACB\u8F38\u5165\u7D71\u4E00\u7DE8\u865F",3,"nzSpan"],["nz-input","","formControlName","businessRegistrationNumber","placeholder","\u8ACB\u8F38\u5165\u7D71\u4E00\u7DE8\u865F"],["nzErrorTip","\u8ACB\u8F38\u5165\u5730\u5740",3,"nzSpan"],["nz-input","","formControlName","address","placeholder","\u8ACB\u8F38\u5165\u5730\u5740"],["nzErrorTip","\u8ACB\u8F38\u5165\u96FB\u8A71",3,"nzSpan"],["nz-input","","formControlName","businessPhone","placeholder","\u8ACB\u8F38\u5165\u96FB\u8A71"],[3,"nzSpan"],["nz-input","","formControlName","fax","placeholder","\u8ACB\u8F38\u5165\u50B3\u771F\u865F\u78BC"],["nz-input","","formControlName","website","placeholder","\u8ACB\u8F38\u5165\u7DB2\u7AD9\u5730\u5740"],["formControlName","status","placeholder","\u8ACB\u9078\u64C7\u72C0\u614B"],["nzValue","active","nzLabel","\u555F\u7528"],["nzValue","inactive","nzLabel","\u505C\u7528"],["nzValue","pending","nzLabel","\u5F85\u5BE9\u6838"],["formControlName","riskLevel","placeholder","\u8ACB\u9078\u64C7\u98A8\u96AA\u7B49\u7D1A"],["nzValue","low","nzLabel","\u4F4E\u98A8\u96AA"],["nzValue","medium","nzLabel","\u4E2D\u98A8\u96AA"],["nzValue","high","nzLabel","\u9AD8\u98A8\u96AA"],[1,"section-header"],["nz-button","","nzType","dashed","nzSize","small",3,"click"],["nz-icon","","nzType","plus"],[1,"empty-contacts"],[1,"form-actions"],["nz-button","","nzType","primary","nzSize","large","type","submit",3,"nzLoading"],["nz-button","","nzSize","large",3,"click"],[1,"contact-item",3,"formGroupName"],[1,"contact-header"],["nz-button","","nzType","text","nzDanger","","nzSize","small",3,"click"],["nz-icon","","nzType","delete"],["nzErrorTip","\u8ACB\u8F38\u5165\u59D3\u540D",3,"nzSpan"],["nz-input","","formControlName","name","placeholder","\u8ACB\u8F38\u5165\u806F\u7D61\u4EBA\u59D3\u540D"],["nzErrorTip","\u8ACB\u8F38\u5165\u8077\u7A31",3,"nzSpan"],["nz-input","","formControlName","title","placeholder","\u8ACB\u8F38\u5165\u8077\u7A31"],["nzErrorTip","\u8ACB\u8F38\u5165\u6709\u6548\u7684\u96FB\u5B50\u90F5\u4EF6",3,"nzSpan"],["nz-input","","formControlName","email","type","email","placeholder","\u8ACB\u8F38\u5165\u96FB\u5B50\u90F5\u4EF6"],["nz-input","","formControlName","phone","placeholder","\u8ACB\u8F38\u5165\u96FB\u8A71"],["nz-checkbox","","formControlName","isPrimary"]],template:function(e,n){e&1&&(r(0,"nz-card",0)(1,"form",1),D("ngSubmit",function(){return n.onSubmit()}),r(2,"div",2)(3,"h3",3),p(4,"\u57FA\u672C\u4FE1\u606F"),l(),r(5,"div",4)(6,"div",5)(7,"nz-form-item")(8,"nz-form-label",6),p(9,"\u516C\u53F8\u540D\u7A31"),l(),r(10,"nz-form-control",7),d(11,"input",8),l()()(),r(12,"div",5)(13,"nz-form-item")(14,"nz-form-label",6),p(15,"\u7D71\u4E00\u7DE8\u865F"),l(),r(16,"nz-form-control",9),d(17,"input",10),l()()()(),r(18,"div",4)(19,"div",5)(20,"nz-form-item")(21,"nz-form-label",6),p(22,"\u5730\u5740"),l(),r(23,"nz-form-control",11),d(24,"input",12),l()()(),r(25,"div",5)(26,"nz-form-item")(27,"nz-form-label",6),p(28,"\u96FB\u8A71"),l(),r(29,"nz-form-control",13),d(30,"input",14),l()()()(),r(31,"div",4)(32,"div",5)(33,"nz-form-item")(34,"nz-form-label",15),p(35,"\u50B3\u771F"),l(),r(36,"nz-form-control",15),d(37,"input",16),l()()(),r(38,"div",5)(39,"nz-form-item")(40,"nz-form-label",15),p(41,"\u7DB2\u7AD9"),l(),r(42,"nz-form-control",15),d(43,"input",17),l()()()(),r(44,"div",4)(45,"div",5)(46,"nz-form-item")(47,"nz-form-label",15),p(48,"\u72C0\u614B"),l(),r(49,"nz-form-control",15)(50,"nz-select",18),d(51,"nz-option",19)(52,"nz-option",20)(53,"nz-option",21),l()()()(),r(54,"div",5)(55,"nz-form-item")(56,"nz-form-label",15),p(57,"\u98A8\u96AA\u7B49\u7D1A"),l(),r(58,"nz-form-control",15)(59,"nz-select",22),d(60,"nz-option",23)(61,"nz-option",24)(62,"nz-option",25),l()()()()()(),d(63,"nz-divider"),r(64,"div",2)(65,"div",26)(66,"h3",3),p(67,"\u806F\u7D61\u4EBA\u4FE1\u606F"),l(),r(68,"button",27),D("click",function(){return n.addContact()}),d(69,"span",28),p(70," \u65B0\u589E\u806F\u7D61\u4EBA "),l()(),u(71,bc,3,0,"div",29)(72,Mc,2,0),l(),d(73,"nz-divider"),r(74,"div",30)(75,"nz-space")(76,"button",31),p(77),l(),r(78,"button",32),D("click",function(){return n.onCancel()}),p(79," \u53D6\u6D88 "),l()()()()()),e&2&&(s("nzTitle",n.formTitle),i(),s("formGroup",n.companyForm),i(4),s("nzGutter",16),i(),s("nzSpan",12),i(2),s("nzSpan",8),i(2),s("nzSpan",16),i(2),s("nzSpan",12),i(2),s("nzSpan",8),i(2),s("nzSpan",16),i(2),s("nzGutter",16),i(),s("nzSpan",12),i(2),s("nzSpan",8),i(2),s("nzSpan",16),i(2),s("nzSpan",12),i(2),s("nzSpan",8),i(2),s("nzSpan",16),i(2),s("nzGutter",16),i(),s("nzSpan",12),i(2),s("nzSpan",8),i(2),s("nzSpan",16),i(2),s("nzSpan",12),i(2),s("nzSpan",8),i(2),s("nzSpan",16),i(2),s("nzGutter",16),i(),s("nzSpan",12),i(2),s("nzSpan",8),i(2),s("nzSpan",16),i(5),s("nzSpan",12),i(2),s("nzSpan",8),i(2),s("nzSpan",16),i(13),f(n.contactsArray.length===0?71:72),i(5),s("nzLoading",n.submitting),i(),S(" ",n.isEditMode?"\u66F4\u65B0\u516C\u53F8":"\u5275\u5EFA\u516C\u53F8"," "))},dependencies:[k,we,_a,Kn,Kt,ga,Ca,xa,za,Xe,Be,Pe,$a,Wa,Ha,ja,Fe,li,Qe,Da,Ea,de,Ge,Ne,ut,fe,ue,xe,Xt,oe,se,ve,ei,$e,ya],styles:[".company-form-card[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.form-section[_ngcontent-%COMP%]{margin-bottom:24px}.section-title[_ngcontent-%COMP%]{margin-bottom:16px;color:#262626;font-weight:600}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.empty-contacts[_ngcontent-%COMP%]{text-align:center;padding:24px;color:#8c8c8c;background:#fafafa;border-radius:6px}.contact-item[_ngcontent-%COMP%]{padding:16px;border:1px solid #d9d9d9;border-radius:6px;margin-bottom:16px;background:#fafafa}.contact-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.contact-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#262626}.form-actions[_ngcontent-%COMP%]{text-align:center;padding-top:16px}nz-form-item[_ngcontent-%COMP%]{margin-bottom:16px}"],changeDetection:0});var Ri=gn;var Dc=["*"];function Ec(t,o){t&1&&ct(0)}function Nc(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m(3);i(),v(e.nzTitle)}}function wc(t,o){if(t&1&&(r(0,"div",2),_(1,Nc,2,1,"ng-container",4),l()),t&2){let e=m(2);i(),s("nzStringTemplateOutlet",e.nzTitle)}}function kc(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m(3);i(),v(e.nzExtra)}}function Fc(t,o){if(t&1&&(r(0,"div",3),_(1,kc,2,1,"ng-container",4),l()),t&2){let e=m(2);i(),s("nzStringTemplateOutlet",e.nzExtra)}}function Pc(t,o){if(t&1&&(r(0,"div",0),u(1,wc,2,1,"div",2),u(2,Fc,2,1,"div",3),l()),t&2){let e=m();i(),f(e.nzTitle?1:-1),i(),f(e.nzExtra?2:-1)}}function Bc(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m(2).$implicit;i(),S(" ",e.title," ")}}function Oc(t,o){}function Ic(t,o){if(t&1&&(r(0,"td",6)(1,"div",7)(2,"span",8),_(3,Bc,2,1,"ng-container",4),l(),r(4,"span",9),_(5,Oc,0,0,"ng-template",10),l()()()),t&2){let e=m().$implicit,n=m(3);s("colSpan",e.span),i(2),$("ant-descriptions-item-no-colon",!n.nzColon),i(),s("nzStringTemplateOutlet",e.title),i(2),s("ngTemplateOutlet",e.content)}}function Ac(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m(2).$implicit;i(),S(" ",e.title," ")}}function Vc(t,o){}function Lc(t,o){if(t&1&&(r(0,"td",8),_(1,Ac,2,1,"ng-container",4),l(),r(2,"td",11),_(3,Vc,0,0,"ng-template",10),l()),t&2){let e=m().$implicit;i(),s("nzStringTemplateOutlet",e.title),i(),s("colSpan",e.span*2-1),i(),s("ngTemplateOutlet",e.content)}}function Rc(t,o){if(t&1&&u(0,Ic,6,5,"td",6)(1,Lc,4,3),t&2){let e=m(3);f(e.nzBordered?1:0)}}function Gc(t,o){if(t&1&&(r(0,"tr",5),q(1,Rc,2,1,null,null,nt),l()),t&2){let e=o.$implicit;i(),U(e)}}function Wc(t,o){if(t&1&&q(0,Gc,3,0,"tr",5,nt),t&2){let e=m();U(e.itemMatrix)}}function $c(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m().$implicit;i(),S(" ",e.title," ")}}function jc(t,o){if(t&1&&(r(0,"td",6)(1,"div",7)(2,"span",8),_(3,$c,2,1,"ng-container",4),l()()()),t&2){let e=o.$implicit,n=m(4);s("colSpan",e.span),i(2),$("ant-descriptions-item-no-colon",!n.nzColon),i(),s("nzStringTemplateOutlet",e.title)}}function Hc(t,o){}function Qc(t,o){if(t&1&&(r(0,"td",6)(1,"div",7)(2,"span",9),_(3,Hc,0,0,"ng-template",10),l()()()),t&2){let e=o.$implicit;s("colSpan",e.span),i(3),s("ngTemplateOutlet",e.content)}}function qc(t,o){if(t&1&&(r(0,"tr",5),q(1,jc,4,4,"td",6,nt),l(),r(3,"tr",5),q(4,Qc,4,2,"td",6,nt),l()),t&2){let e=o.$implicit;i(),U(e),i(3),U(e)}}function Uc(t,o){if(t&1&&q(0,qc,6,0,null,null,nt),t&2){let e=m(2);U(e.itemMatrix)}}function Zc(t,o){if(t&1&&(I(0),p(1),A()),t&2){let e=m().$implicit;i(),S(" ",e.title," ")}}function Xc(t,o){if(t&1&&(r(0,"td",12),_(1,Zc,2,1,"ng-container",4),l()),t&2){let e=o.$implicit;s("colSpan",e.span),i(),s("nzStringTemplateOutlet",e.title)}}function Kc(t,o){}function Yc(t,o){if(t&1&&(r(0,"td",11),_(1,Kc,0,0,"ng-template",10),l()),t&2){let e=o.$implicit;s("colSpan",e.span),i(),s("ngTemplateOutlet",e.content)}}function Jc(t,o){if(t&1&&(r(0,"tr",5),q(1,Xc,2,2,"td",12,nt),l(),r(3,"tr",5),q(4,Yc,2,2,"td",11,nt),l()),t&2){let e=o.$implicit;i(),U(e),i(3),U(e)}}function em(t,o){if(t&1&&q(0,Jc,6,0,null,null,nt),t&2){let e=m(2);U(e.itemMatrix)}}function tm(t,o){if(t&1&&u(0,Uc,2,0)(1,em,2,0),t&2){let e=m();f(e.nzBordered?1:0)}}var yo=(()=>{class t{content;nzSpan=1;nzTitle="";inputChange$=new Fo;ngOnChanges(){this.inputChange$.next()}ngOnDestroy(){this.inputChange$.complete()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["nz-descriptions-item"]],viewQuery:function(n,a){if(n&1&&mt(Lo,7),n&2){let c;it(c=ot())&&(a.content=c.first)}},inputs:{nzSpan:[2,"nzSpan","nzSpan",W],nzTitle:"nzTitle"},exportAs:["nzDescriptionsItem"],features:[ce],ngContentSelectors:Dc,decls:1,vars:0,template:function(n,a){n&1&&(pt(),Go(0,Ec,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}return t})(),nm="descriptions",im={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},bo=(()=>{var H;let t,o=[],e=[],n,a=[],c=[],g,h=[],N=[],O,b=[],w=[];return H=class{nzConfigService=C(ia);cdr=C(Y);breakpointService=C(fa);directionality=C(Zt);destroyRef=C(Vn);_nzModuleName=nm;items;nzBordered=et(this,o,!1);nzLayout=(et(this,e),"horizontal");nzColumn=et(this,a,im);nzSize=(et(this,c),et(this,h,"default"));nzTitle=(et(this,N),"");nzExtra;nzColon=et(this,b,!0);itemMatrix=(et(this,w),[]);realColumn=3;dir="ltr";breakpoint=da.md;ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(Vt(this.destroyRef)).subscribe(F=>{this.dir=F})}ngOnChanges(F){F.nzColumn&&this.prepareMatrix()}ngAfterContentInit(){let F=this.items.changes.pipe(Oo(this.items));Hi(F,F.pipe(Ve(()=>Hi(...this.items.map(z=>z.inputChange$)).pipe(Bo(16)))),this.breakpointService.subscribe(ua).pipe(st(z=>this.breakpoint=z))).pipe(Vt(this.destroyRef)).subscribe(()=>{this.prepareMatrix(),this.cdr.markForCheck()})}prepareMatrix(){if(!this.items)return;let F=[],z=0,V=this.realColumn=this.getColumn(),j=this.items.toArray(),Z=j.length,Bt=[],Te=()=>{Bt.push(F),F=[],z=0};for(let he=0;he<Z;he++){let Ot=j[he],{nzTitle:Rt,content:Ae,nzSpan:at}=Ot;z+=at,z>=V?(z>V&&ta(`"nzColumn" is ${V} but we have row length ${z}`),F.push({title:Rt,content:Ae,span:V-(z-at)}),Te()):he===Z-1?(F.push({title:Rt,content:Ae,span:V-(z-at)}),Te()):F.push({title:Rt,content:Ae,span:at})}this.itemMatrix=Bt}getColumn(){return typeof this.nzColumn!="number"?this.nzColumn[this.breakpoint]:this.nzColumn}},(()=>{let F=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;t=[Sn()],n=[Sn()],g=[Sn()],O=[Sn()],vn(null,null,t,{kind:"field",name:"nzBordered",static:!1,private:!1,access:{has:z=>"nzBordered"in z,get:z=>z.nzBordered,set:(z,V)=>{z.nzBordered=V}},metadata:F},o,e),vn(null,null,n,{kind:"field",name:"nzColumn",static:!1,private:!1,access:{has:z=>"nzColumn"in z,get:z=>z.nzColumn,set:(z,V)=>{z.nzColumn=V}},metadata:F},a,c),vn(null,null,g,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:z=>"nzSize"in z,get:z=>z.nzSize,set:(z,V)=>{z.nzSize=V}},metadata:F},h,N),vn(null,null,O,{kind:"field",name:"nzColon",static:!1,private:!1,access:{has:z=>"nzColon"in z,get:z=>z.nzColon,set:(z,V)=>{z.nzColon=V}},metadata:F},b,w),F&&Object.defineProperty(H,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:F})})(),ji(H,"\u0275fac",function(z){return new(z||H)}),ji(H,"\u0275cmp",x({type:H,selectors:[["nz-descriptions"]],contentQueries:function(z,V,j){if(z&1&&$o(j,yo,4),z&2){let Z;it(Z=ot())&&(V.items=Z)}},hostAttrs:[1,"ant-descriptions"],hostVars:8,hostBindings:function(z,V){z&2&&$("ant-descriptions-bordered",V.nzBordered)("ant-descriptions-middle",V.nzSize==="middle")("ant-descriptions-small",V.nzSize==="small")("ant-descriptions-rtl",V.dir==="rtl")},inputs:{nzBordered:[2,"nzBordered","nzBordered",X],nzLayout:"nzLayout",nzColumn:"nzColumn",nzSize:"nzSize",nzTitle:"nzTitle",nzExtra:"nzExtra",nzColon:[2,"nzColon","nzColon",X]},exportAs:["nzDescriptions"],features:[ce],decls:6,vars:3,consts:[[1,"ant-descriptions-header"],[1,"ant-descriptions-view"],[1,"ant-descriptions-title"],[1,"ant-descriptions-extra"],[4,"nzStringTemplateOutlet"],[1,"ant-descriptions-row"],[1,"ant-descriptions-item",3,"colSpan"],[1,"ant-descriptions-item-container"],[1,"ant-descriptions-item-label"],[1,"ant-descriptions-item-content"],[3,"ngTemplateOutlet"],[1,"ant-descriptions-item-content",3,"colSpan"],[1,"ant-descriptions-item-label",3,"colSpan"]],template:function(z,V){z&1&&(u(0,Pc,3,2,"div",0),r(1,"div",1)(2,"table")(3,"tbody"),u(4,Wc,2,0),u(5,tm,2,1),l()()()),z&2&&(f(V.nzTitle||V.nzExtra?0:-1),i(4),f(V.nzLayout==="horizontal"?4:-1),i(),f(V.nzLayout==="vertical"?5:-1))},dependencies:[te,ee,Ut],encapsulation:2,changeDetection:0})),H})(),Wr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=G({type:t});static \u0275inj=R({imports:[bo]})}return t})();function am(t,o){if(t&1&&(r(0,"a",11),p(1),l()),t&2){let e=m(2);s("href",e.company.website,Vo),i(),S(" ",e.company.website," ")}}function rm(t,o){t&1&&p(0," \u672A\u63D0\u4F9B ")}function lm(t,o){t&1&&(r(0,"div",18),d(1,"nz-empty",26),l()),t&2&&(i(),s("nzNotFoundContent","\u66AB\u7121\u806F\u7D61\u4EBA\u4FE1\u606F"))}function sm(t,o){t&1&&(r(0,"nz-tag",29),p(1,"\u4E3B\u8981\u806F\u7D61\u4EBA"),l())}function pm(t,o){if(t&1&&(r(0,"nz-list-item")(1,"nz-list-item-meta")(2,"nz-list-item-meta-avatar"),d(3,"nz-avatar",27),l(),r(4,"nz-list-item-meta-title")(5,"nz-space",28),p(6),u(7,sm,2,0,"nz-tag",29),l()(),r(8,"nz-list-item-meta-description")(9,"nz-space",30)(10,"span"),d(11,"span",31),p(12),l(),r(13,"span"),d(14,"span",32),p(15),l(),r(16,"span"),d(17,"span",33),p(18),l()()()()()),t&2){let e=o.$implicit,n=o.index,a=m(3);i(3),Re("background-color",a.getAvatarColor(n)),s("nzText",e.name.charAt(0).toUpperCase()),i(3),S(" ",e.name," "),i(),f(e.isPrimary?7:-1),i(5),S(" ",e.title," "),i(3),S(" ",e.email," "),i(3),S(" ",e.phone," ")}}function cm(t,o){if(t&1&&(r(0,"nz-list",19),_(1,pm,19,8,"ng-template",null,0,L),l()),t&2){let e=B(2),n=m(2);s("nzDataSource",n.company.contacts)("nzRenderItem",e)("nzItemLayout","horizontal")}}function mm(t,o){if(t&1){let e=P();r(0,"div",1)(1,"nz-card",3)(2,"nz-descriptions",4)(3,"nz-descriptions-item",5),p(4),l(),r(5,"nz-descriptions-item",6),p(6),l(),r(7,"nz-descriptions-item",7),p(8),l(),r(9,"nz-descriptions-item",8),p(10),l(),r(11,"nz-descriptions-item",9),p(12),l(),r(13,"nz-descriptions-item",10),u(14,am,2,2,"a",11)(15,rm,1,0),l(),r(16,"nz-descriptions-item",12)(17,"nz-tag",13),p(18),l()(),r(19,"nz-descriptions-item",14)(20,"nz-tag",13),p(21),l()(),r(22,"nz-descriptions-item",15),p(23),y(24,"date"),l(),r(25,"nz-descriptions-item",16),p(26),y(27,"date"),l()()(),r(28,"nz-card",17),u(29,lm,2,1,"div",18)(30,cm,3,3,"nz-list",19),l(),r(31,"nz-card",20)(32,"nz-space",21)(33,"button",22),D("click",function(){T(e);let a=m();return M(a.onEdit())}),d(34,"span",23),p(35," \u7DE8\u8F2F\u516C\u53F8 "),l(),r(36,"button",24),D("click",function(){T(e);let a=m();return M(a.onBack())}),d(37,"span",25),p(38," \u8FD4\u56DE\u5217\u8868 "),l()()()()}if(t&2){let e=m();i(),s("nzTitle","\u516C\u53F8\u57FA\u672C\u4FE1\u606F"),i(),s("nzColumn",2),i(2),S(" ",e.company.companyName," "),i(2),S(" ",e.company.businessRegistrationNumber," "),i(2),S(" ",e.company.address," "),i(2),S(" ",e.company.businessPhone," "),i(2),S(" ",e.company.fax||"\u672A\u63D0\u4F9B"," "),i(2),f(e.company.website?14:15),i(3),s("nzColor",e.CompanyStatusColors[e.company.status]),i(),S(" ",e.CompanyStatusLabels[e.company.status]," "),i(2),s("nzColor",e.RiskLevelColors[e.company.riskLevel]),i(),S(" ",e.RiskLevelLabels[e.company.riskLevel]," "),i(2),S(" ",Ee(24,16,e.company.createdAt,"yyyy-MM-dd HH:mm:ss")," "),i(3),S(" ",Ee(27,19,e.company.updatedAt,"yyyy-MM-dd HH:mm:ss")," "),i(2),s("nzTitle","\u806F\u7D61\u4EBA\u4FE1\u606F"),i(),f(e.company.contacts.length===0?29:30)}}function dm(t,o){t&1&&(r(0,"div",2),d(1,"nz-empty",26),l()),t&2&&(i(),s("nzNotFoundContent","\u8ACB\u9078\u64C7\u516C\u53F8\u67E5\u770B\u8A73\u60C5"))}var hn=class hn{constructor(){this.company=null;this.CompanyStatusLabels=pi;this.RiskLevelLabels=ci;this.CompanyStatusColors=mi;this.RiskLevelColors=di}onEdit(){console.log("\u7DE8\u8F2F\u516C\u53F8:",this.company?.id)}onBack(){console.log("\u8FD4\u56DE\u5217\u8868")}getAvatarColor(o){let e=["#1890ff","#52c41a","#faad14","#f5222d","#722ed1","#13c2c2"];return e[o%e.length]}};hn.\u0275fac=function(e){return new(e||hn)},hn.\u0275cmp=x({type:hn,selectors:[["app-company-detail"]],inputs:{company:"company"},decls:2,vars:1,consts:[["contactItem",""],[1,"company-detail-container"],[1,"no-company"],[1,"info-card",3,"nzTitle"],["nzBordered","",3,"nzColumn"],["nzTitle","\u516C\u53F8\u540D\u7A31"],["nzTitle","\u7D71\u4E00\u7DE8\u865F"],["nzTitle","\u5730\u5740"],["nzTitle","\u96FB\u8A71"],["nzTitle","\u50B3\u771F"],["nzTitle","\u7DB2\u7AD9"],["target","_blank",1,"website-link",3,"href"],["nzTitle","\u72C0\u614B"],[3,"nzColor"],["nzTitle","\u98A8\u96AA\u7B49\u7D1A"],["nzTitle","\u5275\u5EFA\u6642\u9593"],["nzTitle","\u66F4\u65B0\u6642\u9593"],[1,"contacts-card",3,"nzTitle"],[1,"empty-contacts"],[3,"nzDataSource","nzRenderItem","nzItemLayout"],[1,"actions-card"],["nzSize","middle"],["nz-button","","nzType","primary","nzSize","large",3,"click"],["nz-icon","","nzType","edit"],["nz-button","","nzSize","large",3,"click"],["nz-icon","","nzType","arrow-left"],["nzNotFoundImage","simple",3,"nzNotFoundContent"],[3,"nzText"],["nzSize","small"],["nzColor","blue","nzSize","small"],["nzSize","small","nzDirection","vertical"],["nz-icon","","nzType","user","nzTheme","outline"],["nz-icon","","nzType","mail","nzTheme","outline"],["nz-icon","","nzType","phone","nzTheme","outline"]],template:function(e,n){e&1&&u(0,mm,39,22,"div",1)(1,dm,2,1,"div",2),e&2&&f(n.company?0:1)},dependencies:[k,fe,ue,ke,Jn,xe,Xt,oe,se,de,Ge,Ne,ut,ve,Wr,bo,yo,Ke,Yt,Ye,Jt,en,si,tr,nr,ir,ri,ai,$n],styles:[".company-detail-container[_ngcontent-%COMP%]{padding:16px;max-width:1000px;margin:0 auto}.info-card[_ngcontent-%COMP%], .contacts-card[_ngcontent-%COMP%], .actions-card[_ngcontent-%COMP%]{margin-bottom:16px}.empty-contacts[_ngcontent-%COMP%], .no-company[_ngcontent-%COMP%]{padding:40px;text-align:center}.website-link[_ngcontent-%COMP%]{color:#1890ff;text-decoration:none}.website-link[_ngcontent-%COMP%]:hover{text-decoration:underline}nz-descriptions-item[_ngcontent-%COMP%]{padding:12px 16px}nz-list-item[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid #f0f0f0}nz-list-item[_ngcontent-%COMP%]:last-child{border-bottom:none}"],changeDetection:0});var $r=hn;var _n=class _n{constructor(){}};_n.\u0275fac=function(e){return new(e||_n)},_n.\u0275cmp=x({type:_n,selectors:[["app-task-list"]],decls:6,vars:0,consts:[[1,"task-list-container"],[1,"task-list-content"]],template:function(e,n){e&1&&(re(0,"div",0)(1,"h2"),p(2,"\u4EFB\u52D9\u7BA1\u7406"),le(),re(3,"div",1)(4,"p"),p(5,"\u4EFB\u52D9\u5217\u8868\u9801\u9762 - DDD\u67B6\u69CB"),le()()())},dependencies:[k],styles:[".task-list-container[_ngcontent-%COMP%]{padding:24px}.task-list-content[_ngcontent-%COMP%]{margin-top:16px}"]});var Cn=_n;var zn=class zn{constructor(){}};zn.\u0275fac=function(e){return new(e||zn)},zn.\u0275cmp=x({type:zn,selectors:[["app-task-detail"]],decls:6,vars:0,consts:[[1,"task-detail-container"],[1,"task-detail-content"]],template:function(e,n){e&1&&(re(0,"div",0)(1,"h2"),p(2,"\u4EFB\u52D9\u8A73\u60C5"),le(),re(3,"div",1)(4,"p"),p(5,"\u4EFB\u52D9\u8A73\u60C5\u9801\u9762 - DDD\u67B6\u69CB"),le()()())},dependencies:[k],styles:[".task-detail-container[_ngcontent-%COMP%]{padding:24px}.task-detail-content[_ngcontent-%COMP%]{margin-top:16px}"]});var Gi=zn;var xn=class xn{constructor(){}};xn.\u0275fac=function(e){return new(e||xn)},xn.\u0275cmp=x({type:xn,selectors:[["app-task-edit"]],decls:6,vars:0,consts:[[1,"task-edit-container"],[1,"task-edit-content"]],template:function(e,n){e&1&&(re(0,"div",0)(1,"h2"),p(2,"\u4EFB\u52D9\u7DE8\u8F2F"),le(),re(3,"div",1)(4,"p"),p(5,"\u4EFB\u52D9\u7DE8\u8F2F\u9801\u9762 - DDD\u67B6\u69CB"),le()()())},dependencies:[k],styles:[".task-edit-container[_ngcontent-%COMP%]{padding:24px}.task-edit-content[_ngcontent-%COMP%]{margin-top:16px}"]});var Wi=xn;var Rh=[{path:"",redirectTo:"v1",pathMatch:"full"},{path:"v1",component:Bi},{path:"analysis",component:yi},{path:"monitor",component:Pi},{path:"workplace",component:Ii},{path:"contract-management",children:[{path:"",component:lr},{path:"create",component:sr}]},{path:"task-management",component:Cn},{path:"budget-management",component:mn},{path:"business-partner",component:Ri},{path:"personnel-management",component:pr},{path:"project-management",component:cr},{path:"site-management",component:mr}];export{Rh as routes};
